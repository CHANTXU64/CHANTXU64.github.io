"use strict";function l(e,t,a){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:l(i,t,a)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(a):void 0}var e=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e};function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
/** copyright info
 * [GF_logistics]{@link https://github.com/CHANTXU64/Girls-Frontline}
 *
 * @namespace GF_logistics
 * @version 1.3.0-alpha
 * @author ChantXu64 [chantxu@outlook.com]
 * @copyright ChantXu64
 * @license MIT
 */window.onerror=function(e,t,a,n,i){console.error("错误信息："+e+", 出错文件："+t+", 出错文件："+t+", 出错行号："+a+", 出错列号："+n+", 错误详情："+i)};var f=void 0,i={name:"简体中文",lang:"zh-Hans",version_note_lang:"zh_CN",title:"少女前线-后勤组合排序器",cssClass:"zh-Hans",otherLangCssClass:["zh-Hant","en"],help_wiki:"https://github.com/CHANTXU64/Girls-Frontline/wiki/%E4%BD%BF%E7%94%A8%E5%B8%AE%E5%8A%A9",HTML:{Modal_footer_button_ok:"确定",Modal_footer_button_cancel:"取消",header:"后勤组合排序器 ",Config_text:"全局数据",warn_ancient_browser:"你的浏览器似乎已经过时，很多功能无法使用，请使用最新的Chrome或Firefox浏览器。",description_text:"计算结果只和资源（或契约）之间的比例有关。计算结果为均值。",localstorageDoesNotWork:"因某些原因，Web存储无法工作，需要手动导出配置",localstorageWarning_text:"网页使用Web存储，清除浏览器缓存会导致数据清除，请定期手动导出并保存你的数据。",setting:"设置",Tab_Anytime_name:"连续后勤",Tab_Timetable_name:"时间计划表",tab_Anytime_time:"后勤总时长",tab_Anytime_hour:"小时",tab_Anytime_minute:"分钟",tab_Anytime_MinimumIntervalTime:"最短间隔时间",tab_Anytime_MinimumIntervalTime_minute:"分钟",tab_Timetable_time:"后勤总时长",tab_Timetable_hour:"小时",tab_Timetable_minute:"分钟",tab_Timetable_addtimeh5:"新添加一个收取后勤时间点:",tab_Timetable_new_hour:"小时",tab_Timetable_new_minute:"分钟",h4GreatSuccessRate:"后勤队伍平均大成功概率",h4ChapterLimit:"章节解锁",Display_PerHour_text:"以每小时显示",Display_Total_text:"以总计显示",setTarget_saved_dropdown:"自定义需求量",setTarget_noSaved:"无自定义需求量",setTarget_saved_button:"保存",ContractWeight_notImportant:"资源更重要",ContractWeight_Important:"契约更重要",start_ranking:"开始排序",clear_ranking:"清除排序结果",result:"排序结果",setTarget_Clear:"清零",MissionTable_Title:"关卡",MissionTable_head_Mission:"关卡",MissionTable_head_Time:"时间",PlanDetailsTitle:"方案详情",PlanDetails_Mission:"关卡",PlanDetails_Time:"时间",savePlan:"保存方案",Capture:"捕获",PlanDetails_InputStartTime_label:"后勤开始时间",PlanDetails_InputExecutionTimes_label:"后勤执行次数",Saved_Title:"已保存的",NoSaved:"空",start_ranking_html:'点击 <span style="color:#007bff">开始排序</span> 按钮，排序前十六的结果将在这里显示',permanentAddress:"永久地址: ",OfflineVersion:"下载离线版本",Plan_Combination_title:"方案组合",PlanCombination_startDate_label:"开始日期",PlanCombination_endDate_label:"结束日期",PC_current_title:"现有量-开始日期的量",PC_deleteAllPlans:"删除所有方案",PC_saveAll:"保存所有后勤方案",PC_deletePlan:"删除选中的方案",PC_Ranking_card_title:"后勤方案组合排序",calcTargetValueTool_title:"需求量计算工具",PC_targetValue_h5:"目标量-结束日期的量",PC_calcDemand:"计算需求量",PC_demandValue_h5:"需求量",PC_startRanking:"开始后勤方案组合排序",consumption_saved_dropdown:"自定义",consumption_noSaved:"无自定义内容",consumption_saved_button:"保存",Consumption_reset:"清零",Consumption_times_label:"每日执行次数",Consumption_add:"添加",consumption_times_th:"次数",consumption_action_th:"操作",DateTimePeriod:"该方案时间段",PlanCombination_planStartDate_label:"开始日期",PlanCombination_planEndDate_label:"结束日期",addNewTimePeriod:"添加",deleteAllTimePeriod:"清除",PC_addLogisticsPlan:"添加新的后勤方案",PC_addConsumptionPlan:"添加新的其他收支方案",CommanderLevel_text:"输入指挥官等级会考虑资源自然恢复",PC_calcDemand_description:"计算会考虑现有量、目标量、其他收支方案，但不会考虑资源自然恢复。",PC_demand_description:"与普通模式排序不同，该排序结果与所有资源、契约的比值有关，不能再输入如2, 2, 2, 1, 1, 0, 0, 0这样的数值，而应输入600, 600, 600, 300, 1, 0, 0, 0或6, 6, 6, 3, 0.01, 0, 0这样的数值。",Logistics_setting_title:"后勤方案设置",Consumption_setting_title:"其他收支方案设置",LogisticsConsumptionPlanSwitch_label:"切换后勤或其他收支方案",PlanCombinationSwitch_label:"后勤方案组合模式"},HTMLJS:{placeholder:{Config_importInput:"需要导入的配置",Config_exportInput:"导出的配置",Time_Anytime_hours:"总时长小时数",Time_Anytime_minutes:"总时长分钟数",Tab_Anytime_MinimumIntervalTime_minutes:"最小时间间隔分钟数",Time_Timetable_hours:"总时长小时数",Time_Timetable_minutes:"总时长分钟数",Tab_Timetable_new_hours:"新时间点小时数",Tab_Timetable_new_minutes:"新时间点分钟数",GreatSuccessRate:"大成功基础概率",importSaved_input:"需要导入的方案",exportSaved_input:"导出的方案",renameSaved_input:"新的名称",PlanDetails_InputExecutionTimes:"后勤执行次数",CommanderLevel:"指挥官等级"},title:{help:"帮助",Config_importButton:"导入全局数据",Config_export:"导出全局数据",neverShowAgain_description:"关闭，不再显示",neverShowAgain_localstorageWarning:"关闭，不再显示",tab_Timetable_deleteall:"删除全部时间点",Tab_Timetable_AddNewTimePoint:"添加一个收取后勤时间点",GreatSuccessRateUp_btn:"后勤大成功UP",ChapterLimit:"最大已解锁的战役章节",ContractWeight:"契约权重",Target_minus_100_MT:"人力需求量减少100",Target_minus_10_MT:"人力需求量减少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"弹药需求量减少100",Target_minus_10_AT:"弹药需求量减少10",Target_plus_10_AT:"弹药需求量增加10",Target_plus_100_AT:"弹药需求量增加100",Target_minus_100_RT:"口粮需求量减少100",Target_minus_10_RT:"口粮需求量减少10",Target_plus_10_RT:"口粮需求量增加10",Target_plus_100_RT:"口粮需求量增加100",Target_minus_100_PT:"零件需求量减少100",Target_minus_10_PT:"零件需求量减少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量减少1",Target_minus_01_TT:"人形需求量减少0.1",Target_plus_01_TT:"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"装备需求量减少1",Target_minus_01_ET:"装备需求量减少0.1",Target_plus_01_ET:"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量减少1",Target_minus_01_QPT:"快建需求量减少0.1",Target_plus_01_QPT:"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量减少1",Target_minus_01_QRT:"快修需求量减少0.1",Target_plus_01_QRT:"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"导入数据",exportSaved_button:"导出方案",renameSaved_button:"重命名方案",renameSaved_applyButton:"确认",moveSaved_up:"将该方案往上移动一行",moveSaved_down:"将该方案往下移动一行",deleteSaved:"删除这个方案"},Demand_hour:"平均每小时需求量",Demand_total:"总需求量",Timetable_deletePoint:"删除这个时间点",FineTuning_minus:"减小需求量",FineTuning_plus:"增大需求量"},JS:{release_notes_title:"发布版本",alertTitle_warning:"警告",chapter_start:"第",chapter_end:"战役",number:function(e){for(var t=["零","一","二","三","四","五","六","七","八","九","十"],a=["","十","百","千","万","十万","百万","千万","亿"],n="",i=""+e,r=i.length,o=0;o<i.length;o++){var s=i[o]-"0",l=r-o-1;if(0==s){if("0"===i[o-1]||o===i.length-1)continue;n+=4<=l&&0==l%4?a[l]:t[s]}else n+=t[s],2===i.length&&"1"===i[0]&&0===o&&(n=""),n+=0==l%4?a[l]:a[l%4]}return n},Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",FineTuningManp:"人力",FineTuningAmmu:"弹药",FineTuningRati:"口粮",FineTuningPart:"零件",FineTuningTPro:"人形",FineTuningEqui:"装备",FineTuningQPro:"快建",FineTuningQRes:"快修",FineTuningTool:"微调工具",TargetValue0_alert:"需求不能全为0！",tab_Anytime_alert1:"总时长不能为0！",tab_Timetable_alert1:"不需要在后勤开始点再添加收取时间点",tab_Timetable_alert2:"添加的收取时间点不能超过最大时限",tab_Timetable_alert3:"已经添加过这个收取时间点",tab_Timetable_alert4:"总时长不能为0！",Mission:"关卡",MinIntervalTime:"最短间隔",NoPlan:"没有合适的方案",NoMission:"没有可用的关卡",PlanDetails_calculateMethod:"计算方式",total_time:"总时长",total_greatSuccessRate:"大成功总概率",PerHour:"平均/h",Total:"总计",ExecutionTimes:"执行次数",plzInputPlanName:"请输入方案名称",planDefaultName:"自定义",deleteSavedWarning_1:"是否要删除这个名为",deleteSavedWarning_2:"的配置？",Saved_alert:"导入的数据有问题！",Saved_alert2:"保存的数量过多，不能再添加",Saved_prompt_title:"方案名称",Saved_invalidNameFeedback1:"请填入方案名称。",Saved_invalidNameFeedback2:"方案名称太长了。",config_alert:"这将会覆盖现有所有的数据，是否要继续？",FailedWindowLoadWarn:"可能由于Web存储数据不正确, 导致网页崩溃. 您可以将下面的数据报告到GitHub或发送邮件到chantxu@outlook.com",PCTimeAlert1:"请输入开始日期和结束日期。",PCTimeAlert2:"时间范围不正确。",PC_L_alert1:"请添加该方案时间段。",PC_L_alert2_1:"在",PC_L_alert2_2:"，执行的后勤总时间将超过24小时。添加失败。",PC_L_alert3:"添加的方案太多了，添加失败。",PC_C_alert2_1:"在",PC_C_alert2_2:"，已添加过其他收支方案。添加失败。",PC_deleteAll_confirm:"是否要删除所有方案？",PC_saveAll_confirm:"是否要保存所有后勤方案？",PC_ranking_add_alert:"请先添加后勤方案再开始排序。",PC_ranking_done:"排序完成！",PC_ranking_alert2:"由于需求量比例不恰当或方案设置等原因导致没有排序结果。",PC_ranking_alert3_1:"由于需求量比例不恰当或方案设置等原因导致",PC_ranking_alert3_2:"个后勤方案没有排序结果。",resource:"资源量",contract:"契约量",delete_:"删除",apply:"应用",chartTooltip_L:"后勤方案",chartTooltip_C:"其他收支方案",C_preset:"预设",C_preset_0:"日常全勤",C_preset_1:"周常全勤",C_preset_2:"前进营地8:00",C_preset_3:"500*4妖精",C_preset_4:"2021妖精",C_preset_5:"0221妖精",C_preset_6:"2221妖精",C_preset_7:"7-1自律",C_preset_8:"7-4自律",C_preset_9:"11-5自律",C_preset_10:"手枪建造",C_preset_11:"冲锋枪建造",C_preset_12:"步枪建造",C_preset_13:"自动步枪建造",C_preset_14:"机枪建造",C_preset_15:"霰弹枪建造",C_preset_16:"瞄具建造",C_preset_17:"披风消音器建造",C_preset_18:"外骨骼建造",C_preset_19:"空尖弹霰弹建造",C_preset_20:"高速弹建造",C_preset_21:"穿甲弹建造",C_preset_22:"弹药箱建造",C_preset_23:"插板建造",C_preset_24:"夜视仪建造",consumption_total_td:"单日总计",PC_changeStart_prompt_1:"输入新的开始日期",PC_changeStart_prompt_2:"更改开始日期",PC_changeStart_prompt_3:"请输入正确的开始日期。",PC_changeStart_prompt_4:"开始日期应该小于结束日期。",PC_changeEnd_prompt_1:"输入新的结束日期",PC_changeEnd_prompt_2:"更改结束日期",PC_changeEnd_prompt_3:"请输入正确的结束日期。",PC_changeEnd_prompt_4:"结束日期应该大于开始日期。",plzInputTargetName:"请输入自定义需求量名称",TargetSaved_prompt_title:"自定义需求量名称",TargetSaved_invalidNameFeedback1:"请填入名称。",TargetSaved_invalidNameFeedback2:"名称太长了。",plzInputConsumptionName:"请输入自定义的名称",ConsumptionSaved_prompt_title:"自定义的名称"},html_class:{Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修"},placeholder_class:{Manp_placeholder:"人力",Ammu_placeholder:"弹药",Rati_placeholder:"口粮",Part_placeholder:"零件",TPro_placeholder:"人形制造",Equi_placeholder:"装备制造",QPro_placeholder:"快速建造",QRes_placeholder:"快速修复"}},r={name:"繁體中文",lang:"zh-Hant",version_note_lang:"zh_TW",title:"少女前線-後勤組合排序器",cssClass:"zh-Hant",otherLangCssClass:["zh-Hans","en"],help_wiki:"https://github.com/CHANTXU64/Girls-Frontline/wiki/%E4%BD%BF%E7%94%A8%E5%B9%AB%E5%8A%A9",HTML:{Modal_footer_button_ok:"確定",Modal_footer_button_cancel:"取消",header:"後勤組合排序器 ",Config_text:"全局數據",warn_ancient_browser:"你的瀏覽器似乎已經過時，很多功能無法使用，請使用最新的Chrome或Firefox瀏覽器。",description_text:"計算結果只和資源（或契約）之間的比例有關。計算結果為期望值。",localstorageDoesNotWork:"因某些原因，Web存儲無法工作，需要手動導出配置",localstorageWarning_text:"網頁使用Web存儲，清除瀏覽器緩存會導致數據清除，請定期手動導出並保存你的數據。",setting:"設置",Tab_Anytime_name:"連續後勤",Tab_Timetable_name:"時間計劃表",tab_Anytime_time:"後勤總時長",tab_Anytime_hour:"小時",tab_Anytime_minute:"分鐘",tab_Anytime_MinimumIntervalTime:"最短間隔時間",tab_Anytime_MinimumIntervalTime_minute:"分鐘",tab_Timetable_time:"後勤總時長",tab_Timetable_hour:"小時",tab_Timetable_minute:"分鐘",tab_Timetable_addtimeh5:"新添加一個收取後勤時間點:",tab_Timetable_new_hour:"小時",tab_Timetable_new_minute:"分鐘",h4GreatSuccessRate:"後勤隊伍平均大成功概率",h4ChapterLimit:"章節解鎖",Display_PerHour_text:"以每小時顯示",Display_Total_text:"以總計顯示",setTarget_saved_dropdown:"自定義需求量",setTarget_noSaved:"無自定義需求量",setTarget_saved_button:"保存",ContractWeight_notImportant:"資源更重要",ContractWeight_Important:"契約更重要",start_ranking:"開始排序",clear_ranking:"清除排序結果",result:"排序結果",setTarget_Clear:"清零",MissionTable_Title:"關卡",MissionTable_head_Mission:"關卡",MissionTable_head_Time:"時間",PlanDetailsTitle:"方案詳情",PlanDetails_Mission:"關卡",PlanDetails_Time:"時間",savePlan:"保存方案",Capture:"捕獲",PlanDetails_InputStartTime_label:"後勤開始時間",PlanDetails_InputExecutionTimes_label:"執行次數",Saved_Title:"已保存的",NoSaved:"空",start_ranking_html:'點擊 <span style="color:#007bff">開始排序</span> 按鈕，排序前十六的結果將在這裡顯示',permanentAddress:"永久地址: ",OfflineVersion:"下載離線版本",Plan_Combination_title:"方案組合",PlanCombination_startDate_label:"開始日期",PlanCombination_endDate_label:"結束日期",PC_current_title:"現有量-開始日期的量",PC_deleteAllPlans:"刪除所有方案",PC_saveAll:"保存所有後勤方案",PC_deletePlan:"刪除選中的方案",PC_Ranking_card_title:"後勤方案組合排序",calcTargetValueTool_title:"需求量計算工具",PC_targetValue_h5:"目標量-結束日期的量",PC_calcDemand:"計算需求量",PC_demandValue_h5:"需求量",PC_startRanking:"開始後勤方案組合排序",consumption_saved_dropdown:"自定義",consumption_noSaved:"無自定義內容",consumption_saved_button:"保存",Consumption_reset:"清零",Consumption_times_label:"每日執行次數",Consumption_add:"添加",consumption_times_th:"次數",consumption_action_th:"操作",DateTimePeriod:"該方案時間段",PlanCombination_planStartDate_label:"開始日期",PlanCombination_planEndDate_label:"結束日期",addNewTimePeriod:"添加",deleteAllTimePeriod:"清除",PC_addLogisticsPlan:"添加後勤方案",PC_addConsumptionPlan:"添加其他收支方案",CommanderLevel_text:"輸入指揮官等級會考慮資源自然恢復",PC_calcDemand_description:"計算會考慮現有量、目標量、其他收支方案，但不會考慮資源自然恢復。",PC_demand_description:"與普通模式排序不同，該排序結果與所有資源、契約的比值有關，不能再輸入如2, 2, 2, 1, 1, 0, 0, 0這樣的數值，而應輸入600, 600, 600, 300, 1, 0, 0, 0或6, 6, 6, 3, 0.01, 0, 0這樣的數值。",Logistics_setting_title:"後勤方案設置",Consumption_setting_title:"其他收支方案設置",LogisticsConsumptionPlanSwitch_label:"切換後勤或其他收支方案",PlanCombinationSwitch_label:"後勤方案組合模式"},HTMLJS:{placeholder:{Config_importInput:"需要導入的配置",Config_exportInput:"導出的配置",Time_Anytime_hours:"總時長小時數",Time_Anytime_minutes:"總時長分鐘數",Tab_Anytime_MinimumIntervalTime_minutes:"最小時間間隔分鐘數",Time_Timetable_hours:"總時長小時數",Time_Timetable_minutes:"總時長分鐘數",Tab_Timetable_new_hours:"新時間點小時數",Tab_Timetable_new_minutes:"新時間點分鐘數",GreatSuccessRate:"大成功基礎概率",importSaved_input:"需要導入的方案",exportSaved_input:"導出的方案",renameSaved_input:"新的名稱",PlanDetails_InputExecutionTimes:"後勤執行次數",CommanderLevel:"指揮官等級"},title:{help:"幫助",Config_importButton:"導入全局數據",Config_export:"導出全局數據",neverShowAgain_description:"關閉，不再顯示",neverShowAgain_localstorageWarning:"關閉，不再顯示",tab_Timetable_deleteall:"刪除全部時間點",Tab_Timetable_AddNewTimePoint:"添加一個收取後勤時間點",GreatSuccessRateUp_btn:"後勤大成功UP",ChapterLimit:"最大已解鎖的戰役章節",ContractWeight:"契約權重",Target_minus_100_MT:"人力需求量減少100",Target_minus_10_MT:"人力需求量減少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"彈藥需求量減少100",Target_minus_10_AT:"彈藥需求量減少10",Target_plus_10_AT:"彈藥需求量增加10",Target_plus_100_AT:"彈藥需求量增加100",Target_minus_100_RT:"口糧需求量減少100",Target_minus_10_RT:"口糧需求量減少10",Target_plus_10_RT:"口糧需求量增加10",Target_plus_100_RT:"口糧需求量增加100",Target_minus_100_PT:"零件需求量減少100",Target_minus_10_PT:"零件需求量減少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量減少1",Target_minus_01_TT:"人形需求量減少0.1",Target_plus_01_TT:"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"裝備需求量減少1",Target_minus_01_ET:"裝備需求量減少0.1",Target_plus_01_ET:"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量減少1",Target_minus_01_QPT:"快建需求量減少0.1",Target_plus_01_QPT:"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量減少1",Target_minus_01_QRT:"快修需求量減少0.1",Target_plus_01_QRT:"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"導入數據",exportSaved_button:"導出方案",renameSaved_button:"重命名方案",renameSaved_applyButton:"確認",moveSaved_up:"將該方案往上移動一行",moveSaved_down:"將該方案往下移動一行",deleteSaved:"刪除這個方案"},Demand_hour:"平均每小時需求量",Demand_total:"總需求量",Timetable_deletePoint:"刪除這個時間點",FineTuning_minus:"減小需求量",FineTuning_plus:"增大需求量"},JS:{release_notes_title:"發布版本",alertTitle_warning:"警告",chapter_start:"第",chapter_end:"戰役",number:function(e){for(var t=["零","一","二","三","四","五","六","七","八","九","十"],a=["","十","百","千","萬","十萬","百萬","千萬","億"],n="",i=""+e,r=i.length,o=0;o<i.length;o++){var s=i[o]-"0",l=r-o-1;if(0==s){if("0"===i[o-1]||o===i.length-1)continue;n+=4<=l&&0==l%4?a[l]:t[s]}else n+=t[s],2===i.length&&"1"===i[0]&&0===o&&(n=""),n+=0==l%4?a[l]:a[l%4]}return n},Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",FineTuningManp:"人力",FineTuningAmmu:"彈藥",FineTuningRati:"口糧",FineTuningPart:"零件",FineTuningTPro:"人形",FineTuningEqui:"裝備",FineTuningQPro:"快建",FineTuningQRes:"快修",FineTuningTool:"微調工具",TargetValue0_alert:"需求不能全為0！",tab_Anytime_alert1:"總時長不能為0！",tab_Timetable_alert1:"不需要在後勤開始點再添加收取時間點",tab_Timetable_alert2:"添加的收取時間點不能超過最大時限",tab_Timetable_alert3:"已經添加過這個收取時間點",tab_Timetable_alert4:"總時長不能為0！",Mission:"關卡",MinIntervalTime:"最短間隔",NoPlan:"沒有合適的方案",NoMission:"沒有可用的關卡",PlanDetails_calculateMethod:"計算方式",total_time:"總時長",total_greatSuccessRate:"大成功總概率",PerHour:"平均/h",Total:"總計",ExecutionTimes:"執行次數",plzInputPlanName:"請輸入方案名稱",planDefaultName:"自定義",deleteSavedWarning_1:"是否要刪除這個名為",deleteSavedWarning_2:"的配置？",Saved_alert:"導入的數據有問題！",Saved_alert2:"保存的數量過多，不能再添加",Saved_prompt_title:"方案名稱",Saved_invalidNameFeedback1:"請填入方案名稱。",Saved_invalidNameFeedback2:"方案名稱太長了。",config_alert:"這將會覆蓋現有所有的數據，是否要繼續？",FailedWindowLoadWarn:"可能由於Web存儲數據不正確, 導致網頁崩潰. 您可以將下面的數據報告到GitHub或發​​送郵件到chantxu@outlook.com",PCTimeAlert1:"請輸入開始日期和結束日期。",PCTimeAlert2:"時間範圍不正確。",PC_L_alert1:"請添加該方案時間段。",PC_L_alert2_1:"在",PC_L_alert2_2:"，執行的後勤總時間將超過24小時。添加失敗。",PC_L_alert3:"添加的方案太多了，添加失敗。",PC_C_alert2_1:"在",PC_C_alert2_2:"，已添加過其他收支方案。添加失敗。",PC_deleteAll_confirm:"是否要刪除所有方案？",PC_saveAll_confirm:"是否要保存所有後勤方案？",PC_ranking_add_alert:"請先添加後勤方案再開始排序。",PC_ranking_done:"排序完成！",PC_ranking_alert2:"由於需求量比例不恰當或方案設置等原因導致沒有排序結果。",PC_ranking_alert3_1:"由於需求量比例不恰當或方案設置等原因導致",PC_ranking_alert3_2:"個後勤方案沒有排序結果。",resource:"資源量",contract:"契約量",delete_:"刪除",apply:"應用",chartTooltip_L:"後勤方案",chartTooltip_C:"其他收支方案",C_preset:"預設",C_preset_0:"日常全勤",C_preset_1:"周常全勤",C_preset_2:"前進營地8:00",C_preset_3:"500*4妖精",C_preset_4:"2021妖精",C_preset_5:"0221妖精",C_preset_6:"2221妖精",C_preset_7:"7-1自律",C_preset_8:"7-4自律",C_preset_9:"11-5自律",C_preset_10:"手槍建造",C_preset_11:"衝鋒槍建造",C_preset_12:"步槍建造",C_preset_13:"自動步槍建造",C_preset_14:"機槍建造",C_preset_15:"霰彈槍建造",C_preset_16:"瞄具建造",C_preset_17:"披風消音器建造",C_preset_18:"外骨骼建造",C_preset_19:"空尖彈霰彈建造",C_preset_20:"高速彈建造",C_preset_21:"穿甲彈建造",C_preset_22:"彈藥箱建造",C_preset_23:"插板建造",C_preset_24:"夜視儀建造",consumption_total_td:"單日總計",PC_changeStart_prompt_1:"輸入新的開始日期",PC_changeStart_prompt_2:"更改開始日期",PC_changeStart_prompt_3:"請輸入正確的開始日期。",PC_changeStart_prompt_4:"開始日期應該小於結束日期。",PC_changeEnd_prompt_1:"輸入新的結束日期",PC_changeEnd_prompt_2:"更改結束日期",PC_changeEnd_prompt_3:"請輸入正確的結束日期。",PC_changeEnd_prompt_4:"結束日期應該大於開始日期。",plzInputTargetName:"請輸入自定義需求量名稱",TargetSaved_prompt_title:"自定義需求量名稱",TargetSaved_invalidNameFeedback1:"請填入名稱。",TargetSaved_invalidNameFeedback2:"名稱太長了。",plzInputConsumptionName:"請輸入自定義的名稱",ConsumptionSaved_prompt_title:"自定義的名稱"},html_class:{Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修"},placeholder_class:{Manp_placeholder:"人力",Ammu_placeholder:"彈藥",Rati_placeholder:"口糧",Part_placeholder:"零件",TPro_placeholder:"人形製造",Equi_placeholder:"裝備製造",QPro_placeholder:"快速建造",QRes_placeholder:"快速修復"}},o={name:"English",lang:"en",version_note_lang:"en",title:"Girls' Frontline Logistics Combination Calculator",cssClass:"en",otherLangCssClass:["zh-Hans","zh-Hant"],help_wiki:"https://github.com/CHANTXU64/Girls-Frontline/wiki/Help",HTML:{Modal_footer_button_ok:"OK",Modal_footer_button_cancel:"Cancel",header:"Logistics Combination Calculator ",Config_text:"All configurations",warn_ancient_browser:"Your browser seems to be outdated and many functions are not available. Please use the latest Chrome or Firefox browser.",description_text:"The calculation results are only related to the ratio of resources (or contracts). The calculation results are expected value.",localstorageDoesNotWork:"For some reason, Web storage doesn't work, you need to manually export the configurations.",localstorageWarning_text:"The pages use Web storage. Clearing the browser cache will cause all data to be cleared. Please manually export and save your data regularly.",setting:"Setting",Tab_Anytime_name:"Continuous",Tab_Timetable_name:"Timetable",tab_Anytime_time:"Total Logistics Time",tab_Anytime_hour:"hr",tab_Anytime_minute:"min",tab_Anytime_MinimumIntervalTime:"Minimum Interval Time",tab_Anytime_MinimumIntervalTime_minute:"min",tab_Timetable_time:"Total Logistics Time",tab_Timetable_hour:"hr",tab_Timetable_minute:"min",tab_Timetable_addtimeh5:"Add a new deployment logistics time point:",tab_Timetable_new_hour:"hr",tab_Timetable_new_minute:"min",h4GreatSuccessRate:"Average Great Success Rate",h4ChapterLimit:"Unlocked chapter",Display_PerHour_text:"Hourly",Display_Total_text:"Total",setTarget_saved_dropdown:"Custom Demand",setTarget_noSaved:"No custom demand",setTarget_saved_button:"Save",ContractWeight_notImportant:"Contract Weight:<br>0",ContractWeight_Important:"<br>100",start_ranking:"Start Ranking",clear_ranking:"Clear Ranking Results",result:"Ranking Results",setTarget_Clear:"Clear",MissionTable_Title:"Missions",MissionTable_head_Mission:"Mission",MissionTable_head_Time:"Time",PlanDetailsTitle:"Plan Details",PlanDetails_Mission:"Mission",PlanDetails_Time:"Time",savePlan:"Save Plan",Capture:"Capture",PlanDetails_InputStartTime_label:"Start Time",PlanDetails_InputExecutionTimes_label:"Execution Times",Saved_Title:"Saved Plan",NoSaved:"No Saved Plan",start_ranking_html:'Click <span style="color:#007bff">Start Ranking</span> button, top sixteen results will display here',permanentAddress:"Address: ",OfflineVersion:"Download offline version",Plan_Combination_title:"Plan Combination",PlanCombination_startDate_label:"Start Date",PlanCombination_endDate_label:"End Date",PC_current_title:"Current quantity - Start date",PC_deleteAllPlans:"Delete all plans",PC_saveAll:"Save all logistics plans",PC_deletePlan:"Delete the selected plan",PC_Ranking_card_title:"Logistics plans combination ranking",calcTargetValueTool_title:"Demand calculation tool",PC_targetValue_h5:"Target quantity - End date",PC_calcDemand:"Calculate demand",PC_demandValue_h5:"Demand quantity",PC_startRanking:"Start Ranking",consumption_saved_dropdown:"Custom",consumption_noSaved:"No custom content",consumption_saved_button:"Save",Consumption_reset:"Clear",Consumption_times_label:"Number of daily executions",Consumption_add:"Add",consumption_times_th:"Times",consumption_action_th:"Action",DateTimePeriod:"Time period of the plans",PlanCombination_planStartDate_label:"Start Date",PlanCombination_planEndDate_label:"End Date",addNewTimePeriod:"Add",deleteAllTimePeriod:"Clear",PC_addLogisticsPlan:"Add a logistics plan",PC_addConsumptionPlan:"Add a revenue and expenditure plan",CommanderLevel_text:"Enter the commander level to calculate resources regen.",PC_calcDemand_description:"The calculation will include the current quantity, the target quantity, and revenue and expenditure plans, but doesn't include resources regen.",PC_demand_description:"Unlike the normal mode ranking, the ranking result is related to the ratio of all resources and contracts. You cannot enter values such as 2, 2, 2, 1, 1, 0, 0, 0, you should enter 600, 600, 600, 300, 1, 0, 0, 0 or 6, 6, 6, 3, 0.01, 0, 0.",Logistics_setting_title:"Logistics plan setting",Consumption_setting_title:"Revenue and expenditure plan setting",LogisticsConsumptionPlanSwitch_label:"Switch logistics or revenue and expenditure plan setting",PlanCombinationSwitch_label:"Logistics plan combination mode"},HTMLJS:{placeholder:{Config_importInput:"Imported configurations",Config_exportInput:"Exported configurations",Time_Anytime_hours:"Hours of total time",Time_Anytime_minutes:"Minutes of total time",Tab_Anytime_MinimumIntervalTime_minutes:"Minutes of minimum interval time",Time_Timetable_hours:"Hours of total time",Time_Timetable_minutes:"Minutes of total time",Tab_Timetable_new_hours:"Hours of new time point",Tab_Timetable_new_minutes:"Minutes of new time point",GreatSuccessRate:"Great Success base rate",importSaved_input:"Imported data",exportSaved_input:"Exported data",renameSaved_input:"New name",PlanDetails_InputExecutionTimes:"Number of executions",CommanderLevel:"Commander Level"},title:{help:"help",Config_importButton:"Import configurations",Config_export:"Export configurations",neverShowAgain_description:"close, never show again",neverShowAgain_localstorageWarning:"close, never show again",tab_Timetable_deleteall:"Delete all points",Tab_Timetable_AddNewTimePoint:"Add a deployment logistics time point",GreatSuccessRateUp_btn:"Great Success rate up",ChapterLimit:"Maximum unlocked chapter",ContractWeight:"Contract Weight",Target_minus_100_MT:"Reduced Manpower demand by 100",Target_minus_10_MT:"Reduced Manpower demand by 10",Target_plus_10_MT:"Increase Manpower demand by 10",Target_plus_100_MT:"Increase Manpower demand by 100",Target_minus_100_AT:"Reduced Ammunition demand by 100",Target_minus_10_AT:"Reduced Ammunition demand by 10",Target_plus_10_AT:"Increase Ammunition demand by 10",Target_plus_100_AT:"Increase Ammunition demand by 100",Target_minus_100_RT:"Reduced Ration demand by 100",Target_minus_10_RT:"Reduced Ration demand by 10",Target_plus_10_RT:"Increase Ration demand by 10",Target_plus_100_RT:"Increase Ration demand by 100",Target_minus_100_PT:"Reduced Parts demand by 100",Target_minus_10_PT:"Reduced Parts demand by 10",Target_plus_10_PT:"Increase Parts demand by 10",Target_plus_100_PT:"Increase Parts demand by 100",Target_minus_1_TT:"Reduced T-Doll Contract demand by 1",Target_minus_01_TT:"Reduced T-Doll Contract demand by 0.1",Target_plus_01_TT:"Increase T-Doll Contract demand by 0.1",Target_plus_1_TT:"Increase T-Doll Contract demand by 1",Target_minus_1_ET:"Reduced Equipment Contract demand by 1",Target_minus_01_ET:"Reduced Equipment Contract demand by 0.1",Target_plus_01_ET:"Increase Equipment Contract demand by 0.1",Target_plus_1_ET:"Increase Equipment Contract demand by 1",Target_minus_1_QPT:"Reduced Quick Production Contract demand by 1",Target_minus_01_QPT:"Reduced Quick Production Contract demand by 0.1",Target_plus_01_QPT:"Increase Quick Production Contract demand by 0.1",Target_plus_1_QPT:"Increase Quick Production Contract demand by 1",Target_minus_1_QRT:"Reduced Quick Restoration Contract demand by 1",Target_minus_01_QRT:"Reduced Quick Restoration Contract demand by 0.1",Target_plus_01_QRT:"Increase Quick Restoration Contract demand by 0.1",Target_plus_1_QRT:"Increase Quick Restoration Contract demand by 1",importSaved_importButton:"Import Plan",exportSaved_button:"Export plan",renameSaved_button:"Rename",renameSaved_applyButton:"Confirm",moveSaved_up:"Move the plan up one line",moveSaved_down:"Move the plan down one line",deleteSaved:"Delete this plan"},Demand_hour:"Hourly demand",Demand_total:"Total demand",Timetable_deletePoint:"Delete this point",FineTuning_minus:"Reduce demand",FineTuning_plus:"Increase demand"},JS:{release_notes_title:"Release Notes",alertTitle_warning:"Warning",chapter_start:"Chapter ",chapter_end:"",number:function(e){return e},Manp:"Mpwr",Ammu:"Ammo",Rati:"Ration",Part:"Parts",TPro:"T-Doll",Equi:"Eqpt",QPro:"QProd",QRes:"QRest",FineTuningManp:"Manpower",FineTuningAmmu:"Ammunition",FineTuningRati:"Ration",FineTuningPart:"Parts",FineTuningTPro:"T-Doll",FineTuningEqui:"Equipment",FineTuningQPro:"Q-Production",FineTuningQRes:"Q-Restoration",FineTuningTool:"Fine Tuning Tool",TargetValue0_alert:"Demand cannot all be 0!",tab_Anytime_alert1:"Total time cannot be 0!",tab_Timetable_alert1:"Cannot add deployment time point at the beginning",tab_Timetable_alert2:"The deployment time point added cannot exceed the total time",tab_Timetable_alert3:"Already added this time point",tab_Timetable_alert4:"Total time cannot be 0!",Mission:"Missions",MinIntervalTime:"Min Intvl",NoPlan:"No suitable plan",NoMission:"No available missions",PlanDetails_calculateMethod:"Mode",total_time:"Total time",total_greatSuccessRate:"Great Success Rate",PerHour:"Hourly",Total:"Total",ExecutionTimes:"Executions",plzInputPlanName:"Please enter the plan name",planDefaultName:"Custom",deleteSavedWarning_1:"Do you want to delete this configuration named ",deleteSavedWarning_2:"?",Saved_alert:"There is a problem with the imported data!",Saved_alert2:"Too many saved plan, cannot add anymore",Saved_prompt_title:"Plan Name",Saved_invalidNameFeedback1:"Please provide a name.",Saved_invalidNameFeedback2:"The name is too long.",config_alert:"This operation will overwrite all configurations. Do you want to continue?",FailedWindowLoadWarn:"The webpage may crash due to incorrect web storage. You can report the following data to GitHub or send to chantxu@outlook.com",PCTimeAlert1:"Please enter the start and end dates.",PCTimeAlert2:"Incorrect time period.",PC_L_alert1:"Please add a time period for the plan.",PC_L_alert2_1:"On ",PC_L_alert2_2:", the total logistics time will be over 24 hours. Failed to add.",PC_L_alert3:"Too many plans were added, failed to add.",PC_C_alert2_1:"On ",PC_C_alert2_2:", ohter revenue and expenditure plan have been added. Failed to add.",PC_deleteAll_confirm:"Do you want to delete all plans?",PC_saveAll_confirm:"Do you want to save all the logistics plans?",PC_ranking_add_alert:"Please add a logistics plan before start ranking.",PC_ranking_done:"Ranking done!",PC_ranking_alert2:"There are no ranking results due to inappropriate demand ratio or plan setting.",PC_ranking_alert3_1:" Due to inappropriate demand ratio or plan setting, the ",PC_ranking_alert3_2:" logistics plans have no ranking results.",resource:"Resources",contract:"Contracts",delete_:"Delete",apply:"Apply",chartTooltip_L:"Logistics plan",chartTooltip_C:"Revenue and expenditure plan",C_preset:"Preset",C_preset_0:"Daily Quests",C_preset_1:"Weekly Quests",C_preset_2:"Forward basecamp 8:00",C_preset_3:"500*4 Fairies",C_preset_4:"2021 Fairies",C_preset_5:"0221 Fairies",C_preset_6:"2221 Fairies",C_preset_7:"7-1 Auto-battles",C_preset_8:"7-4 Auto-battles",C_preset_9:"11-5 Auto-battles",C_preset_10:"T-Doll Production HG",C_preset_11:"T-Doll Production SMG",C_preset_12:"T-Doll Production RF",C_preset_13:"T-Doll Production AR",C_preset_14:"T-Doll Production MG",C_preset_15:"T-Doll Production SG",C_preset_16:"Production Sights",C_preset_17:"Production Cloak, Suppressor",C_preset_18:"Production Exoskeleton",C_preset_19:"Production Hollow Point Ammo",C_preset_20:"Production High Velocity Ammo",C_preset_21:"Production Armor Piercing Ammo",C_preset_22:"Production Ammunition Box",C_preset_23:"Production Armor Plate",C_preset_24:"Production Night Vision Equipment",consumption_total_td:"Single-day Total",PC_changeStart_prompt_1:"Enter new start date",PC_changeStart_prompt_2:"Change start date",PC_changeStart_prompt_3:"Please enter the correct start date.",PC_changeStart_prompt_4:"The start date should be less than the end date.",PC_changeEnd_prompt_1:"Enter new end date",PC_changeEnd_prompt_2:"Change end date",PC_changeEnd_prompt_3:"Please enter the correct end date.",PC_changeEnd_prompt_4:"The end date should be greater than the start date.",plzInputTargetName:"Please enter a custom demand name",TargetSaved_prompt_title:"Custom Demand Name",TargetSaved_invalidNameFeedback1:"Please provide a name.",TargetSaved_invalidNameFeedback2:"The name is too long.",plzInputConsumptionName:"Please enter a custom name",ConsumptionSaved_prompt_title:"Custom Name"},html_class:{Manp:"Mpwr",Ammu:"Ammo",Rati:"Ration",Part:"Parts",TPro:"T-Doll",Equi:"Eqpt",QPro:"QProd",QRes:"QRest"},placeholder_class:{Manp_placeholder:"Manpower",Ammu_placeholder:"Ammunition",Rati_placeholder:"Ration",Part_placeholder:"Parts",TPro_placeholder:"T-Doll",Equi_placeholder:"Equipment",QPro_placeholder:"Quick Production",QRes_placeholder:"Quick Restoration"}},s="1.3.0-alpha",u=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;_(this,e),this.start=t,this.end=a};function c(e){var t=new Array(e.length),a=0;for(t[a++]=new u(0,e.length-1);a;){var n=t[--a];if(!(n.start>=n.end)){for(var i=e[n.end],r=n.start,o=n.end-1;r<o;){for(;e[r]>i&&r<o;)r++;for(;e[o]<=i&&r<o;)o--;var s=[e[o],e[r]];e[r]=s[0],e[o]=s[1]}if(e[r]<=e[n.end]){var l=[e[n.end],e[r]];e[r]=l[0],e[n.end]=l[1]}else r++;t[a++]=new u(n.start,r-1),t[a++]=new u(r+1,n.end)}}}function m(e){var t=new Array(e.length),a=0;for(t[a++]=new u(0,e.length-1);a;){var n=t[--a];if(!(n.start>=n.end)){for(var i=e[n.end],r=n.start,o=n.end-1;r<o;){for(;e[r]<i&&r<o;)r++;for(;e[o]>=i&&r<o;)o--;var s=[e[o],e[r]];e[r]=s[0],e[o]=s[1]}if(e[r]>=e[n.end]){var l=[e[n.end],e[r]];e[r]=l[0],e[n.end]=l[1]}else r++;t[a++]=new u(n.start,r-1),t[a++]=new u(r+1,n.end)}}}function h(e,t){var a=new Array(e.length),n=0;for(a[n++]=new u(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var r=e[i.end][t],o=i.start,s=i.end-1;o<s;){for(;e[o][t]>=r&&o<s;)o++;for(;e[s][t]<r&&o<s;)s--;var l=[e[s],e[o]];e[o]=l[0],e[s]=l[1]}if(e[o][t]<e[i.end][t]){var d=[e[i.end],e[o]];e[o]=d[0],e[i.end]=d[1]}else o++;a[n++]=new u(i.start,o-1),a[n++]=new u(o+1,i.end)}}}function v(e,t){var a=new Array(e.length),n=0;for(a[n++]=new u(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var r=e[i.end][t],o=i.start,s=i.end-1;o<s;){for(;e[o][t]<=r&&o<s;)o++;for(;e[s][t]>r&&o<s;)s--;var l=[e[s],e[o]];e[o]=l[0],e[s]=l[1]}if(e[o][t]>e[i.end][t]){var d=[e[i.end],e[o]];e[o]=d[0],e[i.end]=d[1]}else o++;a[n++]=new u(i.start,o-1),a[n++]=new u(o+1,i.end)}}}function p(e,t){var a=new Array(e.length),n=0;for(a[n++]=new u(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var r=parseInt(e[i.end][t].replace(/[^0-9]/gi,"")),o=i.start,s=i.end-1;o<s;){for(;parseInt(e[o][t].replace(/[^0-9]/gi,""))<r&&o<s;)o++;for(;parseInt(e[s][t].replace(/[^0-9]/gi,""))>=r&&o<s;)s--;var l=[e[s],e[o]];e[o]=l[0],e[s]=l[1]}if(parseInt(e[o][t].replace(/[^0-9]/gi,""))>=parseInt(e[i.end][t].replace(/[^0-9]/gi,""))){var d=[e[i.end],e[o]];e[o]=d[0],e[i.end]=d[1]}else o++;a[n++]=new u(i.start,o-1),a[n++]=new u(o+1,i.end)}}}function g(e,t,a){return 0===e?0:e/100+(e/t-e/100)*a/100}function T(e,t){var a=e.lastIndexOf("_");return void 0===t?e.slice(a+1):e.slice(a+1,t)}function b(e){return 100<e||e<-100?Math.round(e):10<e||e<-10?Math.round(10*e)/10:Math.round(100*e)/100}function y(e){e=Math.round(e);var t=parseInt(e/60),a=e%60;return(a+"").length<2&&(a="0"+a),t+":"+a}function k(e){return y((e=Math.round(e))%1440)}function P(e){return!!(""===e||isNaN(e)||e<0||"Infinity"===e)}function C(e,t){var a=1<arguments.length&&void 0!==t&&t,n=void 0;return n=P(e.val())?0:parseFloat(e.val()),a&&e.val(n),n}function S(e,t){var a=1<arguments.length&&void 0!==t&&t,n=void 0;return n=P(e.val())?0:parseInt(e.val()),a&&e.val(n),n}function w(e,t){var a,n=1<arguments.length&&void 0!==t&&t,i=void 0;return i=""===(a=e.val())||isNaN(a)||"Infinity"===a?0:parseFloat(e.val()),n&&e.val(i),i}function A(e){for(var t=0,a=e.length,n=0;n<a;n++)t=t>e[n]?t:e[n];return t}function D(e){for(var t=e[0],a=e.length,n=0;n<a;n++)t=t<e[n]?t:e[n];return t}function a(e,t){return e-t}function M(e,t){return parseInt(e.replace(/[^0-9]/gi,""))-parseInt(t.replace(/[^0-9]/gi,""))}function I(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod","KFAPWI"],a=!1,n=0;n<t.length;n++)if(-1!==e.indexOf(t[n])){a=!0;break}return a}Array.prototype.remove=function(e){for(var t=0;t<this.length;)this[t]===e?this.splice(t,1):t++},Array.prototype.remove_First=function(e){for(var t=0;t<this.length;){if(this[t]===e){this.splice(t,1);break}t++}};var x="";if(console){var L={log:console.log,info:console.info,debug:console.debug,warn:console.warn,error:console.error};console.log=function(e){var t=(new Date).toLocaleString()+" log: "+JSON.stringify(e)+"\n";x=R(x+=t);try{t=R(t=sessionStorage.getItem("GF_Logistics_console")+t),sessionStorage.setItem("GF_Logistics_console",t)}catch(e){}L.log.apply(this,Array.prototype.slice.call(arguments,0))},console.warn=function(e){var t=(new Date).toLocaleString()+" warn: "+JSON.stringify(data)+"\n";x=R(x+=t);try{t=R(t=sessionStorage.getItem("GF_Logistics_console")+t),sessionStorage.setItem("GF_Logistics_console",t)}catch(e){}L.warn.apply(this,Array.prototype.slice.call(arguments,0))},console.error=function(e){var t=(new Date).toLocaleString()+" error: "+JSON.stringify(e)+"\n";x=R(x+=t);try{t=R(t=sessionStorage.getItem("GF_Logistics_console")+t),sessionStorage.setItem("GF_Logistics_console",t)}catch(e){}L.error.apply(this,Array.prototype.slice.call(arguments,0))}}function R(e){var t=e.length;return 1e4<t?e.slice(t-1e4):e}var E=[["0-1",0,145,145,0,0,0,20,50,50],["0-2",550,0,0,350,50,0,0,0,180],["0-3",900,900,900,250,0,50,0,50,720],["0-4",0,1200,800,750,0,0,0,0,1440],["1-1",10,30,15,0,0,0,0,0,15],["1-2",0,40,60,0,0,0,0,0,30],["1-3",30,0,30,10,0,0,0,60,60],["1-4",160,160,0,0,20,0,0,0,120],["2-1",100,0,0,30,0,0,0,0,40],["2-2",60,200,80,0,0,0,0,30,90],["2-3",10,10,10,230,0,0,50,50,240],["2-4",0,250,600,60,80,0,0,0,360],["3-1",50,0,75,0,0,0,0,0,20],["3-2",0,120,70,30,0,0,0,0,45],["3-3",0,300,0,0,0,0,40,45,90],["3-4",0,0,300,300,35,40,0,0,300],["4-1",0,185,185,0,0,20,0,0,60],["4-2",0,0,0,210,0,0,50,0,120],["4-3",800,550,0,0,70,0,0,30,360],["4-4",400,400,400,150,0,0,100,0,480],["5-1",0,0,100,45,0,0,0,0,30],["5-2",0,600,300,0,0,0,0,80,150],["5-3",800,400,400,0,0,60,0,0,240],["5-4",100,0,0,700,40,0,0,0,420],["6-1",300,300,0,100,0,0,0,0,120],["6-2",0,200,550,100,0,0,30,70,180],["6-3",0,0,200,500,0,60,0,0,300],["6-4",800,800,800,0,0,0,0,0,720],["7-1",650,0,650,0,0,0,0,0,150],["7-2",0,650,0,300,75,0,0,25,240],["7-3",900,600,600,0,0,50,0,0,330],["7-4",250,250,250,600,0,0,90,0,480],["8-1",150,150,150,0,0,30,0,0,60],["8-2",0,0,0,450,0,0,0,80,180],["8-3",400,800,800,0,0,0,50,50,360],["8-4",1500,400,400,100,80,0,0,0,540],["9-1",0,0,100,50,0,0,0,0,30],["9-2",180,0,180,100,0,0,30,0,90],["9-3",750,750,0,0,80,0,0,0,270],["9-4",500,900,900,0,0,100,0,0,420],["10-1",140,200,0,0,0,0,0,0,40],["10-2",0,240,180,0,70,0,30,0,100],["10-3",0,480,480,300,0,0,60,40,320],["10-4",660,660,660,330,0,50,0,0,600],["11-1",350,1050,0,0,60,40,0,0,240],["11-2",360,540,540,0,100,0,0,0,240],["11-3",0,750,1500,250,0,0,0,50,480],["11-4",0,1650,0,900,0,0,100,0,600],["12-1",0,220,220,0,0,55,0,0,60],["12-2",360,0,0,120,0,0,0,0,90],["12-3",800,1200,1200,0,0,0,100,0,540],["12-4",1800,0,1800,0,100,0,0,0,720],["13-1",0,0,1200,0,0,0,100,0,180],["13-2",800,800,800,300,0,0,0,0,360],["13-3",0,4e3,0,1200,0,100,0,0,1440],["13-4",0,0,0,1e3,100,0,0,0,360]],F=(e(V,null,[{key:"alert",value:function(e,t){var a=0<arguments.length&&void 0!==e?e:"",n=1<arguments.length&&void 0!==t?t:f.JS.alertTitle_warning;this._insertModalQueue("alert",[a,n])}},{key:"progress",value:function(e){var t=0<arguments.length&&void 0!==e?e:"Loading...";this._insertModalQueue("progress",[t])}},{key:"progress_setWidth",value:function(e){this._html_modal.hasClass("show")&&"progress"===this._lastModal&&(document.getElementById("modal_progress").style.width=e)}},{key:"progress_close",value:function(){this._needClose=!0,this._html_modal.modal("hide")}},{key:"confirm",value:function(e,t,a,n){var i=0<arguments.length&&void 0!==e?e:"",r=1<arguments.length&&void 0!==t?t:function(){},o=2<arguments.length&&void 0!==a?a:function(){},s=3<arguments.length&&void 0!==n?n:f.JS.alertTitle_warning;this._insertModalQueue("confirm",[i,r,o,s])}},{key:"prompt",value:function(e,t,a,n,i,r,o,s,l){var d=0<arguments.length&&void 0!==e?e:"",_=1<arguments.length&&void 0!==t?t:"",u=2<arguments.length&&void 0!==a?a:function(e){},c=3<arguments.length&&void 0!==n?n:function(){},m=4<arguments.length&&void 0!==i?i:"text",h=5<arguments.length&&void 0!==r?r:"",v=6<arguments.length&&void 0!==o?o:void 0,p=7<arguments.length&&void 0!==s?s:function(e){return""},g=8<arguments.length&&void 0!==l?l:function(e){return""};this._insertModalQueue("prompt",[d,_,u,c,m,h,v,p,g])}},{key:"_insertModalQueue",value:function(e,t){var a={type:e,param:t};1===this._queque.push(a)&&this._runFirstModal()}},{key:"_runFirstModal",value:function(){if(this._queque[0]){var e=this._queque[0],t=e.param;switch(e.type){case"alert":this._alert_main(t[0],t[1]);break;case"confirm":this._fonfirm_main(t[0],t[1],t[2],t[3]);break;case"prompt":this._prompt_main(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]);break;case"progress":this._progress_main(t[0])}}}},{key:"_alert_main",value:function(e,t){this._setBody(e),this._setTitle(t),this._html_cancelButton.addClass("d-none"),this._lastModal="alert",this._show()}},{key:"_fonfirm_main",value:function(e,t,a,n){this._setBody(e),this._setTitle(n),this._html_okButton.on("click",t),this._html_cancelButton.on("click",a),this._html_close.on("click",a),this._lastModal="confirm",this._show()}},{key:"_prompt_main",value:function(e,t,a,n,i,r,o,s,l){this._setTitle(t);var d='<div class="form-group"><label for="modal_input">'+e;d+='</label><input type="'+i+'" class="form-control" id="modal_input" value="'+r,d+='" onfocus="this.select()" required><div id="modal_feedback"></div></div>',this._setBody(d),this._html_okButton.on("click",function(){a($("#modal_input").val())}),this._html_cancelButton.on("click",n),this._html_close.on("click",n),void 0!==o&&(o(r)?($("#modal_input").addClass("is-valid"),$("#modal_feedback").addClass("valid-feedback"),$("#modal_feedback").html(s(r))):($("#modal_input").addClass("is-invalid"),$("#modal_feedback").addClass("invalid-feedback"),$("#modal_feedback").html(l(r))),$("#modal_input").on("keyup",function(e){var t=$("#modal_input").val();13!=e.which||o(t)&&V._html_okButton.click()}),$("#modal_input").on("input propertychange",function(){var e=$("#modal_input"),t=$("#modal_feedback"),a=e.val();o(a)?(e.addClass("is-valid"),e.removeClass("is-invalid"),t.addClass("valid-feedback"),t.removeClass("invalid-feedback"),t.html(s(a)),V._html_okButton.removeAttr("disabled")):(e.addClass("is-invalid"),e.removeClass("is-valid"),t.addClass("invalid-feedback"),t.removeClass("valid-feedback"),t.html(l(a)),V._html_okButton.attr("disabled","true"))})),this._lastModal="prompt",this._show()}},{key:"_progress_main",value:function(e){this._setBody('<div class="progress"><div id="modal_progress" class="progress-bar" role="progressbar" style="transition: none;"></div></div>'),this._setTitle(e),this._html_close.addClass("d-none"),this._html_okButton.addClass("d-none"),this._html_cancelButton.addClass("d-none"),this._lastModal="progress",this._show()}},{key:"_setTitle",value:function(e){this._html_title.html(e)}},{key:"_setBody",value:function(e){this._html_body.html(e)}},{key:"_show",value:function(){this._html_modal.modal("show")}}]),V);function V(){_(this,V)}F._lastModal="",F._queque=[],F._needClose=!1,F._html_modal=$("#Modal"),F._html_title=$("#Modal_title"),F._html_close=$("#Modal_closeButton"),F._html_body=$("#Modal_body"),F._html_footer=$("#Modal_footer"),F._html_okButton=$("#Modal_footer_button_ok"),F._html_cancelButton=$("#Modal_footer_button_cancel"),F._html_modal.on("show.bs.modal",function(){document.activeElement.blur(),document.documentElement.style.overflowY="hidden"}),F._html_modal.on("shown.bs.modal",function(){switch(!0===F._needClose&&F._html_modal.modal("hide"),F._lastModal){case"alert":F._html_okButton.focus();break;case"confirm":F._html_cancelButton.focus();break;case"prompt":$("#modal_input").focus()}}),F._html_modal.on("hide.bs.modal",function(){switch(F._needClose=!1,F._lastModal){case"confirm":F._html_close.off(),F._html_okButton.off(),F._html_cancelButton.off();break;case"prompt":F._html_close.off(),F._html_okButton.off(),F._html_cancelButton.off(),$("#modal_input").off()}F._queque.shift()}),F._html_modal.on("hidden.bs.modal",function(){switch(F._lastModal){case"alert":F._html_cancelButton.removeClass("d-none");break;case"prompt":F._html_okButton.removeAttr("disabled");break;case"progress":F._html_close.removeClass("d-none"),F._html_okButton.removeClass("d-none"),F._html_cancelButton.removeClass("d-none")}F._runFirstModal(),document.documentElement.style.overflowY="auto"});var N=void 0,B="GF_Logistics_v"+s.slice(0,s.indexOf("."))+".x.x";function Q(e){for(var t=0<arguments.length&&void 0!==e?e:[],a=[],n=0;n<t.length;n++){var i=t[n].data,r={};r.name=i[0],r.TabName=i[1],r.GSRate=i[2],r.is_UP=i[3],r.Chapter=i[4],r.TabCustom=i[5],r.Missions=i[6],r.startTime=i[7],a.push(r)}return a}function J(e,t){if(N){var a=localStorage.getItem(B);try{a=JSON.parse(a)}catch(e){console.error("storageGetItem, storage: "+a),a={}}null===a&&(a={}),a[e]=t,a.version=s,a=JSON.stringify(a),localStorage.setItem(B,a)}}function H(e){if(N){var t=localStorage.getItem(B);if(null===t)return"noStorage";try{t=JSON.parse(t)}catch(e){console.error("storageGetItem, storage: "+t),t={}}var a=t[e];return void 0===a?"noStorage":a}return"noStorage"}var O=void 0;function G(){var e=z.length;F.alert(W(-1,e-1),f.JS.release_notes_title)}function W(e,t){for(var a="",n=e+1;n<=t;++n){var i=z[n];a+="<h5>",a+=i.version[0],void 0!==i.version[1]&&(a+=" / "+i.version[1]),a+="</h5>",a+='<ul style="padding-left: 25px; margin-bottom: 1.5rem;">';var r=i.notes[f.version_note_lang];void 0===r&&(r=i.notes.en);for(var o=0;o<r.length;++o)a+="<li>"+r[o]+"</li>";a+="</ul>"}return a}var z=[{version:["1.0.0","1.0.0-offline"],notes:{en:["Official release"],zh_CN:["正式发布"],zh_TW:["正式發布"]}},{version:["1.0.1","1.0.1-offline"],notes:{en:["Fix bugs and improve performance"],zh_CN:["修复错误并提升性能"],zh_TW:["修復錯誤並提升性能"]}},{version:["1.0.2","1.0.2-offline"],notes:{en:["None"],zh_CN:["无"],zh_TW:["無"]}},{version:["1.0.3","1.0.3-offline"],notes:{en:["None"],zh_CN:["无"],zh_TW:["無"]}},{version:["1.1.0-rc"],notes:{en:["Change style","Fix bugs and improve performance"],zh_CN:["更改样式","修复错误并提升性能"],zh_TW:["更改樣式","修復錯誤並提升性能"]}},{version:["1.2.0-rc"],notes:{en:["Plan combination mode"],zh_CN:["方案组合模式"],zh_TW:["方案組合模式"]}},{version:["1.2.0-rc1"],notes:{en:["Chart highlighting","Click revenue and expenditure plan to apply","Fix bugs"],zh_CN:["图表选中高亮","点击其他收支方案以应用","修复错误"],zh_TW:["圖表選中高亮","點擊其他收支方案以應用","修復錯誤"]}},{version:["1.2.0-rc2"],notes:{en:["Fix bug"],zh_CN:["修复错误"],zh_TW:["修復錯誤"]}},{version:["1.2.0","1.2.0-offline"],notes:{en:["Fix some bugs"],zh_CN:["修复错误"],zh_TW:["修復錯誤"]}},{version:["1.2.1","1.2.1-offline"],notes:{en:["Update Chapter 13"],zh_CN:["更新13章"],zh_TW:["更新13章"]}},{version:["1.3.0-rc"],notes:{en:["Plan combination mode - easy to change date","Update contract data","Add release notes","Various optimizations","Fix bug"],zh_CN:["后勤组合排序模式 - 更方便地修改开始结束日期","更新契约数据","增加版本更新通知","各种优化","修复错误"],zh_TW:["後勤組合排序模式 - 更方便地修改開始結束日期","更新契約數據","增加版本更新通知","各種優化","修復錯誤"]}}],q=[];function U(){var e=fe();4320<e&&ye(e=4320),document.getElementById("Tab_Timetable_range_tooltip_0_value").innerHTML=y(e),Ge.print(),Oe()}function j(e){(0===(q=e).length?ee:te)();var t=Z(fe(),e);document.getElementById("Tab_Timetable_range").innerHTML=t}function Y(e){var t='<div inverse-left style="width:70%;"></div><div inverse-right style="width:70%;"></div><div range style="left:0%;right:0%; background-color:#dee2e6;"></div>';return t+='<span thumb id="Tab_Timetable_range_thumb"style="left:100%; background-color:rgb(221, 155, 155); cursor:default;"></span>',t+='<div id="Tab_Timetable_range_tooltip"class="tooltip right custom-tooltip"style="right: -69px; top:-9px;">',t+='<div class="tooltip-arrow" style="top: 7px;"></div><div id="Tab_Timetable_range_tooltip_0_value"class="tooltip-inner">',t+=y(e)+"</div></div>"}function Z(e,t){for(var a=Y(e),n=t.length,i=0;i<n;i++){var r=t[i]/e*100+"%",o=X(t[i],r);a+=o+=K(t[i],r,i)}return a}function X(e,t){var a='<button class="slider-button" id="Tab_Timetable_range_thumb_'+e+'"';return a+='style="left:'+t+';" title="'+f.HTMLJS.Timetable_deletePoint+'">',a+='<span class="glyphicon glyphicon-remove-circle" style="font-size: 22px;"></span></button>'}function K(e,t,a){var n='<div id="Tab_Timetable_range_tooltip_'+e+'"';return n+=a%2==0?'class="slider-Tooltip-top tooltip top custom-tooltip"':'class="slider-Tooltip-bottom tooltip bottom custom-tooltip"',n+='style="left:'+t+';">',n+='<div class="tooltip-arrow"></div><div class="tooltip-inner">',n+=y(e)+"</div></div>"}function ee(){$("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")}function te(){$("#Time_Timetable_hours").attr("disabled","true"),$("#Time_Timetable_minutes").attr("disabled","true")}function ae(){return!!document.getElementById("Display_PerHour").checked}function ne(e){var t=0<arguments.length&&void 0!==e&&e,a=$("#GreatSuccessRate"),n=a.val();return n=P(n)||n<15?15:69<n?69:Math.round(n),t&&a.val(n),n}function ie(e){$("#GreatSuccessRate").val(e),J("GreatSuccessRate",e)}function re(){return!!document.getElementById("GreatSuccessRateUp").checked}function oe(e){return["15","15","15","15","15","15","15","15","15","15","15","15","15","15","15","15 / 16","15 / 16","16","16","16 / 17","17","17 / 18","17 / 18","17 / 18","18 / 19","18 / 19","19","19","19 / 20","20","20 / 21","20 / 21","20 / 21","21 / 22","21 / 22","22","22","22 / 23","23","23 / 24","23 / 24","23 / 24","24 / 25","24 / 25","25","25","25 / 26","26","26 / 27","26 / 27","26 / 27","27 / 28","27 / 28","28","28","28 / 29","29","29 / 30","29 / 30","29 / 30","30 / 31","30 / 31","31","31","31 / 21","32","32 / 33","32 / 33","32","31"][e]}function se(e,t){return(1<arguments.length&&void 0!==t?t:re())?parseInt(oe(e).substr(0,2)):0}function le(e){var t=ne(0<arguments.length&&void 0!==e&&e);return t+se(t)}function de(e,t){var a=!(1<arguments.length&&void 0!==t)||t,n=document.getElementById("GreatSuccessRateUp"),i=$("#GreatSuccessRateUp_btn"),r=document.getElementById("Display_UPRate");if(!1===e)n.checked=!1,i.removeClass("active"),r.innerHTML="";else{n.checked=!0,i.addClass("active");var o=ne(a);r.innerHTML="+"+oe(o)}J("Is_GreatSuccessRateUP",e)}function _e(e,t){var a=0<arguments.length&&void 0!==e?e:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")],n=!(1<arguments.length&&void 0!==t)||t;return(Array.isArray(a)?function(e,t){for(var a=[],n=0;n<e.length;n++)a.push(C(e[n],t));return a}:C)(a,n)}function ue(e,t){var a=0<arguments.length&&void 0!==e?e:[0,0,0,0,0,0,0,0],n=1<arguments.length&&void 0!==t?t:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")];(Array.isArray(a)?function(e,t){for(var a=0;a<e.length;a++)ce(e[a],t[a])}:ce)(a,n),J("TargetValue",_e())}function ce(e,t){e<0?t.val(0):t.val(Math.round(100*e)/100)}function me(){return parseInt($("#ContractWeight").val())}function he(e){var t=0<arguments.length&&void 0!==e?e:50;$("#ContractWeight").val(t),J("ContractWeight",me())}function ve(){return parseInt($("#ChapterLimit").val())}function pe(e){var t=0<arguments.length&&void 0!==e?e:E.length/4-1;$("#ChapterLimit").val(t),null===$("#ChapterLimit").val()&&$("#ChapterLimit").val(E.length/4-1),J("ChapterLimit",ve())}function ge(e){var t=0<arguments.length&&void 0!==e&&e;return 60*function(e){var t=0<arguments.length&&void 0!==e&&e;return S($("#Time_Anytime_hours"),t)}(t)+function(e){var t=0<arguments.length&&void 0!==e&&e;return S($("#Time_Anytime_minutes"),t)}(t)}function Te(e){var t=0<arguments.length&&void 0!==e?e:960,a=t%60;!function(e){var t=0<arguments.length&&void 0!==e?e:16;$("#Time_Anytime_hours").val(t)}(parseInt(t/60)),function(e){var t=0<arguments.length&&void 0!==e?e:0;$("#Time_Anytime_minutes").val(t)}(a)}function be(e){var t=0<arguments.length&&void 0!==e&&e;return S($("#Tab_Anytime_MinimumIntervalTime_minutes"),t)}function fe(e){var t=0<arguments.length&&void 0!==e&&e;return 60*function(e){var t=0<arguments.length&&void 0!==e&&e;return S($("#Time_Timetable_hours"),t)}(t)+function(e){var t=0<arguments.length&&void 0!==e&&e;return S($("#Time_Timetable_minutes"),t)}(t)}function ye(e,t){var a=0<arguments.length&&void 0!==e?e:300;1<arguments.length&&void 0!==t&&!t||(document.getElementById("Tab_Timetable_range_tooltip_0_value").innerHTML=y(a));var n=a%60;!function(e){var t=0<arguments.length&&void 0!==e?e:5;$("#Time_Timetable_hours").val(t)}(parseInt(a/60)),function(e){var t=0<arguments.length&&void 0!==e?e:0;$("#Time_Timetable_minutes").val(t)}(n)}function Pe(e){var t=!(0<arguments.length&&void 0!==e)||e;return 60*function(e){var t=!(0<arguments.length&&void 0!==e)||e,a=S($("#Tab_Timetable_new_hours"),t);return t&&$("#Tab_Timetable_new_hours").val(""),a}(t)+function(e){var t=!(0<arguments.length&&void 0!==e)||e,a=S($("#Tab_Timetable_new_minutes"),t);return t&&$("#Tab_Timetable_new_minutes").val(""),a}(t)}function Ce(){var e=$("#PlanDetails_InputStartTime").val(),t=parseFloat(e.substr(0,2));if(isNaN(t))return 0;var a=parseFloat(e.substr(3,2));return isNaN(a)&&(a=0),60*t+a}function Se(e){var t=k(0<arguments.length&&void 0!==e?e:0);2!==t.indexOf(":")&&(t="0"+t),$("#PlanDetails_InputStartTime").val(t)}function ke(e){var t=0<arguments.length&&void 0!==e&&e,a=$("#PlanDetails_InputExecutionTimes"),n=a.val();return n=P(n)||n<1?1:999<n?999:Math.round(n),t&&a.val(n),n}var we=(e(Ae,[{key:"_setTime",value:function(){!0!==this._setTimeFlag&&(this._setTimeFlag=!0)}},{key:"getTotalTime",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;return this._setTimeFlag||this._setTime(t),this._totalTime}},{key:"_calcTotalGSRate",value:function(e){var t=void 0;if(this._baseData){var a=se(this._baseData[1],this._baseData[2]);t=this._baseData[1]+a}else t=le(e);return t}},{key:"setQValid",value:function(e){!0!==this._setQValidFlag&&(this._setQValidFlag=!0)}},{key:"_getUnableLogistic",value:function(){var e=this._setUnableLogistic();return this._setUnableLogisticCustomize(e)}},{key:"_setUnableLogistic",value:function(){for(var e=4*((this._baseData?this._baseData[0]:ve())+1),t=[],a=E.length-1;e<=a;)t.push(e++);return t}},{key:"_setUnableLogisticCustomize",value:function(e){for(var t=0;t<E.length;t++)E[t][9]>this._totalTime&&-1===e.indexOf(t)&&e.push(t);return e}},{key:"getQValid",value:function(e){return 1==!this._setQValidFlag&&this.setQValid(e),this._QValid.slice()}},{key:"getQValidLength",value:function(e){var t=0<arguments.length&&void 0!==e&&e;return 1==!this._setQValidFlag&&this.setQValid(t),this._QValid.length}},{key:"_setCurrentMax",value:function(){if(!0!==this._setCurrentMaxFlag){for(var e=[0,0,0,0,0,0,0,0],t=this._QValid.length,a=0;a<8;a++){for(var n=new Array(t),i=0;i<t;i++)n[i]=this._QValid[i][a+1];c(n);for(var r=n.length<4?n.length:4,o=0;o<r;++o)e[a]+=n[o]}this._currentValueMax=e,this._setCurrentMaxFlag=!0}}},{key:"getCurrentValueMax",value:function(){return 1==!this._setCurrentMaxFlag&&this._setCurrentMax(),this._currentValueMax}},{key:"deleteUselessMissions",value:function(e,t,a){if(!(this._QValid.length<=e)){if(void 0===a)a=this._calculateMissionValue(t);else{var n=a,i=this._calculateMissionValue(t);a=this._pulsMissionValue(n,i)}for(var r=this._QValid.length,o=new Array(r),s=0;s<r;s++)o[s]=[s,a[s]];h(o,1),o.splice(0,e),h(o,0);for(var l=0;l<o.length;l++)this._QValid.splice(o[l][0],1)}}},{key:"_calculateMissionValue",value:function(e){for(var t=[0,0,0,0,0,0,0,0],a=this._QValid.length,n=0;n<8;n++)for(var i=0;i<a;i++)t[n]=Math.max(t[n],this._QValid[i][n+1]);for(var r=[],o=0;o<8;o++)0!==t[o]?r.push(e[o]/t[o]):r.push(0);for(var s=[],l=0;l<a;l++){for(var d=0,_=this._QValid[l],u=0;u<8;u++)d+=_[u+1]*r[u];s.push(d)}return s}},{key:"_pulsMissionValue",value:function(e,t){var a=e.length,n=D(e),i=A(e)-n;if(0!=i)for(var r=0;r<a;r++)e[r]=(e[r]-n)/i;var o=D(t),s=A(t)-o;if(0!=s)for(var l=0;l<a;l++)t[l]=(t[l]-o)/s;for(var d=new Array(a),_=0;_<a;_++)d[_]=e[_]+t[_];return d}},{key:"normalizedQValid",value:function(){for(var e=this.getCurrentValueMax(),t=this._QValid.length,a=0;a<t;a++)for(var n=0;n<8;n++)0!==e[n]&&(this._QValid[a][n+1]/=e[n])}},{key:"calculateCurrentValue",value:function(e,t,a,n){for(var i=[0,0,0,0,0,0,0,0],r=this._QValid,o=r[e],s=r[t],l=r[a],d=r[n],_=0;_<8;_++)i[_]=o[_+1]+s[_+1]+l[_+1]+d[_+1];return i}},{key:"printPlanTableTitle",value:function(){}},{key:"printTableCustomize",value:function(){return[]}},{key:"getSavedCustom",value:function(){return[]}},{key:"applySavedCustom",value:function(){}},{key:"getTotalTimeFromSavedCustom",value:function(e){return e[0]}},{key:"planDetailsCustom_Title",value:function(){return""}},{key:"planDetailsCustom_Content",value:function(){return""}}],[{key:"isThisTabShow",value:function(){}}]),Ae);function Ae(e){_(this,Ae),this._title='<thead class="disable-selected-text"><tr style="cursor:pointer;"><th style="width:20%;" colspan="4" tabindex="0" id="resultPlan_Mission">'+f.JS.Mission+"</th>",this._titleEnd="</tr></thead>",this._totalTime=0,this.name="",this.displayName="",this._setTimeFlag=!1,this._setQValidFlag=!1,this._setCurrentMaxFlag=!1,this._baseData=void 0,e&&(this._baseData=e.slice()),this._currentValueMax=[],this._QValid=[]}var De=(t(Me,we),e(Me,[{key:"_setTime",value:function(e){if(!0!==this._setTimeFlag){if(this._baseData?this._totalTime=this._baseData[3][0]:this._totalTime=ge(e),e&&0===this._totalTime)throw F.alert(f.JS.tab_Anytime_alert1),"Warning: Total time cannot be 0!";this._baseData?this.MinimumIntervalTime=this._baseData[3][1]:this.MinimumIntervalTime=be(e),this._setTimeFlag=!0}}},{key:"setQValid",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;if(!0!==this._setQValidFlag){this._setTime(t);for(var a=this._calcTotalGSRate(t),n=1+a/200,i=this._getUnableLogistic(),r=0;r<E.length;r++)if(-1===i.indexOf(r)){var o=[];o.push(E[r][0]);for(var s=0;(++s+1)*E[r][9]<=this._totalTime;);for(var l=1;l<5;l++)o.push(E[r][l]*s*n/this._totalTime);for(var d=E[r][5]+E[r][6]+E[r][7]+E[r][8],_=5;_<9;_++)o.push(g(E[r][_],d,a)*s/this._totalTime);o.push(E[r][9]);for(var u=[],c=1;c<=s;c++)u.push(E[r][9]*c);o.push(u),this._QValid.push(o),this.Qvalid_Time.push(E[r][9])}v(this._QValid,9),m(this.Qvalid_Time),this._setQValidFlag=!0}}},{key:"_setUnableLogisticCustomize",value:function(e){for(var t=0;t<E.length;t++){(E[t][9]>this._totalTime||E[t][9]<this.MinimumIntervalTime)&&-1===e.indexOf(t)&&e.push(t);var a=this._totalTime%E[t][9];a<this.MinimumIntervalTime&&0!=a&&-1===e.indexOf(t)&&e.push(t)}return e}},{key:"calculateCurrentValue",value:function(e,t,a,n){var i=this.Qvalid_Time,r=this.MinimumIntervalTime;if(r){var o=[i[e],i[t],i[a],i[n]],s=Math.min(o[1]-o[0]==0?r:o[1]-o[0],o[2]-o[1]==0?r:o[2]-o[1],o[3]-o[2]==0?r:o[3]-o[2]);if(s<r)return[-1,-1,-1,-1,-1,-1,-1,-1];if((s=Ie(o,this._totalTime))<r)return[-1,-1,-1,-1,-1,-1,-1,-1]}return l(Me.prototype.__proto__||Object.getPrototypeOf(Me.prototype),"calculateCurrentValue",this).call(this,e,t,a,n)}},{key:"deleteUselessMissions",value:function(e,t,a){l(Me.prototype.__proto__||Object.getPrototypeOf(Me.prototype),"deleteUselessMissions",this).call(this,e,t,a);for(var n=this._QValid.length,i=[],r=0;r<n;r++)i.push(this._QValid[r][9]);this.Qvalid_Time=i}},{key:"printPlanTableTitle",value:function(){return ae()?this._title+'<th style="width:8.88%;" tabindex="0" id="resultPlan_Manp">'+f.JS.Manp+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Ammu">'+f.JS.Ammu+'/h</th><th style="width:8.88%;"tabindex="0" id="resultPlan_Rati">'+f.JS.Rati+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Part">'+f.JS.Part+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_TPro">'+f.JS.TPro+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Equi">'+f.JS.Equi+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QPro">'+f.JS.QPro+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QRes">'+f.JS.QRes+'/h</th><th style="width:8.88%;cursor:default;">'+f.JS.MinIntervalTime+"</th>"+this._titleEnd:this._title+'<th style="width:8.88%;" tabindex="0" id="resultPlan_Manp">'+f.JS.Manp+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Ammu">'+f.JS.Ammu+'</th><th style="width:8.88%;"tabindex="0" id="resultPlan_Rati">'+f.JS.Rati+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Part">'+f.JS.Part+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_TPro">'+f.JS.TPro+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Equi">'+f.JS.Equi+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QPro">'+f.JS.QPro+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QRes">'+f.JS.QRes+'</th><th style="width:8.88%;cursor:default;">'+f.JS.MinIntervalTime+"</th>"+this._titleEnd}},{key:"printTableCustomize",value:function(e,t,a,n){var i=[],r=[this.Qvalid_Time[e],this.Qvalid_Time[t],this.Qvalid_Time[a],this.Qvalid_Time[n]];return i.push(Ie(r,this._totalTime)+"m"),i}},{key:"getSavedCustom",value:function(){var e=[],t=void 0;t=this._baseData?this._baseData[3][0]:ge(),e.push(t);var a=void 0;return a=this._baseData?this._baseData[3][1]:be(),e.push(a),e.slice()}},{key:"applySavedCustom",value:function(e){var t=e.slice(),a=t[0],n=t[1];Te(a),function(e){var t=0<arguments.length&&void 0!==e?e:0;$("#Tab_Anytime_MinimumIntervalTime_minutes").val(t)}(n),J("TabAnytimeCustom",t)}},{key:"planDetailsCustom_Title",value:function(){return f.JS.MinIntervalTime}},{key:"planDetailsCustom_Content",value:function(e){for(var t=[],a=this.getTotalTime(!1),n=0;n<e.length;n++)for(var i=0;i<E.length;i++)if(E[i][0]===e[n]){t.push(E[i][9]);break}for(var r=e.length;r<4;r++)t.push(a);return m(t),y(Ie(t,a))}}],[{key:"isThisTabShow",value:function(){return!!$("#Tab_Anytime").hasClass("active")}}]),Me);function Me(e){_(this,Me);var t=d(this,(Me.__proto__||Object.getPrototypeOf(Me)).call(this,e));return t.name="Anytime",t.displayName=f.HTML.Tab_Anytime_name,t.PlanTableResourceAndContractWidth="8.88%",t.Qvalid_Time=[],t.MinimumIntervalTime=0,t}function Ie(e,t){for(var a=e[0],n=0;n<4;n++){var i=t%e[n];0!=i&&(a=a<i?a:i)}var r=e[0],o=e[1],s=e[2],l=e[3],d=4;if(l%s!=0&&l%o!=0&&l%r!=0||d--,s%o!=0&&s%r!=0||(3===d?d--:e[2]=t),o%r==0&&(2===d?d--:e[1]=t),1===d)return a;for(var _=r;_<t;){for(var u=t,c=0,m=-1;++m<d;)e[m]<=u&&(u=e[m],c=m);switch(c){case 0:e[0]+=r;break;case 1:e[1]+=o;break;case 2:e[2]+=s;break;case 3:e[3]+=l}var h=u-_;0!=h&&(_=u,a=a<h?a:h)}return a}var xe=(t($e,we),e($e,[{key:"_setTime",value:function(e){if(!0!==this._setTimeFlag){if(this._baseData?this.TimeList=this._baseData[3][1].slice():this.TimeList=q.slice().sort(a),this.TimeList.unshift(0),this._baseData?this._totalTime=this._baseData[3][0]:this._totalTime=fe(e),e&&0===this._totalTime)throw F.alert(f.JS.tab_Timetable_alert4),nt(),"Warning: Total time cannot be 0!";this.TimeList.push(this._totalTime),this._setTimeFlag=!0}}},{key:"setQValid",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;if(!0!==this._setQValidFlag){this._setTime(t);for(var a=this._calcTotalGSRate(t),n=1+a/200,i=this._getUnableLogistic(),r=0;r<E.length;r++)if(-1===i.indexOf(r)){var o=[];o.push(E[r][0]);for(var s=0,l=[],d=0,_=1;_<this.TimeList.length;_++)E[r][9]<=this.TimeList[_]-this.TimeList[d]&&(s++,l.push(this.TimeList[d]+E[r][9]),d=_);for(var u=1;u<5;u++)o.push(E[r][u]*s*n/this._totalTime);for(var c=E[r][5]+E[r][6]+E[r][7]+E[r][8],m=5;m<9;m++)o.push(g(E[r][m],c,a)*s/this._totalTime);o.push(E[r][9]),o.push(l),this._QValid.push(o)}this._setQValidFlag=!0}}},{key:"printPlanTableTitle",value:function(){return ae()?this._title+'<th style="width:10%;" tabindex="0" id="resultPlan_Manp">'+f.JS.Manp+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Ammu">'+f.JS.Ammu+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Rati">'+f.JS.Rati+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Part">'+f.JS.Part+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_TPro">'+f.JS.TPro+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Equi">'+f.JS.Equi+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_QPro">'+f.JS.QPro+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_QRes">'+f.JS.QRes+"/h</th>"+this._titleEnd:this._title+'<th style="width:10%;" tabindex="0" id="resultPlan_Manp">'+f.JS.Manp+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Ammu">'+f.JS.Ammu+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Rati">'+f.JS.Rati+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Part">'+f.JS.Part+'</th><th style="width:10%;" tabindex="0" id="resultPlan_TPro">'+f.JS.TPro+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Equi">'+f.JS.Equi+'</th><th style="width:10%;" tabindex="0" id="resultPlan_QPro">'+f.JS.QPro+'</th><th style="width:10%;" tabindex="0" id="resultPlan_QRes">'+f.JS.QRes+"</th>"+this._titleEnd}},{key:"getSavedCustom",value:function(){var e=[],t=void 0;t=this._baseData?this._baseData[3][0]:fe(),e.push(t);var a=void 0;return a=this._baseData?this._baseData[3][1].slice():q.slice(),e.push(a),e.slice()}},{key:"applySavedCustom",value:function(e){var t=e.slice();ye(t[0]);var a=t[1].slice();j(a),J("TabTimetableCustom",t)}}],[{key:"isThisTabShow",value:function(){return!!$("#Tab_Timetable").hasClass("active")}}]),$e);function $e(e){_(this,$e);var t=d(this,($e.__proto__||Object.getPrototypeOf($e)).call(this,e));return t.name="Timetable",t.displayName=f.HTML.Tab_Timetable_name,t._QValid=[],t.TimeList=[],t.PlanTableResourceAndContractWidth="10%",t}function Le(){var e=void 0;return De.isThisTabShow()?e=new De:xe.isThisTabShow()&&(e=new xe),e}function Re(e,t){var a=void 0;switch(e){case"Anytime":a=new De(t);break;case"Timetable":a=new xe(t)}return a}var Ee=6;function Fe(){var e=f.HTML,t=f.HTMLJS,a=f.JS;f.CSS;for(var n in document.documentElement.lang=f.lang,document.title=f.title,e)null!==document.getElementById(n)&&(document.getElementById(n).innerHTML=e[n]);for(var i in t.placeholder)null!==document.getElementById(i)&&(document.getElementById(i).placeholder=t.placeholder[i]);for(var r in t.title)null!==document.getElementById(r)&&(document.getElementById(r).title=t.title[r]);it(),nt();for(var o=(E.length-4)/4,s=Ee;s<=o;s++)document.getElementById("chapter_"+s).innerHTML=a.chapter_start+a.number(s)+a.chapter_end;$("button[id^=Tab_Timetable_range_thumb_]").attr("title",t.Timetable_deletePoint);var l=Le();for(var d in Qe.printShownTab(l.name),Qe.printTotalTime(l.getTotalTime(!1)),Qe.printGreatSuccessRate(le()),Qe.printExecutionTimes(ke()),$("#PlanDetails_PerHour_title").html(a.PerHour),$("#PlanDetails_Total_title").html(a.Total),$("#PlanDetails_TabCustom_Title").html(l.planDetailsCustom_Title()),ae()?$("#Demand").html(t.Demand_hour):$("#Demand").html(t.Demand_total),f.otherLangCssClass)$("body").removeClass(f.otherLangCssClass[d]);$("body").addClass(f.cssClass);var _=f.html_class;for(var u in _)$("."+u).html(_[u]);var c=f.placeholder_class;for(var m in c)$("."+m).attr("placeholder",c[m]);window.PLAN_COMBINATION&&ja.print(qa.chartGetPlans(),Oa.chartGetPlans()),function(){var e=Be.length,t=f.JS;document.getElementById("consumption_preset").innerHTML=t.C_preset;for(var a=0;a<e;++a)document.getElementById("consumption_preset_"+a).innerHTML=t["C_preset_"+a]}(),$("#consumption_total_td").html(a.consumption_total_td),rt.setSaved(rt._saved)}function Ve(e,t){for(var a="",n=0;n<4;++n)a+='<div class="col-sm-3 col-6 mb-2 input-group input-group-regular">',a+='<label for="PC_'+e+t[n]+'" class="reAndco-label '+t[n]+' input-group-label input-group-text"',a+='id="PC_'+e+t[n]+'_label"></label>',a+='<input id="PC_'+e+t[n]+'" type="number" class="autoEnter ',"QRes"===t[n]&&(a+="autoEnterEnd"),a+=" form-control "+t[n]+'_placeholder" value="0" min="0" autocomplete="off"></div>';return a}function Ne(e){for(var t="",a=0;a<4;++a)t+='<div class="col-sm-3 col-6 input-group-regular mb-2">',t+='<input type="number" class="form-control '+e[a]+'_placeholder" id="Consumption_'+e[a]+'" autocomplete="off"></div>';return t}var Be=[[2160,1860,1510,1360,5,8,4,8],[9600/7,12100/7,12100/7,6100/7,10/7,2,2,19/7],[-900,-900,-900,-300,0,0,0,0],[-500,-500,-500,-500,0,-1,0,0],[-2e3,-500,-2e3,-1e3,0,-1,0,0],[-500,-2e3,-2e3,-1e3,0,-1,0,0],[-2e3,-2e3,-2e3,-1e3,0,-1,0,0],[-270,-270,-270,-90,0,0,0,0],[-540,-540,-540,-180,0,0,0,0],[-760,-760,-760,-250,0,0,0,0],[-130,-130,-130,-130,-1,0,0,0],[-430,-430,-130,-230,-1,0,0,0],[-430,-130,-430,-230,-1,0,0,0],[-130,-430,-430,-130,-1,0,0,0],[-730,-630,-130,-430,-1,0,0,0],[-6e3,-2e3,-6e3,-4e3,-1,0,0,0],[-210,-80,-150,-80,0,-1,0,0],[-270,-40,-270,-190,0,-1,0,0],[-120,-92,-60,-152,0,-1,0,0],[-240,-240,-40,-130,0,-1,0,0],[-60,-250,-152,-92,0,-1,0,0],[-51,-250,-150,-100,0,-1,0,0],[-50,-50,-50,-250,0,-1,0,0],[-151,-10,-151,-151,0,-1,0,0],[-110,-10,-110,-151,0,-1,0,0]];var Qe=(e(Je,null,[{key:"printShownTab",value:function(e){var t=Re(e).displayName;document.getElementById("PlanDetails_ShownTab").innerHTML=f.JS.PlanDetails_calculateMethod+": "+t}},{key:"printTotalTime",value:function(e){document.getElementById("PlanDetails_TotalTime").innerHTML=f.JS.total_time+": "+y(e)}},{key:"printGreatSuccessRate",value:function(e){document.getElementById("PlanDetails_GreatSuccessRate").innerHTML=f.JS.total_greatSuccessRate+": "+e+"%"}},{key:"printExecutionTimes",value:function(e){document.getElementById("PlanDetails_ExecutionTimes").innerHTML=f.JS.ExecutionTimes+": "+e}},{key:"printMissions",value:function(e){for(var t=0;t<e.length;t++){for(var a="<td>"+e[t][0]+"</td>",n=1;n<9;n++)a+="<td>",a+=b(60*e[t][n]),a+="</td>";a+="<td>"+y(e[t][9])+"</td>",document.getElementById("PlanDetails_Mission_"+(t+1)).innerHTML=a}for(var i=e.length;i<4;i++)document.getElementById("PlanDetails_Mission_"+(i+1)).innerHTML=""}},{key:"printMissionsHourly",value:function(e,t){if(0!==e.length){for(var a="<td id='PlanDetails_PerHour_title'>"+f.JS.PerHour+"</td>",n=1;n<9;n++){a+="<td>";for(var i=0,r=0;r<e.length;r++)i+=e[r][n];a+=b(60*i),a+="</td>"}a+="<td id='PlanDetails_TabCustom_Title'>",a+=Re(t).planDetailsCustom_Title(),a+="</td>",document.getElementById("PlanDetails_PerHour").innerHTML=a}else document.getElementById("PlanDetails_PerHour").innerHTML=""}},{key:"printMissionsTotal",value:function(e,t,a,n){if(0!==e.length){for(var i="<td id='PlanDetails_Total_title'>"+f.JS.Total+"</td>",r=1;r<9;r++){i+="<td>";for(var o=0,s=0;s<e.length;s++)o+=e[s][r];i+=b(o*t*a),i+="</td>"}for(var l=[],d=0;d<e.length;d++)l.push(e[d][0]);i+="<td>",i+=Re(n).planDetailsCustom_Content(l)+"</td>",document.getElementById("PlanDetails_Total").innerHTML=i}else document.getElementById("PlanDetails_Total").innerHTML=""}},{key:"_clearChartLastParam",value:function(){this._chartLastParam={missionsName:[],collectTimetable:[],totalTime:-1,startTIme:-1}}},{key:"printChart",value:function(e,t,a){if(0!==this._loadingChart.length&&(clearTimeout(this._loadingChart[0]),this._loadingChart.shift()),window.echarts){var n=this._chartLastParam;if(e.length===n.missionsName.length&&t===n.totalTime&&a===n.startTIme){for(var i=e.length,r=!0,o=0;o<i;o++)e[o][0]===n.missionsName[o]&&""+e[o][10]===n.collectTimetable[o]||(r=!1);if(!0===r)return}var s=document.getElementById("PlanDetails_Chart"),l=void 0;if(""===s.getAttribute("_echarts_instance_")||null===s.getAttribute("_echarts_instance_")){if(0===e.length)return;s.style.cssText="width: 610px; height: 120px;",l=echarts.init(s)}else if(l=echarts.getInstanceByDom(s),0===e.length)return l.dispose(),s.style.cssText="",void this._clearChartLastParam();for(var d=[],_=[],u=[],c=[],m=[],h=["#A1C0FF","#FF8C8A","#75d874","#FFDA93"],v=e.length-1;0<=v;v--)d.push(e[v][0]),_.push(e[v][9]),u.push(e[v][10]),c.push(e[v][10].length),m.push({name:e[v][0],color:h[v]});var p=[],g=void 0;g=t<=960?60:t<=1920?120:t<=2880?180:t<=3840?240:300;var T=!1;I()||(T=!0),echarts.util.each(["0","1","2","3"],function(e,t){for(var a=void 0,n=0;n<c[e];n++){var i=m[e],r=_[e];p.push({name:i.name,value:[t,a=u[e][n]-r,a+=r],itemStyle:{color:i.color,borderColor:"#000"}})}});var b={title:{show:!1},grid:{left:35,right:20,top:5,bottom:20,height:"auto"},xAxis:{min:0,scale:!0,axisLabel:{formatter:function(e){return k(e+a)}},max:t,interval:g},yAxis:{data:d},series:[{type:"custom",renderItem:He,data:p,silent:!0}],animation:T,backgroundColor:"#FFFFFF"};l.setOption(b),n.startTIme=a,n.totalTime=t;for(var f=e.length,y=[],P=[],C=0;C<f;C++)y.push(e[C][0]),P.push(""+e[C][10]);n.missionsName=y,n.collectTimetable=P}else{window.chart_loading||(document.getElementById("PlanDetails_Chart").innerHTML='<div class="spinner-border m-4" id="chart_loading" role="status"><span class="sr-only">Loading...</span></div>');var S=setTimeout(function(){Je.printChart(e,t,a)},1e3);this._loadingChart.push(S)}}},{key:"printAll",value:function(e,t,a,n,i,r){this.printShownTab(e),this.printTotalTime(t),this.printGreatSuccessRate(a),this.printExecutionTimes(n),this.printMissions(i),this.printMissionsHourly(i,e),this.printMissionsTotal(i,t,n,e),this.printChart(i,t,r)}}]),Je);function Je(){_(this,Je)}function He(e,t){var a=t.value(0),n=t.coord([t.value(1),a]),i=t.coord([t.value(2),a]),r=.5*t.size([0,1])[1],o=Math.round(2*n[0])/2;return 35===o&&(o=35.5),{type:"rect",shape:{x:o=Math.round(o-35.5)+35.5,y:n[1]-r/2,width:Math.round(Math.round(2*i[0])/2-35.5)+35.5-o,height:r},style:t.style()}}function Oe(){var e=Le(),t=e.getTotalTime(!1),a=le(),n=ke(),i=Ce();Qe.printAll(e.name,t,a,n,Ge.getSelectedMissionsDetails(),i)}Qe._chartLastParam={missionsName:[],collectTimetable:[],totalTime:-1,startTIme:-1},Qe._loadingChart=[];var Ge=(e(We,null,[{key:"getSelectedMissions",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e,a=this._selectedMissions.slice();return t?a.sort(M):a}},{key:"setSelectedMissions",value:function(e){this._selectedMissions=e}},{key:"selectMission",value:function(e){this._selectedMissions.push(e)}},{key:"deleteSelectedMission",value:function(e){var t=0<arguments.length&&void 0!==e?e:this._selectedMissions[0];this._selectedMissions.remove_First(t)}},{key:"getSelectedMissionsDetails",value:function(){for(var e=[],t=this.getSelectedMissions(),a=this._missionsTable,n=0;n<t.length;n++){var i=this.getMissionsTableRowIndex(t[n]);e.push(a[i])}return e}},{key:"getMissionsTable",value:function(e){switch(0<arguments.length&&void 0!==e?e:"default"){case"default":return this._missionsTable.slice();case"quick":return this._missionsTable;case"missionSort":var t=this._missionsTable.slice();return p(t,0),t}}},{key:"getMissionsTableRowIndex",value:function(e){for(var t=-1,a=this._missionsTable.length,n=0;n<a;n++)if(e===this._missionsTable[n][0]){t=n;break}return t}},{key:"setMissionsTable",value:function(){var e=Le();this._missionsTable=e.getQValid(!1),this._sortMissionsTable("Mission")}},{key:"_sortMissionsTable",value:function(e){switch(e){case"Mission":p(this._missionsTable,0);break;case"Manp":h(this._missionsTable,1);break;case"Ammu":h(this._missionsTable,2);break;case"Rati":h(this._missionsTable,3);break;case"Part":h(this._missionsTable,4);break;case"TPro":h(this._missionsTable,5);break;case"Equi":h(this._missionsTable,6);break;case"QPro":h(this._missionsTable,7);break;case"QRes":h(this._missionsTable,8);break;case"Time":v(this._missionsTable,9)}}},{key:"print",value:function(e){void 0!==e?this._sortMissionsTable(e):this.setMissionsTable();var t=this._missionsTable,a=t.length,n=this.getSelectedMissions(),i=60;ae()||(i=Le().getTotalTime(!1));for(var r="",o=0;o<a;o++){r+='<tr id="MissionTable_'+o+'" tabindex="0"';for(var s=0;s<n.length;s++)if(n[s]===t[o][0]){n.splice(s,1),r+='class="table-success"';break}r+="><td>"+t[o][0]+"</td>";for(var l=1;l<9;l++)r+="<td>"+b(t[o][l]*i)+"</td>";r+="<td>"+y(t[o][9])+"</td>",r+="</tr>"}for(var d=0;d<n.length;d++)this._selectedMissions.remove_First(n[d]);0===a&&(r='<tr><td colspan="10">'+f.JS.NoMission+"</td></tr>"),document.getElementById("MissionTable_tbody").innerHTML=r}}]),We);function We(){_(this,We)}function ze(e,t){jt.print(e,t),Zt.print();var a=Ge.getSelectedMissions();4===a.length&&qe(a)}function qe(e){for(var t=jt.getLastResultsPlan().slice(),a=t.length,n=0;n<a;n++)if(e[0]===t[n][1]&&e[1]===t[n][2]&&e[2]===t[n][3]&&e[3]===t[n][4]){$("#print_result_plan_tr_"+n).addClass("table-success");break}}function Ue(){for(var e=jt.getLastResultsPlan().length,t=0;t<e;t++){var a=$("#print_result_plan_tr_"+t);if(a.hasClass("table-success")){a.removeClass("table-success");break}}}function je(e){var t=$("#print_result_plan_tr_"+e);if(t.hasClass("table-success"))t.removeClass("table-success");else{for(var a=jt.getLastResultsPlan(),n=a.length,i=0;i<n;i++){var r=$("#print_result_plan_tr_"+i);r.hasClass("table-success")&&r.removeClass("table-success")}t.addClass("table-success");for(var o=Ge.getSelectedMissions(!1),s=0;s<o.length;s++){var l=Ge.getMissionsTableRowIndex(o[s]);$("#MissionTable_"+l).removeClass("table-success")}for(var d=0;d<4;d++)o[d]=a[e][d+1];Ge.setSelectedMissions(o),Oe();for(var _=0;_<4;_++){var u=Ge.getMissionsTableRowIndex(o[_]);$("#MissionTable_"+u).addClass("table-success")}}}function Ye(e){var t=$("#MissionTable_"+e);if(t.hasClass("table-success")){t.removeClass("table-success");var a=Ge.getMissionsTable("quick")[e][0];Ge.deleteSelectedMission(a),Oe(),Ze()&&Ue()}else{t.addClass("table-success");var n=Ge.getSelectedMissions(!1);if(4===n.length){var i=Ge.getMissionsTableRowIndex(n[0]);$("#MissionTable_"+i).removeClass("table-success"),Ge.deleteSelectedMission()}var r=Ge.getMissionsTable("quick")[e][0];if(Ge.selectMission(r),Oe(),Ze()&&Ue(),3<=n.length&&Ze())qe(Ge.getSelectedMissions())}}function Ze(){var e=document.getElementById("Plan_Table").innerHTML;return""!==e&&e!==f.JS.NoPlan}Ge._missionsTable=[],Ge._selectedMissions=[];var Xe=(e(Ke,null,[{key:"save",value:function(){36<=this._saved.length?F.alert(f.JS.Saved_alert2):F.prompt(f.JS.plzInputTargetName,f.JS.TargetSaved_prompt_title,Ke._saveThisPlan_ok,function(){},"text",f.JS.planDefaultName,Ke.checkNameValid,function(e){return""},Ke.invalidNameFeedback)}},{key:"_saveThisPlan_ok",value:function(e){var t={};t.name=e,t.data=_e().slice(),t.data.push(me()),Ke._saved.push(t),J("TargetSaved",Ke._saved),Ke._printLastSaved()}},{key:"_printLastSaved",value:function(){var e=this._saved.length-1;0==e&&(document.getElementById("setTarget_noSaved").style.display="none");var t=this._getSavedRowHTML(e);$("#setTarget_saved").append(t)}},{key:"_getSavedRowHTML",value:function(e,t){var a=1<arguments.length&&void 0!==t?t:this._saved,n='<a class="dropdown-item dropdown-item-regular" id="setTarget_row_';return n+=e+'"><span class="dropdown-item-span" id="setTarget_span_row_',n+=e+'" title="',n+=a[e].name+'">',n+=a[e].name,n+='</span><button class="close" id="setTarget_close_row_',n+=e+'">×</button></a>'}},{key:"checkNameValid",value:function(e){return""!==e&&e.length<=30}},{key:"invalidNameFeedback",value:function(e){return""===e?f.JS.TargetSaved_invalidNameFeedback1:30<=e.length?f.JS.TargetSaved_invalidNameFeedback2:""}},{key:"click",value:function(e){if(!0!==this._deleteFlag){var t=this._saved[e].data;ue(t.slice(0,8)),he(t[8])}else this._deleteFlag=!1}},{key:"delete",value:function(e){for(var t=e;t<this._saved.length-1;t++){var a=$("#setTarget_span_row_"+t);a.html(this._saved[t+1].name),a.attr("title",this._saved[t+1].name)}var n=document.getElementById("setTarget_row_"+(this._saved.length-1));document.getElementById("setTarget_saved").removeChild(n),this._saved.splice(e,1),0===this._saved.length&&(document.getElementById("setTarget_noSaved").style.display=""),J("TargetSaved",this._saved),this._deleteFlag=!0,setTimeout(function(){$("#setTarget_saved_dropdown").dropdown("show")},0)}},{key:"setSaved",value:function(e){if(0===(this._saved=e).length)document.getElementById("setTarget_noSaved").style.display="",document.getElementById("setTarget_saved").innerHTML="";else{document.getElementById("setTarget_noSaved").style.display="none";for(var t="",a=0;a<this._saved.length;a++)t+=this._getSavedRowHTML(a);document.getElementById("setTarget_saved").innerHTML=t}return J("TargetSaved",this._saved),!0}}]),Ke);function Ke(){_(this,Ke)}function et(e){switch(e){case"zh-CN":if(f.lang===i.lang)return;J("Lang","zh-CN"),f=i;break;case"zh-TW":if(f.lang===r.lang)return;J("Lang","zh-TW"),f=r;break;case"en":if(f.lang===o.lang)return;J("Lang","en"),f=o}$("#set_lang").html(f.name),Fe()}function tt(e,t){var a=!(1<arguments.length&&void 0!==t)||t,n=$("#Tab_Timetable"),i=$("#Tab_Anytime");if(Le().name!==e){switch(e){case"Anytime":a&&$("#Tab_Anytime_name").tab("show"),n.removeClass("active show"),i.addClass("active");break;case"Timetable":a&&$("#Tab_Timetable_name").tab("show"),i.removeClass("active show"),n.addClass("active")}J("TabName",e)}}function at(e){var t=T(e),a=e.indexOf(t),n=e.slice(0,a-1),i=T(n);"0"===i[0]&&(i="0."+i.slice(1));var r=parseFloat(i);"m"===n.slice(7,8)&&(r*=-1);var o=$("#"+t);ue(_e(o,!1)+r,o)}function nt(){"none"===document.getElementById("start_ranking").style.display&&($("#Time_Anytime_hours").removeAttr("disabled"),$("#Time_Anytime_minutes").removeAttr("disabled"),$("#Tab_Anytime_MinimumIntervalTime_minutes").removeAttr("disabled"),0===q.length&&($("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")),$("#tab_Timetable_deleteall").removeAttr("disabled"),$("button[id^=Tab_Timetable_range_thumb_]").removeAttr("disabled"),$("#Tab_Timetable_new_hours").removeAttr("disabled"),$("#Tab_Timetable_new_minutes").removeAttr("disabled"),$("#Tab_Timetable_AddNewTimePoint").removeAttr("disabled"),$("#GreatSuccessRate").removeAttr("disabled"),$("#GreatSuccessRateUp_btn").removeAttr("disabled"),$("#GreatSuccessRateUp_btn").removeClass("disabled"),$("#ChapterLimit").removeAttr("disabled"),$("#ContractWeight").removeAttr("disabled"),$("button[id^=setTarget_]").removeAttr("disabled"),$("#MT").removeAttr("disabled"),$("#AT").removeAttr("disabled"),$("#RT").removeAttr("disabled"),$("#PT").removeAttr("disabled"),$("#TT").removeAttr("disabled"),$("#ET").removeAttr("disabled"),$("#QPT").removeAttr("disabled"),$("#QRT").removeAttr("disabled"),$("button[id^=Target_minus_]").removeAttr("disabled"),$("button[id^=Target_plus_]").removeAttr("disabled"),document.getElementById("start_ranking").style.display="",document.getElementById("clear_ranking").style.display="none")}function it(){document.getElementById("start_ranking_html").style.display="",document.getElementById("FineTuning").innerHTML="",document.getElementById("Plan_Table").innerHTML="",window.FineTuning_JS&&Zt.clear(),window.ResultsPlan_JS&&jt.clear()}Xe._saved=[],Xe._deleteFlag=!1;var rt=(e(ot,null,[{key:"getSaved",value:function(){return this._saved.slice()}},{key:"saveThisPlan",value:function(){99<=this._saved.length?F.alert(f.JS.Saved_alert2):F.prompt(f.JS.plzInputPlanName,f.JS.Saved_prompt_title,ot._saveThisPlan_ok,function(){},"text",f.JS.planDefaultName,ot.checkNameValid,function(e){return""},ot.invalidNameFeedback)}},{key:"_saveThisPlan_ok",value:function(e){var t=ot.getSavedDataFromPage(e);ot._saved.push(t),J("Saved",ot._saved),ot._printLastSaved()}},{key:"getSavedDataFromPage",value:function(e){var t={};t.name=e,t.GSRate=ne(),t.is_UP=re(),t.Chapter=ve();var a=Le();return t.TabName=a.name,t.TabCustom=a.getSavedCustom(),t.Missions=Ge.getSelectedMissions(),t.startTime=Ce(),t}},{key:"checkNameValid",value:function(e){return""!==e&&e.length<=30}},{key:"invalidNameFeedback",value:function(e){return""===e?f.JS.Saved_invalidNameFeedback1:30<=e.length?f.JS.Saved_invalidNameFeedback2:""}},{key:"_printLastSaved",value:function(){var e=this._saved.length-1;0==e&&(document.getElementById("NoSaved").style.display="none");var t=this._getSavedRowHTML(e);$("#Saved_Body").append(t),-1!==this._selectRow&&this._selectRow===this._saved.length-2&&$("#moveSaved_down").removeAttr("disabled")}},{key:"_getSavedRowHTML",value:function(e,t){var a=1<arguments.length&&void 0!==t?t:this._saved,n='<a class="list-group-item list-group-item-action" tabindex="0" id="SavedTable_row_'+e+'">';return n+=this._getSavedRowHTML_main(e,a),n+="</a>"}},{key:"_getSavedRowHTML_main",value:function(e,t){var a=1<arguments.length&&void 0!==t?t:this._saved,n='<span class="Saved-Name" title="'+a[e].name+'">'+a[e].name+"</span>";n+='<div class="Saved-Overview">';var i=Re(a[e].TabName),r=i.getTotalTimeFromSavedCustom(a[e].TabCustom);n+="<div>"+i.displayName+"<br>"+y(r)+"</div>";for(var o=a[e].Missions.slice(),s=0;s<4;++s)void 0===o[s]&&(o[s]="");n+="<div>"+o[0]+"<br>"+o[1]+"</div>",n+="<div>"+o[2]+"<br>"+o[3]+"</div>";var l=this.getReAndCoBySaved(a[e],ae()).slice(0,4);return n+='<div class="Saved-Overview-resources">'+Math.round(l[0])+"<br>"+Math.round(l[2])+"</div>",n+='<div class="Saved-Overview-resources">'+Math.round(l[1])+"<br>"+Math.round(l[3])+"</div>",n+="</div>"}},{key:"getReAndCoBySaved",value:function(e,t){var a=this.creatTabBySaved(e),n=a.getQValid(!1),i=a.getTotalTime(!1);t&&(i=60),p(n,0);for(var r=[0,0,0,0,0,0,0,0],o=n.length,s=e.Missions,l=0;l<o;++l)-1!==s.indexOf(n[l][0])&&(r[0]+=n[l][1]*i,r[1]+=n[l][2]*i,r[2]+=n[l][3]*i,r[3]+=n[l][4]*i,r[4]+=n[l][5]*i,r[5]+=n[l][6]*i,r[6]+=n[l][7]*i,r[7]+=n[l][8]*i);return r}},{key:"creatTabBySaved",value:function(e){return Re(e.TabName,[e.Chapter,e.GSRate,e.is_UP,e.TabCustom.slice()])}},{key:"clickThisRow",value:function(e){$("#SavedTable_row_"+e).hasClass("list-group-item-success")?this._cancelSelectThisRow(e):this._selectThisRow(e)}},{key:"_cancelSelectThisRow",value:function(e){this._selectRow=-1,$("#SavedTable_row_"+e).removeClass("list-group-item-success"),$("#exportSaved_button").attr("disabled","true"),$("#renameSaved_button").attr("disabled","true"),$("#moveSaved_up").attr("disabled","true"),$("#moveSaved_down").attr("disabled","true"),$("#deleteSaved").attr("disabled","true")}},{key:"_selectThisRow",value:function(e){-1!==this._selectRow?$("#SavedTable_row_"+this._selectRow).removeClass("list-group-item-success"):(window.md5&&window.LZString&&$("#exportSaved_button").removeAttr("disabled"),$("#renameSaved_button").removeAttr("disabled"),$("#deleteSaved").removeAttr("disabled")),this._selectRow=e,$("#SavedTable_row_"+e).addClass("list-group-item-success"),0!==e?$("#moveSaved_up").removeAttr("disabled"):$("#moveSaved_up").attr("disabled","true"),e!==this._saved.length-1?$("#moveSaved_down").removeAttr("disabled"):$("#moveSaved_down").attr("disabled","true"),this.apply(this._saved[e])}},{key:"apply",value:function(e){var t=e.TabName;tt(t),ie(e.GSRate),de(e.is_UP),pe(e.Chapter),Re(t).applySavedCustom(e.TabCustom.slice()),Ge.setSelectedMissions(e.Missions.slice()),Se(e.startTime),it(),nt(),Ge.print(),Oe()}},{key:"getSelectedName",value:function(){return this._saved[this._selectRow].name}},{key:"renameSelected",value:function(){var e=this._selectRow,t=$("#renameSaved_input").val();this._saved[e].name=t,$("#SavedTable_row_"+e).html(this._getSavedRowHTML_main(e)),J("Saved",this._saved)}},{key:"moveSelected_up",value:function(){var e=this._selectRow;$("#SavedTable_row_"+e).removeClass("list-group-item-success"),$("#SavedTable_row_"+(e-1)).addClass("list-group-item-success"),$("#SavedTable_row_"+e).html(this._getSavedRowHTML_main(e-1)),$("#SavedTable_row_"+(e-1)).html(this._getSavedRowHTML_main(e));var t=[this._saved[e-1],this._saved[e]];this._saved[e]=t[0],this._saved[e-1]=t[1],this._selectRow--,$("#moveSaved_down").removeAttr("disabled"),0===this._selectRow&&$("#moveSaved_up").attr("disabled","true"),J("Saved",this._saved);try{document.getElementById("SavedTable_row_"+(e-1)).scrollIntoViewIfNeeded(!1)}catch(e){}}},{key:"moveSelected_down",value:function(){var e=this._selectRow;$("#SavedTable_row_"+e).removeClass("list-group-item-success"),$("#SavedTable_row_"+(e+1)).addClass("list-group-item-success"),$("#SavedTable_row_"+e).html(this._getSavedRowHTML_main(e+1)),$("#SavedTable_row_"+(e+1)).html(this._getSavedRowHTML_main(e));var t=[this._saved[e+1],this._saved[e]];this._saved[e]=t[0],this._saved[e+1]=t[1],this._selectRow++,$("#moveSaved_up").removeAttr("disabled"),this._selectRow===this._saved.length-1&&$("#moveSaved_down").attr("disabled","true"),J("Saved",this._saved);try{document.getElementById("SavedTable_row_"+(e+1)).scrollIntoViewIfNeeded(!1)}catch(e){}}},{key:"exportSelected",value:function(){var e=this._selectRow,t=this._saved[e],a={data:t,MD5:md5(JSON.stringify(t))},n=JSON.stringify(a);n=LZString.compressToEncodedURIComponent(n),$("#exportSaved_input").val(n)}},{key:"deleteSelected",value:function(){var e=this._selectRow,t=this._saved[e].name,a=f.JS.deleteSavedWarning_1+'"'+t+'"'+f.JS.deleteSavedWarning_2;F.confirm(a,function(){ot._deleteSelected_ok(e)})}},{key:"_deleteSelected_ok",value:function(e){this._cancelSelectThisRow(e);for(var t=e;t<this._saved.length-1;t++)$("#SavedTable_row_"+t).html(this._getSavedRowHTML_main(t+1));var a=document.getElementById("SavedTable_row_"+(this._saved.length-1));document.getElementById("Saved_Body").removeChild(a),this._saved.splice(e,1),0===this._saved.length&&(document.getElementById("NoSaved").style.display="")}},{key:"import",value:function(e){if(9<=this._saved.length)F.alert(f.JS.Saved_alert2);else{var t=LZString.decompressFromEncodedURIComponent(e);try{var a=JSON.parse(t),n=md5(JSON.stringify(a.data))===a.MD5}catch(e){}n?(this._saved.push(a.data),J("Saved",this._saved),this._printLastSaved()):F.alert(f.JS.Saved_alert)}}},{key:"setSaved",value:function(e){if(this.cancelSelected(),0===(this._saved=e).length)document.getElementById("NoSaved").style.display="",document.getElementById("Saved_Body").innerHTML="";else{document.getElementById("NoSaved").style.display="none";for(var t="",a=0;a<this._saved.length;a++)t+=this._getSavedRowHTML(a);document.getElementById("Saved_Body").innerHTML=t}return J("Saved",this._saved),!0}},{key:"cancelSelected",value:function(){var e=this._selectRow;-1!==e&&this._cancelSelectThisRow(e)}}]),ot);function ot(){_(this,ot)}function st(e){tt("Timetable"===(0<arguments.length&&void 0!==e?e:H("TabName"))?"Timetable":"Anytime")}rt._saved=[],rt._selectRow=-1;var lt=!0;function dt(e){var t=0<arguments.length&&void 0!==e?e:H("HourlyOrTotal");lt="PerHour"===t?(J("HourlyOrTotal","PerHour"),document.getElementById("Display_PerHour").checked=!0,$("#Display_Total_label").removeClass("active"),$("#Display_PerHour_label").addClass("active"),!1):(J("HourlyOrTotal","Total"),document.getElementById("Display_Total").checked=!0,$("#Display_Total_label").addClass("active"),$("#Display_PerHour_label").removeClass("active"),!0)}function _t(e){var t=0<arguments.length&&void 0!==e?e:H("TabAnytimeCustom");"noStorage"!==t&&(new De).applySavedCustom(t)}function ut(e){var t=0<arguments.length&&void 0!==e?e:H("TabTimetableCustom");"noStorage"!==t&&(new xe).applySavedCustom(t)}function ct(e){var t=0<arguments.length&&void 0!==e?e:H("GreatSuccessRate");"noStorage"!==t&&ie(t)}function mt(e){var t=0<arguments.length&&void 0!==e?e:H("Is_GreatSuccessRateUP");"noStorage"!==t&&de(t,!1)}function ht(e){var t=0<arguments.length&&void 0!==e?e:H("ChapterLimit");"noStorage"!==t&&pe(t)}function vt(e){var t=0<arguments.length&&void 0!==e?e:H("ContractWeight");"noStorage"!==t&&he(t)}function pt(e){var t=0<arguments.length&&void 0!==e?e:H("TargetValue");"noStorage"!==t&&ue(t)}function gt(e){var t=0<arguments.length&&void 0!==e?e:H("Saved");"noStorage"!==t&&rt.setSaved(t)}function Tt(e){var t=0<arguments.length&&void 0!==e?e:H("TargetSaved");"noStorage"!==t?Xe.setSaved(t):Xe.setSaved([])}var bt;function ft(){var e={};e.version=s;var t=Le();e.TabName=t.name,ae()?e.HourlyOrTotal="PerHour":e.HourlyOrTotal="Total";var a,n=new De;e.TabAnytimeCustom=n.getSavedCustom(),n=new xe,e.TabTimetableCustom=n.getSavedCustom(),e.GreatSuccessRate=ne(),e.Is_GreatSuccessRateUp=re(),e.ChapterLimit=ve(),e.ContractWeight=me(),e.TargetValue=_e(),e.Saved=rt.getSaved(),e.TargetSaved=Xe._saved,window.PLAN_COMBINATION&&(e.PlanCombination=((a={date:{}}).date.start=ba(),a.date.end=Pa(),a.current=Ea(),a.target=Va(),a.demand=La(),a.LogisticsData=qa.exportData(),a.ConsumptionData=Oa.exportData(),a.level=Ba(),a.ConsumptionSaved=Wa._saved.slice(),a));var i={data:e,SHA1:sha1(JSON.stringify(e))};i=JSON.stringify(i),i=LZString.compressToBase64(i),document.getElementById("Config_exportInput").value=i}function yt(e){try{var t=JSON.parse(e),a=sha1(JSON.stringify(t.data))===t.SHA1}catch(e){}if(a)n=t.data,(i={version:"0.x.x"}).TabName=n[0],i.HourlyOrTotal=n[1],i.TabAnytimeCustom=n[2],i.TabTimetableCustom=n[3],i.GreatSuccessRate=n[4],i.Is_GreatSuccessRateUp=n[5],i.ChapterLimit=n[6],i.ContractWeight=n[7],i.TargetValue=n[8],i.Saved=Q(n[9]),Pt(i),it(),nt();else{try{e=LZString.decompressFromBase64(e);t=JSON.parse(e),a=sha1(JSON.stringify(t.data))===t.SHA1}catch(e){}a?(Pt(t.data),it(),nt()):F.alert(f.JS.Saved_alert)}var n,i}function Pt(e){st(e.TabName),dt(e.HourlyOrTotal),_t(e.TabAnytimeCustom),ut(e.TabTimetableCustom),ct(e.GreatSuccessRate),mt(e.Is_GreatSuccessRateUp),ht(e.ChapterLimit),vt(e.ContractWeight),pt(e.TargetValue),gt(e.Saved),Tt(e.TargetSaved),Ge.setSelectedMissions([]),Ge.print(),Oe(),window.PLAN_COMBINATION&&hn(e.PlanCombination)}!function(){if(!0!==(N=function(){try{var e=Math.random(),t=Math.random();localStorage.setItem("test_PzrJwG"+e,"Rx3IyFdmJMji0Alo"+t);var a=localStorage.getItem("test_PzrJwG"+e)=="Rx3IyFdmJMji0Alo"+t;return localStorage.removeItem("test_PzrJwG"+e),a}catch(e){return!1}}()&&function(){try{var e=Math.random(),t=Math.random();sessionStorage.setItem("test_QQ15L2X"+e,"MVQYqpFNO8WU6Flc"+t);var a=sessionStorage.getItem("test_QQ15L2X"+e)=="MVQYqpFNO8WU6Flc"+t;return sessionStorage.removeItem("test_QQ15L2X"+e),a}catch(e){return!1}}()))N=!1,document.getElementById("localstorageWarning").style.display="none",document.getElementById("neverShowAgain_description").style.display="none",document.getElementById("description").style.paddingRight="1.25rem";else{document.getElementById("localstorageDoesNotWork").style.display="none","2"===sessionStorage.getItem("GF_Logistics_windowOnloadFailed")&&function(){var e=localStorage.getItem(B),t=localStorage.getItem("GF_Logistics"),a={};a.userAgent=navigator.userAgent,a.appName=navigator.appName,a.appCodeName=navigator.appCodeName,a.appVersion=navigator.appVersion,a.appMinorVersion=navigator.appMinorVersion,a.platform=navigator.platform,a.cookieEnabled=navigator.cookieEnabled,a.onLine=navigator.onLine,a.language=navigator.language,a.localStorage_v0=t,a.localStorage_v1=e,a.console=sessionStorage.getItem("GF_Logistics_console");var n='<div class="alert alert-danger" style="color:#000000; cursor: default;">';n+=i.JS.FailedWindowLoadWarn+"<br>",n+=r.JS.FailedWindowLoadWarn+"<br>",n+=o.JS.FailedWindowLoadWarn+"<br>",n+='<br><code style="color:#000000; cursor:auto">',n+=JSON.stringify(a),n+="</code></div>",$("#description").before(n),sessionStorage.removeItem("GF_Logistics_windowOnloadFailed"),localStorage.removeItem(B),localStorage.removeItem("GF_Logistics_PC_v"+s.slice(0,s.indexOf("."))+".x.x"),localStorage.removeItem("GF_Logistics")}();var e=sessionStorage.getItem("GF_Logistics_windowOnloadFailed")||0;sessionStorage.setItem("GF_Logistics_windowOnloadFailed",++e)}}(),N&&null===localStorage.getItem(B)&&function(){var e="GF_Logistics",t=localStorage.getItem(e);if(null===t)return;try{var a=JSON.parse(t);t=a}catch(e){console.error("v0storage, storage: "+t),t={}}var n={};n.Lang=t.lang,n.Description_Display=t.Description_Display,n.LocalstorageWarning_Display=t.LocalstorageWarning_Display,n.TabName=t.HTML_TAB,n.HourlyOrTotal=t.PerHourOrTotal,n.TabAnytimeCustom=t.TabAnytimeCustom,n.TabTimetableCustom=t.TabTimetableCustom,n.GreatSuccessRate=t.GreatSuccessRate,n.Is_GreatSuccessRateUP=t.is_GreatSuccessRateUP,n.ChapterLimit=t.SelectChapter,n.ContractWeight=t.ContractWeight,n.TargetValue=t.TargetValue,n.Saved=Q(t.SAVED),n.IsSavedPanelShow=t.IsSavedShow;var i=JSON.stringify(n);localStorage.setItem("GF_Logistics_v1.x.x",i),localStorage.removeItem(e)}(),O=H("version"),function(){var e=H("Lang");if("noStorage"===e&&(e=navigator.language||navigator.userLanguage),"zh"===e.substr(0,2))switch(e){case"zh-HK":case"zh-TW":case"zh-MO":f=r,J("Lang","zh-TW");break;default:f=i,J("Lang","zh-CN")}else f=o,J("Lang","en");$("#set_lang").html(f.name)}(),function(){var e="";document.getElementById("setTargetButton").innerHTML=e,e="";for(var t=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],a=["MT","AT","RT","PT","TT","ET","QPT","QRT"],n=0;n<8;n++)e+='<div class="input-group input-group-regular" style="margin-bottom: 10px;"><label for="',e+=a[n],e+='" class="reAndco-label '+t[n]+' input-group-span input-group-text"style="padding-right:10px;padding-left:10px;"',e+="id="+t[n]+">",e+='</label><button class="btn btn-outline-dark input-group-btn btn-bolder"type="button"id="Target_minus_1',n<4&&(e+="00"),e+="_"+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='&minus;</button><button class="btn btn-outline-dark input-group-btn target-btn-hidden"type="button"id="Target_minus_',e+=n<4?"10":"01",e+="_"+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='&minus;</button><input type="number" min="0" step="0.01"',e+='class="form-control autoEnter '+t[n]+'_placeholder" id="',e+=a[n],e+='"value=0 onfocus="this.select();"style="border-left-width:0"><button class="btn btn-outline-dark input-group-btn target-btn-hidden"type="button"id="Target_plus_',e+=n<4?"10":"01",e+="_"+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='+</button><button class="btn btn-outline-dark input-group-btn btn-bolder"type="button"id="Target_plus_1',n<4&&(e+="00"),e+="_"+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+="&plus;</button></div>";document.getElementById("setTargetInput").innerHTML=e}(),function(){for(var e=(E.length-4)/4,t="",a=Ee;a<=e;a++)t+=a===e?"<option value="+a+' id="chapter_'+a+'" selected></option>':"<option value="+a+' id="chapter_'+a+'"></option>';document.getElementById("ChapterLimit").innerHTML=t}(),function(){for(var e=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],t=["current_","demand_","target_"],a=0;a<t.length;++a)document.getElementById("PlanCombination_"+t[a]+"re").innerHTML=Ve(t[a],e.slice(0,4)),document.getElementById("PlanCombination_"+t[a]+"co").innerHTML=Ve(t[a],e.slice(4,8))}(),bt=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],document.getElementById("Consumption_re").innerHTML=Ne(bt.slice(0,4)),document.getElementById("Consumption_co").innerHTML=Ne(bt.slice(4,8)),function(){for(var e=Be.length,t='<option value="0" id="consumption_preset" selected></option>',a=0;a<e;++a)t+='<option id="consumption_preset_'+a+'"></option>';document.getElementById("Consumption_select").innerHTML=t}(),function(){!1===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:H("Description_Display"))&&(document.getElementById("description").style.display="none")}(),function(){!1===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:H("LocalstorageWarning_Display"))&&(document.getElementById("localstorageWarning").style.display="none")}(),st(),dt(),_t(),ut(),ct(),mt(),ht(),vt(),pt(),gt(),Tt(),function(){!0===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:H("IsSavedPanelShow"))&&(0===rt.getSaved().length?J("IsSavedPanelShow",!1):(document.getElementById("MissionTable_card").style.transition="none",document.getElementById("Saved_card").style.transition="none",$("#Saved_card").collapse("show"),$("#MissionTable_card").collapse("hide")))}(),Ge.print();var Ct=Le();Qe.printShownTab(Ct.name),Qe.printTotalTime(Ct.getTotalTime(!1));var St=le(!0);function kt(e){return 13==e.which}function wt(){var e,t=$("#Config_importInput"),a=t.val();"clearCONSOLE"===(e=a)?(x="",N&&sessionStorage.removeItem("GF_Logistics_console")):"clearSTORAGE"!==e&&"clear"!==e||!N?"runERROR"!==e?"debug"!==e?0!==rt.getSaved().length||0!==Xe._saved.length||0!==Wa._saved.length?F.confirm(f.JS.config_alert,function(){yt(e)}):yt(e):$("#importSaved_input").val(x):(0).getItem():(sessionStorage.removeItem("GF_Logistics_console"),sessionStorage.removeItem("GF_Logistics_windowOnload"),sessionStorage.removeItem("GF_Logistics_windowOnloadFailed"),localStorage.removeItem("GF_Logistics"),localStorage.removeItem("GF_Logistics_v1.x.x"),localStorage.removeItem("GF_Logistics_PC_v1.x.x"),localStorage.removeItem("GF_Logistics_vDevelop.x.x"),localStorage.removeItem("GF_Logistics_PC_vDevelop.x.x")),t.val("")}Qe.printGreatSuccessRate(St),Qe.printExecutionTimes(ke()),Fe(),I()&&(document.getElementById("Saved_card").style.transition="none",document.getElementById("MissionTable_card").style.transition="none",document.getElementById("PC_Ranking_card").style.transition="none",document.getElementById("calcTargetValueTool_card").style.transition="none","noStorage"===H("IsSavedPanelShow")&&$("#MissionTable_card").collapse("hide")),N&&sessionStorage.setItem("GF_Logistics_windowOnloadFailed","0"),$("#set_lang").removeAttr("disabled"),$("#help").removeAttr("disabled"),$("#neverShowAgain_description").removeAttr("disabled"),$("#neverShowAgain_localstorageWarning").removeAttr("disabled"),$("#Tab_Anytime_name").attr("data-toggle","tab"),$("#Tab_Anytime_name").attr("href","#Tab_Anytime"),$("#Tab_Timetable_name").attr("data-toggle","tab"),$("#Tab_Timetable_name").attr("href","#Tab_Timetable"),$("#Time_Anytime_hours").removeAttr("disabled"),$("#Time_Anytime_minutes").removeAttr("disabled"),$("#Tab_Anytime_MinimumIntervalTime_minutes").removeAttr("disabled"),0===q.length&&($("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")),$("#GreatSuccessRate").removeAttr("disabled"),$("#GreatSuccessRateUp_btn").removeClass("disabled"),$("#ChapterLimit").removeAttr("disabled"),$("#ContractWeight").removeAttr("disabled"),$("#savePlan").removeAttr("disabled"),$("#PlanDetails_InputStartTime").removeAttr("disabled"),$("#PlanDetails_InputExecutionTimes").removeAttr("disabled"),$("#version").html("version: "+s),function(){if("noStorage"!==O){var e=z.length;if(-1!==z[e-1].version.indexOf(s)){for(var t=-1,a=0;a<e;++a)if(-1!==z[a].version.indexOf(O)){t=a;break}-1!==t?t!==e-1&&F.alert(W(t,e-1),f.JS.release_notes_title):G()}else try{console.log("version error")}catch(e){}}}(),Array.prototype.fill||$("#warn_ancient_browser").removeClass("d-none"),$(function(){window.onresize=function(){window.PLAN_COMBINATION&&ja.resize_Timetable()}}),$("#lang-zh-CN").on("click",function(){et("zh-CN")}),$("#lang-zh-TW").on("click",function(){et("zh-TW")}),$("#lang-en").on("click",function(){et("en")}),$("#help").on("click",function(){var e=f.help_wiki;window.open(e,"_blank")}),$("#Config_export").on("click",function(){"true"!==$("#Config_export").attr("aria-expanded")&&ft()}),$("#Config_importInput").on("keyup",function(e){kt(e)&&wt()}),$("#Config_importButton").on("click",function(){wt()}),$("#Config_export_group").on("shown.bs.dropdown",function(){var e=$("#Config_exportInput");e.focus(),e.select()}),$("#neverShowAgain_description").on("click",function(){J("Description_Display",!1)}),$("#neverShowAgain_localstorageWarning").on("click",function(){J("LocalstorageWarning_Display",!1)}),$("#Tab_Anytime_name").on("click",function(){"Anytime"!==Le().name&&(J("TabName","Anytime"),tt("Anytime",!1),it(),nt(),Ge.print(),Oe(),rt.cancelSelected())}),$("#Tab_Timetable_name").on("click",function(){"Timetable"!==Le().name&&(J("TabName","Timetable"),tt("Timetable",!1),it(),nt(),Ge.print(),Oe(),rt.cancelSelected())}),$("input[id^=Display_]").on("click",function(){ae()?!0===lt&&(function(){J("HourlyOrTotal","PerHour"),$("#Demand").html(f.HTMLJS.Demand_hour);for(var e=Le().getTotalTime(),t=_e(),a=0;a<8;a++)t[a]=Math.round(t[a]/e*6e3)/100;ue(t),Ge.print(),Ze()&&ze(),rt.setSaved(rt._saved)}(),lt=!1):!1===lt&&(function(){J("HourlyOrTotal","Total"),$("#Demand").html(f.HTMLJS.Demand_total);for(var e=Le().getTotalTime(),t=_e(),a=0;a<8;a++)t[a]=Math.round(t[a]*e*100/60)/100;ue(t),Ge.print(),Ze()&&ze(),rt.setSaved(rt._saved)}(),lt=!0)});var At=$("#GreatSuccessRate");At.on("input propertychange",function(){ne();de(re(),!1),Ge.print(),Oe(),rt.cancelSelected()}),At.blur(function(){J("GreatSuccessRate",ne())}),$("#GreatSuccessRateUp").on("click",function(){var e=re();de(e),Ge.print(),Oe(),rt.cancelSelected(),J("Is_GreatSuccessRateUP",e)}),$("#ChapterLimit").on("change",function(){Ge.print(),Oe(),rt.cancelSelected(),J("ChapterLimit",ve())});var Dt=$("#Time_Anytime_hours"),Mt=$("#Time_Anytime_minutes"),It=$("#Tab_Anytime_MinimumIntervalTime_minutes");function xt(){J("TabAnytimeCustom",(new De).getSavedCustom())}Dt.on("input propertychange",function(){4320<ge()&&Te(4320),Ge.print(),Oe(),rt.cancelSelected()}),Dt.blur(function(){xt()}),Mt.on("input propertychange",function(){4320<ge()&&Te(4320),Ge.print(),Oe(),rt.cancelSelected()}),Mt.blur(function(){xt()}),It.on("input propertychange",function(){Ge.print(),Oe(),rt.cancelSelected()}),It.blur(function(){xt()});var $t=$("#Time_Timetable_hours"),Lt=$("#Time_Timetable_minutes");$t.on("input propertychange",function(){U()}),$t.blur(function(){Ft()}),Lt.on("input propertychange",function(){U()}),Lt.blur(function(){Ft()});var Rt=$("#Tab_Timetable_new_hours"),Et=$("#Tab_Timetable_new_minutes");function Ft(){J("TabTimetableCustom",(new xe).getSavedCustom())}function Vt(){var e=Pe(),t=fe();switch(!0){case 0===e:F.alert(f.JS.tab_Timetable_alert1);break;case t<e:F.alert(f.JS.tab_Timetable_alert2);break;case e===t||-1!==q.indexOf(e):F.alert(f.JS.tab_Timetable_alert3);break;default:!function(e){q.push(e),m(q);var t=fe(),a=q.length,n=q.indexOf(e);if(n===a-1){var i=e/t*100+"%",r=X(e,i);r+=K(e,i,n),$("#Tab_Timetable_range").append(r)}else{var o=Z(t,q);document.getElementById("Tab_Timetable_range").innerHTML=o}}(e)}(0===q.length?ee:te)(),Ge.print(),Oe(),rt.cancelSelected(),Ft()}Rt.keyup(function(e){kt(e)&&Et.focus()}),Et.keyup(function(e){kt(e)&&(""!==Rt.val()&&Rt.focus(),Vt())}),$("#Tab_Timetable_AddNewTimePoint").on("click",function(){Vt()}),$("#Tab_Timetable_range").on("click","button[id^=Tab_Timetable_range_thumb_]",function(){!function(e){if(q.indexOf(e)===q.length-1){var t="Tab_Timetable_range_thumb_"+e,a="Tab_Timetable_range_tooltip_"+e,n=document.getElementById(t),i=document.getElementById(a),r=document.getElementById("Tab_Timetable_range");r.removeChild(n),r.removeChild(i),q.remove_First(e)}else q.remove_First(e),j(q);0===q.length&&ee()}(parseFloat(T(this.id))),Ge.print(),Oe(),rt.cancelSelected(),Ft()}),$("#tab_Timetable_deleteall").on("click",function(){!function(){if(0!==q.length){q=[];var e=Y(fe());document.getElementById("Tab_Timetable_range").innerHTML=e,ee()}}(),Ge.print(),Oe(),rt.cancelSelected(),Ft()}),$("#setTarget_saved").on("click","a[id^=setTarget_row_]",function(){Xe.click(parseInt(T(this.id)))}),$("#setTarget_saved").on("click","button[id^=setTarget_close_row_]",function(){Xe.delete(parseInt(T(this.id)))}),$("#setTarget_saved_button").on("click",function(){Xe.save()}),$("#setTarget_Clear").on("click",function(){ue(),he()});var Nt=$("#target");function Bt(){J("TargetValue",_e())}function Qt(){document.getElementById("ranking_loading").style.display="none",$("#start_ranking").removeAttr("disabled")}$("#ContractWeight").change(function(){J("ContractWeight",me())}),Nt.on("click","button[id^=Target_minus_]",function(){at(this.id)}),Nt.on("click","button[id^=Target_plus_]",function(){at(this.id)}),Nt.on("blur","#MT",function(){Bt()}),Nt.on("blur","#AT",function(){Bt()}),Nt.on("blur","#RT",function(){Bt()}),Nt.on("blur","#PT",function(){Bt()}),Nt.on("blur","#TT",function(){Bt()}),Nt.on("blur","#ET",function(){Bt()}),Nt.on("blur","#QPT",function(){Bt()}),Nt.on("blur","#QRT",function(){Bt()}),$("#start_ranking").on("click",function(){$("#start_ranking").attr("disabled","true"),document.getElementById("ranking_loading").style.display="",setTimeout(sa,1),setTimeout(Qt,1)}),$("#clear_ranking").on("click",function(){it(),nt()});var Jt=$("#Plan_Table");function Ht(e){var t,a=T(e);"Mission"===a&&(a="Ranking"),a!==jt.getLastSortBy()&&(t=a,ze(jt.getLastResultsPlan(),t))}Jt.on("click","tr[id^=print_result_plan_tr_]",function(){je(parseInt(T(this.id)))}),Jt.on("keyup","tr[id^=print_result_plan_tr_]",function(e){kt(e)&&je(parseInt(T(this.id)))}),Jt.on("click","th[id^=resultPlan_]",function(){Ht(this.id)}),Jt.on("keyup","th[id^=resultPlan_]",function(e){kt(e)&&Ht(this.id)});var Ot=$("#FineTuning");Ot.on("click","button[id^=FineTuning_minus_]",function(){la(-1,T(this.id))}),Ot.on("click","button[id^=FineTuning_plus_]",function(){la(1,T(this.id))}),$("#importSaved_input").on("keyup",function(e){kt(e)&&qt()}),$("#importSaved_importButton").on("click",function(){qt()}),$("#exportSaved_button").on("click",function(){"true"!==$("#exportSaved_button").attr("aria-expanded")&&rt.exportSelected()});var Gt=$("#renameSaved_input"),Wt=$("#renameSaved_applyButton");$("#renameSaved_button").on("click",function(){if("true"!==$("#renameSaved_button").attr("aria-expanded")){var e=rt.getSelectedName(),t=Gt;t.removeClass("is-valid is-invalid"),rt.checkNameValid(e)?(t.addClass("is-valid"),Wt.removeAttr("disabled")):(t.addClass("is-invalid"),Wt.attr("disabled","true")),t.val(e),t.focus()}}),Gt.on("keyup",function(e){var t=Gt.val();kt(e)&&rt.checkNameValid(t)&&Wt.click()}),Gt.on("input propertychange",function(){var e=Gt,t=e.val();e.removeClass("is-valid is-invalid"),rt.checkNameValid(t)?(e.addClass("is-valid"),Wt.removeAttr("disabled")):(e.addClass("is-invalid"),Wt.attr("disabled","true"))}),Wt.on("click",function(){rt.renameSelected()}),$("#moveSaved_up").on("click",function(){rt.moveSelected_up()}),$("#moveSaved_down").on("click",function(){rt.moveSelected_down()}),$("#deleteSaved").on("click",function(){rt.deleteSelected()});var zt=$("#Saved_Body");function qt(){var e=$("#importSaved_input"),t=e.val();rt.import(t),e.val("")}zt.on("click","a[id^=SavedTable_row_]",function(){rt.clickThisRow(parseInt(T(this.id)))}),zt.on("keydown","a[id^=SavedTable_row_]",function(e){kt(e)&&rt.clickThisRow(parseInt(T(this.id)))}),$("#exportSaved_group").on("shown.bs.dropdown",function(){$("#exportSaved_input").focus()}),$("#renameSaved_group").on("shown.bs.dropdown",function(){Gt.focus()}),$("th[id^=MissionTable_head_]").on("click",function(){Ge.print(T(this.id))}),$("th[id^=MissionTable_head_]").on("keyup",function(e){kt(e)&&Ge.print(T(this.id))}),$("#MissionTable_tbody").on("click","tr[id^=MissionTable_]",function(){Ye(parseInt(T(this.id))),rt.cancelSelected()}),$("#MissionTable_tbody").on("keyup","tr[id^=MissionTable_]",function(e){kt(e)&&(Ye(parseInt(T(this.id))),rt.cancelSelected())});var Ut=$("#MissionTable_card");Ut.on("shown.bs.collapse",function(){J("IsSavedPanelShow",!1)}),Ut.on("hidden.bs.collapse",function(){I()||(document.getElementById("MissionTable_card").style.transition="")}),$("#Saved_card").on("shown.bs.collapse",function(){J("IsSavedPanelShow",!0),I()||(document.getElementById("Saved_card").style.transition="")}),$("#savePlan").on("click",function(){rt.saveThisPlan()}),$("#Capture").on("click",function(){html2canvas(document.getElementById("PlanDetails"),{logging:!1}).then(function(e){var t=document.createElement("a");t.download="Capture.png",t.href=e.toDataURL(),t.click()})}),$("#PlanDetails_InputStartTime").on("input propertychange",function(){if(rt.cancelSelected(),0!==Ge.getSelectedMissions(!1).length){var e=Ge.getSelectedMissionsDetails(),t=Le().getTotalTime(!1);Qe.printChart(e,t,Ce())}}),$("#PlanDetails_InputExecutionTimes").on("input propertychange",function(){if(Qe.printExecutionTimes(ke()),0!==Ge.getSelectedMissions(!1).length){var e=Ge.getSelectedMissionsDetails(),t=Le(),a=t.getTotalTime(!1),n=ke();Qe.printMissionsTotal(e,a,n,t.name)}}),$(".autoEnter").on("keyup",function(e){if(kt(e)){if(-1!==this.className.indexOf("autoEnterEnd"))return;for(var t=$(".autoEnter"),a=t.length-1,n=void 0,i=0;i<a;++i)if(t[i]==this){n=i;break}t[n+1].focus()}}),$("#version").on("click",function(){G()})
