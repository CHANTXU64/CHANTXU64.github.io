"use strict";function s(e,t,a){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:s(i,t,a)}if("value"in n)return n.value;var l=n.get;return void 0!==l?l.call(a):void 0}var e=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e};function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
/** copyright info
 * [GF_logistics]{@link https://github.com/CHANTXU64/Girls-Frontline}
 *
 * @namespace GF_logistics
 * @version 1.1.0-alpha
 * @author ChantXu64 [chantxu@outlook.com]
 * @copyright ChantXu64
 * @license MIT
 */window.onerror=function(e,t,a,n,i){console.error("错误信息："+e+", 出错文件："+t+", 出错文件："+t+", 出错行号："+a+", 出错列号："+n+", 错误详情："+i)};var g=void 0,i={lang:"zh-Hans",title:"少女前线-后勤组合排序器",HTML:{Modal_footer_button_ok:"确定",Modal_footer_button_cancel:"取消",header:"后勤组合排序器 ",Config_text:"全局数据",description_text:"计算结果只和资源（或契约）之间的比例有关。计算结果为均值。",localstorageDoesNotWork:"因某些原因，Web存储无法工作，需要手动导出配置",localstorageWarning_text:"网页使用Web存储，清除浏览器缓存会导致数据清除，请定期手动导出并保存你的数据。",setting:"设置",Tab_Anytime_name:"连续后勤",Tab_Timetable_name:"时间计划表",tab_Anytime_time:"后勤总时长",tab_Anytime_hour:"小时",tab_Anytime_minute:"分钟",tab_Anytime_MinimumIntervalTime:"最短间隔时间",tab_Anytime_MinimumIntervalTime_minute:"分钟",tab_Timetable_time:"后勤总时长",tab_Timetable_hour:"小时",tab_Timetable_minute:"分钟",tab_Timetable_addtimeh5:"新添加一个收取后勤时间点:",tab_Timetable_new_hour:"小时",tab_Timetable_new_minute:"分钟",h4GreatSuccessRate:"后勤队伍平均大成功概率",h4ChapterLimit:"章节解锁",Display_PerHour_text:"以每小时显示",Display_Total_text:"以总计显示",ContractWeight_notImportant:"资源更重要",ContractWeight_Important:"契约更重要",start_ranking:"开始排序",clear_ranking:"清除排序结果",result:"排序结果",Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",setTarget_HG:"手枪HG",setTarget_SMG:"冲锋枪SMG",setTarget_RF:"步枪RF",setTarget_AR:"突击步枪AR",setTarget_MG:"机枪MG",setTarget_SG:"霰弹枪SG",setTarget_2221:"均衡",setTarget_Clear:"清零",MissionTable_Title:"关卡",MissionTable_head_Mission:"关卡",MissionTable_head_Manp:"人力",MissionTable_head_Ammu:"弹药",MissionTable_head_Rati:"口粮",MissionTable_head_Part:"零件",MissionTable_head_TPro:"人形",MissionTable_head_Equi:"装备",MissionTable_head_QPro:"快建",MissionTable_head_QRes:"快修",MissionTable_head_Time:"时间",PlanDetailsTitle:"方案详情",PlanDetails_Mission:"关卡",PlanDetails_Manp:"人力",PlanDetails_Ammu:"弹药",PlanDetails_Rati:"口粮",PlanDetails_Part:"零件",PlanDetails_TPro:"人形",PlanDetails_Equi:"装备",PlanDetails_QPro:"快建",PlanDetails_QRes:"快修",PlanDetails_Time:"时间",savePlan:"保存方案",Capture:"捕获",PlanDetails_InputStartTime_label:"后勤开始时间",PlanDetails_InputExecutionTimes_label:"后勤执行次数",Saved_Title:"已保存的",NoSaved:"空",start_ranking_html:'点击 <span style="color:#165399">开始排序</span> 按钮，排序前十六的结果将在这里显示',permanentAddress:"永久地址: ",calcTargetValueTool_title:"计算需求量工具",calcTargetValueTool_text_ResourceContract:"资源契约",calcTargetValueTool_Manp_text:"人力",calcTargetValueTool_Ammu_text:"弹药",calcTargetValueTool_Rati_text:"口粮",calcTargetValueTool_Part_text:"零件",calcTargetValueTool_TPro_text:"人形",calcTargetValueTool_Equi_text:"装备",calcTargetValueTool_QPro_text:"快建",calcTargetValueTool_QRes_text:"快修",calcTargetValueTool_text_target:"目标值",calcTargetValueTool_text_current:"现值",calcTargetValueTool_text_result:"结果",calcTargetValueTool_InputExecutionTimes_label:"后勤执行次数",calcTargetValueTool_clear:"重置",calcTargetValueTool_startCalc:"计算",calcTargetValueTool_apply_text:"应用",OfflineVersion:"下载离线版本"},HTMLJS:{placeholder:{Config_importInput:"需要导入的配置",Config_exportInput:"导出的配置",Time_Anytime_hours:"总时长小时数",Time_Anytime_minutes:"总时长分钟数",Tab_Anytime_MinimumIntervalTime_minutes:"最小时间间隔分钟数",Time_Timetable_hours:"总时长小时数",Time_Timetable_minutes:"总时长分钟数",Tab_Timetable_new_hours:"新时间点小时数",Tab_Timetable_new_minutes:"新时间点分钟数",GreatSuccessRate:"大成功基础概率",MT:"人力需求量",AT:"弹药需求量",RT:"口粮需求量",PT:"零件需求量",TT:"人形需求量",ET:"装备需求量",QPT:"快建需求量",QRT:"快修需求量",importSaved_input:"需要导入的方案",exportSaved_input:"导出的方案",renameSaved_input:"新的名称",PlanDetails_InputExecutionTimes:"执行次数"},title:{Config_importButton:"导入全局数据",Config_export:"导出全局数据",neverShowAgain_description:"关闭，不再显示",neverShowAgain_localstorageWarning:"关闭，不再显示",tab_Timetable_deleteall:"删除全部时间点",Tab_Timetable_AddNewTimePoint:"添加一个收取后勤时间点",GreatSuccessRateUp_btn:"后勤大成功UP",ChapterLimit:"最大已解锁的战役章节",ContractWeight:"契约权重",Target_minus_100_MT:"人力需求量减少100",Target_minus_10_MT:"人力需求量减少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"弹药需求量减少100",Target_minus_10_AT:"弹药需求量减少10",Target_plus_10_AT:"弹药需求量增加10",Target_plus_100_AT:"弹药需求量增加100",Target_minus_100_RT:"口粮需求量减少100",Target_minus_10_RT:"口粮需求量减少10",Target_plus_10_RT:"口粮需求量增加10",Target_plus_100_RT:"口粮需求量增加100",Target_minus_100_PT:"零件需求量减少100",Target_minus_10_PT:"零件需求量减少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量减少1",Target_minus_01_TT:"人形需求量减少0.1",Target_plus_01_TT:"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"装备需求量减少1",Target_minus_01_ET:"装备需求量减少0.1",Target_plus_01_ET:"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量减少1",Target_minus_01_QPT:"快建需求量减少0.1",Target_plus_01_QPT:"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量减少1",Target_minus_01_QRT:"快修需求量减少0.1",Target_plus_01_QRT:"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"导入数据",exportSaved_button:"导出方案",renameSaved_button:"重命名方案",renameSaved_applyButton:"确认",moveSaved_up:"将该方案往上移动一行",moveSaved_down:"将该方案往下移动一行",deleteSaved:"删除这个方案"},Demand_hour:"平均每小时需求量",Demand_total:"总需求量",Timetable_deletePoint:"删除这个时间点",FineTuning_minus:"减小需求量",FineTuning_plus:"增大需求量"},JS:{alertTitle_warning:"警告",chapter_start:"第",chapter_end:"战役",number:function(e){for(var t=["零","一","二","三","四","五","六","七","八","九","十"],a=["","十","百","千","万","十万","百万","千万","亿"],n="",i=""+e,l=i.length,r=0;r<i.length;r++){var o=i[r]-"0",s=l-r-1;if(0==o){if("0"===i[r-1]||r===i.length-1)continue;n+=4<=s&&0==s%4?a[s]:t[o]}else n+=t[o],2===i.length&&"1"===i[0]&&0===r&&(n=""),n+=0==s%4?a[s]:a[s%4]}return n},Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",FineTuningManp:"人力",FineTuningAmmu:"弹药",FineTuningRati:"口粮",FineTuningPart:"零件",FineTuningTPro:"人形",FineTuningEqui:"装备",FineTuningQPro:"快建",FineTuningQRes:"快修",FineTuningTool:"微调工具",TargetValue0_alert:"需求不能全为0！",tab_Anytime_alert1:"总时长不能为0！",tab_Timetable_alert1:"不需要在后勤开始点再添加收取时间点",tab_Timetable_alert2:"添加的收取时间点不能超过最大时限",tab_Timetable_alert3:"已经添加过这个收取时间点",tab_Timetable_alert4:"总时长不能为0！",Mission:"关卡",MinIntervalTime:"最短间隔",NoPlan:"没有合适的方案",NoMission:"没有可用的关卡",PlanDetails_calculateMethod:"计算方式",total_time:"总时长",total_greatSuccessRate:"大成功总概率",PerHour:"平均/h",Total:"总计",ExecutionTimes:"执行次数",plzInputPlanName:"请输入方案名称",planDefaultName:"自定义",deleteSavedWarning_1:"是否要删除这个名为",deleteSavedWarning_2:"的配置？",Saved_alert:"导入的数据有问题！",Saved_alert2:"保存的数量过多，不能再添加",Saved_prompt_title:"方案名称",Saved_invalidNameFeedback1:"请填入方案名称。",Saved_invalidNameFeedback2:"方案名称太长了。",config_alert:"这将会覆盖现有所有的数据，是否要继续？",FailedWindowLoadWarn:"可能由于Web存储数据不正确, 导致网页崩溃. 您可以将下面的数据报告到GitHub或发送邮件到chantxu@outlook.com"},CSS:{TargetValueSpan_Width:"55px",FineTuningSpan_Width:"40%",FineTuningButton_Width:"30%"}},l={lang:"zh-Hant",title:"少女前線-後勤組合排序器",HTML:{Modal_footer_button_ok:"確定",Modal_footer_button_cancel:"取消",header:"後勤組合排序器 ",Config_text:"全局數據",description_text:"計算結果只和資源（或契約）之間的比例有關。計算結果為期望值。",localstorageDoesNotWork:"因某些原因，Web存儲無法工作，需要手動導出配置",localstorageWarning_text:"網頁使用Web存儲，清除瀏覽器緩存會導致數據清除，請定期手動導出並保存你的數據。",setting:"設置",Tab_Anytime_name:"連續後勤",Tab_Timetable_name:"時間計劃表",tab_Anytime_time:"後勤總時長",tab_Anytime_hour:"小時",tab_Anytime_minute:"分鐘",tab_Anytime_MinimumIntervalTime:"最短間隔時間",tab_Anytime_MinimumIntervalTime_minute:"分鐘",tab_Timetable_time:"後勤總時長",tab_Timetable_hour:"小時",tab_Timetable_minute:"分鐘",tab_Timetable_addtimeh5:"新添加一個收取後勤時間點:",tab_Timetable_new_hour:"小時",tab_Timetable_new_minute:"分鐘",h4GreatSuccessRate:"後勤隊伍平均大成功概率",h4ChapterLimit:"章節解鎖",Display_PerHour_text:"以每小時顯示",Display_Total_text:"以總計顯示",ContractWeight_notImportant:"資源更重要",ContractWeight_Important:"契約更重要",start_ranking:"開始排序",clear_ranking:"清除排序結果",result:"排序結果",Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",setTarget_HG:"手槍HG",setTarget_SMG:"衝鋒槍SMG",setTarget_RF:"步槍RF",setTarget_AR:"突擊步槍AR",setTarget_MG:"機槍MG",setTarget_SG:"霰彈槍SG",setTarget_2221:"均衡",setTarget_Clear:"清零",MissionTable_Title:"關卡",MissionTable_head_Mission:"關卡",MissionTable_head_Manp:"人力",MissionTable_head_Ammu:"彈藥",MissionTable_head_Rati:"口糧",MissionTable_head_Part:"零件",MissionTable_head_TPro:"人形",MissionTable_head_Equi:"裝備",MissionTable_head_QPro:"快建",MissionTable_head_QRes:"快修",MissionTable_head_Time:"時間",PlanDetailsTitle:"方案詳情",PlanDetails_Mission:"關卡",PlanDetails_Manp:"人力",PlanDetails_Ammu:"彈藥",PlanDetails_Rati:"口糧",PlanDetails_Part:"零件",PlanDetails_TPro:"人形",PlanDetails_Equi:"裝備",PlanDetails_QPro:"快建",PlanDetails_QRes:"快修",PlanDetails_Time:"時間",savePlan:"保存方案",Capture:"捕獲",PlanDetails_InputStartTime_label:"後勤開始時間",PlanDetails_InputExecutionTimes_label:"執行次數",Saved_Title:"已保存的",NoSaved:"空",start_ranking_html:'點擊 <span style="color:#165399">開始排序</span> 按鈕，排序前十六的結果將在這裡顯示',permanentAddress:"永久地址: ",calcTargetValueTool_title:"計算需求量工具",calcTargetValueTool_text_ResourceContract:"資源契約",calcTargetValueTool_Manp_text:"人力",calcTargetValueTool_Ammu_text:"彈藥",calcTargetValueTool_Rati_text:"口糧",calcTargetValueTool_Part_text:"零件",calcTargetValueTool_TPro_text:"人形",calcTargetValueTool_Equi_text:"裝備",calcTargetValueTool_QPro_text:"快建",calcTargetValueTool_QRes_text:"快修",calcTargetValueTool_text_target:"目標值",calcTargetValueTool_text_current:"現值",calcTargetValueTool_text_result:"結果",calcTargetValueTool_InputExecutionTimes_label:"後勤執行次數",calcTargetValueTool_clear:"重置",calcTargetValueTool_startCalc:"計算",calcTargetValueTool_apply_text:"應用",OfflineVersion:"下載離線版本"},HTMLJS:{placeholder:{Config_importInput:"需要導入的配置",Config_exportInput:"導出的配置",Time_Anytime_hours:"總時長小時數",Time_Anytime_minutes:"總時長分鐘數",Tab_Anytime_MinimumIntervalTime_minutes:"最小時間間隔分鐘數",Time_Timetable_hours:"總時長小時數",Time_Timetable_minutes:"總時長分鐘數",Tab_Timetable_new_hours:"新時間點小時數",Tab_Timetable_new_minutes:"新時間點分鐘數",GreatSuccessRate:"大成功基礎概率",MT:"人力需求量",AT:"彈藥需求量",RT:"口糧需求量",PT:"零件需求量",TT:"人形需求量",ET:"裝備需求量",QPT:"快建需求量",QRT:"快修需求量",importSaved_input:"需要導入的方案",exportSaved_input:"導出的方案",renameSaved_input:"新的名稱",PlanDetails_InputExecutionTimes:"後勤執行次數"},title:{Config_importButton:"導入全局數據",Config_export:"導出全局數據",neverShowAgain_description:"關閉，不再顯示",neverShowAgain_localstorageWarning:"關閉，不再顯示",tab_Timetable_deleteall:"刪除全部時間點",Tab_Timetable_AddNewTimePoint:"添加一個收取後勤時間點",GreatSuccessRateUp_btn:"後勤大成功UP",ChapterLimit:"最大已解鎖的戰役章節",ContractWeight:"契約權重",Target_minus_100_MT:"人力需求量減少100",Target_minus_10_MT:"人力需求量減少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"彈藥需求量減少100",Target_minus_10_AT:"彈藥需求量減少10",Target_plus_10_AT:"彈藥需求量增加10",Target_plus_100_AT:"彈藥需求量增加100",Target_minus_100_RT:"口糧需求量減少100",Target_minus_10_RT:"口糧需求量減少10",Target_plus_10_RT:"口糧需求量增加10",Target_plus_100_RT:"口糧需求量增加100",Target_minus_100_PT:"零件需求量減少100",Target_minus_10_PT:"零件需求量減少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量減少1",Target_minus_01_TT:"人形需求量減少0.1",Target_plus_01_TT:"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"裝備需求量減少1",Target_minus_01_ET:"裝備需求量減少0.1",Target_plus_01_ET:"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量減少1",Target_minus_01_QPT:"快建需求量減少0.1",Target_plus_01_QPT:"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量減少1",Target_minus_01_QRT:"快修需求量減少0.1",Target_plus_01_QRT:"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"導入數據",exportSaved_button:"導出方案",renameSaved_button:"重命名方案",renameSaved_applyButton:"確認",moveSaved_up:"將該方案往上移動一行",moveSaved_down:"將該方案往下移動一行",deleteSaved:"刪除這個方案"},Demand_hour:"平均每小時需求量",Demand_total:"總需求量",Timetable_deletePoint:"刪除這個時間點",FineTuning_minus:"減小需求量",FineTuning_plus:"增大需求量"},JS:{alertTitle_warning:"警告",chapter_start:"第",chapter_end:"戰役",number:function(e){for(var t=["零","一","二","三","四","五","六","七","八","九","十"],a=["","十","百","千","萬","十萬","百萬","千萬","億"],n="",i=""+e,l=i.length,r=0;r<i.length;r++){var o=i[r]-"0",s=l-r-1;if(0==o){if("0"===i[r-1]||r===i.length-1)continue;n+=4<=s&&0==s%4?a[s]:t[o]}else n+=t[o],2===i.length&&"1"===i[0]&&0===r&&(n=""),n+=0==s%4?a[s]:a[s%4]}return n},Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",FineTuningManp:"人力",FineTuningAmmu:"彈藥",FineTuningRati:"口糧",FineTuningPart:"零件",FineTuningTPro:"人形",FineTuningEqui:"裝備",FineTuningQPro:"快建",FineTuningQRes:"快修",FineTuningTool:"微調工具",TargetValue0_alert:"需求不能全為0！",tab_Anytime_alert1:"總時長不能為0！",tab_Timetable_alert1:"不需要在後勤開始點再添加收取時間點",tab_Timetable_alert2:"添加的收取時間點不能超過最大時限",tab_Timetable_alert3:"已經添加過這個收取時間點",tab_Timetable_alert4:"總時長不能為0！",Mission:"關卡",MinIntervalTime:"最短間隔",NoPlan:"沒有合適的方案",NoMission:"沒有可用的關卡",PlanDetails_calculateMethod:"計算方式",total_time:"總時長",total_greatSuccessRate:"大成功總概率",PerHour:"平均/h",Total:"總計",ExecutionTimes:"執行次數",plzInputPlanName:"請輸入方案名稱",planDefaultName:"自定義",deleteSavedWarning_1:"是否要刪除這個名為",deleteSavedWarning_2:"的配置？",Saved_alert:"導入的數據有問題！",Saved_alert2:"保存的數量過多，不能再添加",Saved_prompt_title:"方案名稱",Saved_invalidNameFeedback1:"請填入方案名稱。",Saved_invalidNameFeedback2:"方案名稱太長了。",config_alert:"這將會覆蓋現有所有的數據，是否要繼續？",FailedWindowLoadWarn:"可能由於Web存儲數據不正確, 導致網頁崩潰. 您可以將下面的數據報告到GitHub或發​​送郵件到chantxu@outlook.com"},CSS:{TargetValueSpan_Width:"55px",FineTuningSpan_Width:"40%",FineTuningButton_Width:"30%"}},r={lang:"en",title:"Girls' Frontline Logistics Combination Calculator",HTML:{Modal_footer_button_ok:"OK",Modal_footer_button_cancel:"Cancel",header:"Logistics Combination Calculator ",Config_text:"All configurations",description_text:"The calculation results are only related to the ratio of resources (or contracts). The calculation results are expected value.",localstorageDoesNotWork:"For some reason, Web storage doesn't work, you need to manually export the configurations.",localstorageWarning_text:"The pages use Web storage. Clearing the browser cache will cause all data to be cleared. Please manually export and save your data regularly.",setting:"Setting",Tab_Anytime_name:"Continuous Logistics",Tab_Timetable_name:"Timetable",tab_Anytime_time:"Total Logistics Time",tab_Anytime_hour:"hr",tab_Anytime_minute:"min",tab_Anytime_MinimumIntervalTime:"Minimum Interval Time",tab_Anytime_MinimumIntervalTime_minute:"min",tab_Timetable_time:"Total Logistics Time",tab_Timetable_hour:"hr",tab_Timetable_minute:"min",tab_Timetable_addtimeh5:"Add a new deployment logistics time point:",tab_Timetable_new_hour:"hr",tab_Timetable_new_minute:"min",h4GreatSuccessRate:"Average Great Success Rate",h4ChapterLimit:"Unlocked chapter",Display_PerHour_text:"Hourly",Display_Total_text:"Total",ContractWeight_notImportant:"Contract Weight: 0~100",ContractWeight_Important:"",start_ranking:"Start Ranking",clear_ranking:"Clear Ranking Results",result:"Ranking Results",Manp:"Mpwr",Ammu:"Ammo",Rati:"Ration",Part:"Parts",TPro:"T-Doll",Equi:"Eqpt",QPro:"QProd",QRes:"QRest",setTarget_HG:"Hand Gun",setTarget_SMG:"Sub-Machine Gun",setTarget_RF:"Rifle",setTarget_AR:"Assault Rifle",setTarget_MG:"Machine Gun",setTarget_SG:"Shotgun",setTarget_2221:"Balanced",setTarget_Clear:"Clear",MissionTable_Title:"Missions",MissionTable_head_Mission:"Mission",MissionTable_head_Manp:"Mpwr",MissionTable_head_Ammu:"Ammo",MissionTable_head_Rati:"Ration",MissionTable_head_Part:"Parts",MissionTable_head_TPro:"T-Doll",MissionTable_head_Equi:"Eqpt",MissionTable_head_QPro:"QProd",MissionTable_head_QRes:"QRest",MissionTable_head_Time:"Time",PlanDetailsTitle:"Plan Details",PlanDetails_Mission:"Mission",PlanDetails_Manp:"Mpwr",PlanDetails_Ammu:"Ammo",PlanDetails_Rati:"Ration",PlanDetails_Part:"Parts",PlanDetails_TPro:"T-Doll",PlanDetails_Equi:"Eqpt",PlanDetails_QPro:"QProd",PlanDetails_QRes:"QRest",PlanDetails_Time:"Time",savePlan:"Save Plan",Capture:"Capture",PlanDetails_InputStartTime_label:"Start Time",PlanDetails_InputExecutionTimes_label:"Execution Times",Saved_Title:"Saved Plan",NoSaved:"No Saved Plan",start_ranking_html:'Click <span style="color:#165399">Start Ranking</span> button, top sixteen results will display here',permanentAddress:"Address: ",calcTargetValueTool_title:"Calculate Demand Tool",calcTargetValueTool_text_ResourceContract:"Value",calcTargetValueTool_Manp_text:"Mpwr",calcTargetValueTool_Ammu_text:"Ammo",calcTargetValueTool_Rati_text:"Ration",calcTargetValueTool_Part_text:"Parts",calcTargetValueTool_TPro_text:"T-Doll",calcTargetValueTool_Equi_text:"Eqpt",calcTargetValueTool_QPro_text:"QProd",calcTargetValueTool_QRes_text:"QRest",calcTargetValueTool_text_target:"Target",calcTargetValueTool_text_current:"Current",calcTargetValueTool_text_result:"Result",calcTargetValueTool_InputExecutionTimes_label:"Execution Times",calcTargetValueTool_clear:"Clear",calcTargetValueTool_startCalc:"Calculate",calcTargetValueTool_apply_text:"Apply",OfflineVersion:"Download offline version"},HTMLJS:{placeholder:{Config_importInput:"Imported configurations",Config_exportInput:"Exported configurations",Time_Anytime_hours:"Hours of total time",Time_Anytime_minutes:"Minutes of total time",Tab_Anytime_MinimumIntervalTime_minutes:"Minutes of minimum interval time",Time_Timetable_hours:"Hours of total time",Time_Timetable_minutes:"Minutes of total time",Tab_Timetable_new_hours:"Hours of new time point",Tab_Timetable_new_minutes:"Minutes of new time point",GreatSuccessRate:"Great Success base rate",MT:"Manpower demand",AT:"Ammunition demand",RT:"Ration demand",PT:"Parts demand",TT:"T-Doll Contract demand",ET:"Equipment Contract demand",QPT:"Quick Production Contract demand",QRT:"Quick Restoration Contract demand",importSaved_input:"Imported data",exportSaved_input:"Exported data",renameSaved_input:"New name",PlanDetails_InputExecutionTimes:"Number of executions"},title:{Config_importButton:"Import configurations",Config_export:"Export configurations",neverShowAgain_description:"close, never show again",neverShowAgain_localstorageWarning:"close, never show again",tab_Timetable_deleteall:"Delete all points",Tab_Timetable_AddNewTimePoint:"Add a deployment logistics time point",GreatSuccessRateUp_btn:"Great Success rate up",ChapterLimit:"Maximum unlocked chapter",ContractWeight:"Contract Weight",Target_minus_100_MT:"Reduced Manpower demand by 100",Target_minus_10_MT:"Reduced Manpower demand by 10",Target_plus_10_MT:"Increase Manpower demand by 10",Target_plus_100_MT:"Increase Manpower demand by 100",Target_minus_100_AT:"Reduced Ammunition demand by 100",Target_minus_10_AT:"Reduced Ammunition demand by 10",Target_plus_10_AT:"Increase Ammunition demand by 10",Target_plus_100_AT:"Increase Ammunition demand by 100",Target_minus_100_RT:"Reduced Ration demand by 100",Target_minus_10_RT:"Reduced Ration demand by 10",Target_plus_10_RT:"Increase Ration demand by 10",Target_plus_100_RT:"Increase Ration demand by 100",Target_minus_100_PT:"Reduced Parts demand by 100",Target_minus_10_PT:"Reduced Parts demand by 10",Target_plus_10_PT:"Increase Parts demand by 10",Target_plus_100_PT:"Increase Parts demand by 100",Target_minus_1_TT:"Reduced T-Doll Contract demand by 1",Target_minus_01_TT:"Reduced T-Doll Contract demand by 0.1",Target_plus_01_TT:"Increase T-Doll Contract demand by 0.1",Target_plus_1_TT:"Increase T-Doll Contract demand by 1",Target_minus_1_ET:"Reduced Equipment Contract demand by 1",Target_minus_01_ET:"Reduced Equipment Contract demand by 0.1",Target_plus_01_ET:"Increase Equipment Contract demand by 0.1",Target_plus_1_ET:"Increase Equipment Contract demand by 1",Target_minus_1_QPT:"Reduced Quick Production Contract demand by 1",Target_minus_01_QPT:"Reduced Quick Production Contract demand by 0.1",Target_plus_01_QPT:"Increase Quick Production Contract demand by 0.1",Target_plus_1_QPT:"Increase Quick Production Contract demand by 1",Target_minus_1_QRT:"Reduced Quick Restoration Contract demand by 1",Target_minus_01_QRT:"Reduced Quick Restoration Contract demand by 0.1",Target_plus_01_QRT:"Increase Quick Restoration Contract demand by 0.1",Target_plus_1_QRT:"Increase Quick Restoration Contract demand by 1",importSaved_importButton:"Import Plan",exportSaved_button:"Export plan",renameSaved_button:"Rename",renameSaved_applyButton:"Confirm",moveSaved_up:"Move the plan up one line",moveSaved_down:"Move the plan down one line",deleteSaved:"Delete this plan"},Demand_hour:"Hourly demand",Demand_total:"Total demand",Timetable_deletePoint:"Delete this point",FineTuning_minus:"Reduce demand",FineTuning_plus:"Increase demand"},JS:{alertTitle_warning:"Warning",chapter_start:"Chapter ",chapter_end:"",number:function(e){return e},Manp:"Mpwr",Ammu:"Ammo",Rati:"Ration",Part:"Parts",TPro:"T-Doll",Equi:"Eqpt",QPro:"QProd",QRes:"QRest",FineTuningManp:"Manpower",FineTuningAmmu:"Ammunition",FineTuningRati:"Ration",FineTuningPart:"Parts",FineTuningTPro:"T-Doll",FineTuningEqui:"Equipment",FineTuningQPro:"Q-Production",FineTuningQRes:"Q-Restoration",FineTuningTool:"Fine Tuning Tool",TargetValue0_alert:"Demand cannot all be 0!",tab_Anytime_alert1:"Total time cannot be 0!",tab_Timetable_alert1:"Cannot add deployment time point at the beginning",tab_Timetable_alert2:"The deployment time point added cannot exceed the total time",tab_Timetable_alert3:"Already added this time point",tab_Timetable_alert4:"Total time cannot be 0!",Mission:"Missions",MinIntervalTime:"Min Intvl",NoPlan:"No suitable plan",NoMission:"No available missions",PlanDetails_calculateMethod:"Mode",total_time:"Total time",total_greatSuccessRate:"Great Success Rate",PerHour:"Hourly",Total:"Total",ExecutionTimes:"Executions",plzInputPlanName:"Please enter the plan name",planDefaultName:"Custom",deleteSavedWarning_1:"Do you want to delete this configuration named ",deleteSavedWarning_2:"?",Saved_alert:"There is a problem with the imported data!",Saved_alert2:"Too many saved plan, cannot add anymore",Saved_prompt_title:"Plan Name",Saved_invalidNameFeedback1:"Please provide a name.",Saved_invalidNameFeedback2:"The name is too long.",config_alert:"This operation will overwrite all configurations. Do you want to continue?",FailedWindowLoadWarn:"The webpage may crash due to incorrect web storage. You can report the following data to GitHub or send to chantxu@outlook.com"},CSS:{TargetValueSpan_Width:"66px",FineTuningSpan_Width:"60%",FineTuningButton_Width:"20%"}},c=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.start=t,this.end=a};function _(e){var t=new Array(e.length),a=0;for(t[a++]=new c(0,e.length-1);a;){var n=t[--a];if(!(n.start>=n.end)){for(var i=e[n.end],l=n.start,r=n.end-1;l<r;){for(;e[l]>i&&l<r;)l++;for(;e[r]<=i&&l<r;)r--;var o=[e[r],e[l]];e[l]=o[0],e[r]=o[1]}if(e[l]<=e[n.end]){var s=[e[n.end],e[l]];e[l]=s[0],e[n.end]=s[1]}else l++;t[a++]=new c(n.start,l-1),t[a++]=new c(l+1,n.end)}}}function d(e){var t=new Array(e.length),a=0;for(t[a++]=new c(0,e.length-1);a;){var n=t[--a];if(!(n.start>=n.end)){for(var i=e[n.end],l=n.start,r=n.end-1;l<r;){for(;e[l]<i&&l<r;)l++;for(;e[r]>=i&&l<r;)r--;var o=[e[r],e[l]];e[l]=o[0],e[r]=o[1]}if(e[l]>=e[n.end]){var s=[e[n.end],e[l]];e[l]=s[0],e[n.end]=s[1]}else l++;t[a++]=new c(n.start,l-1),t[a++]=new c(l+1,n.end)}}}function m(e,t){var a=new Array(e.length),n=0;for(a[n++]=new c(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var l=e[i.end][t],r=i.start,o=i.end-1;r<o;){for(;e[r][t]>=l&&r<o;)r++;for(;e[o][t]<l&&r<o;)o--;var s=[e[o],e[r]];e[r]=s[0],e[o]=s[1]}if(e[r][t]<e[i.end][t]){var u=[e[i.end],e[r]];e[r]=u[0],e[i.end]=u[1]}else r++;a[n++]=new c(i.start,r-1),a[n++]=new c(r+1,i.end)}}}function T(e,t){var a=new Array(e.length),n=0;for(a[n++]=new c(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var l=e[i.end][t],r=i.start,o=i.end-1;r<o;){for(;e[r][t]<=l&&r<o;)r++;for(;e[o][t]>l&&r<o;)o--;var s=[e[o],e[r]];e[r]=s[0],e[o]=s[1]}if(e[r][t]>e[i.end][t]){var u=[e[i.end],e[r]];e[r]=u[0],e[i.end]=u[1]}else r++;a[n++]=new c(i.start,r-1),a[n++]=new c(r+1,i.end)}}}function a(e,t){var a=new Array(e.length),n=0;for(a[n++]=new c(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var l=parseInt(e[i.end][t].replace(/[^0-9]/gi,"")),r=i.start,o=i.end-1;r<o;){for(;parseInt(e[r][t].replace(/[^0-9]/gi,""))<l&&r<o;)r++;for(;parseInt(e[o][t].replace(/[^0-9]/gi,""))>=l&&r<o;)o--;var s=[e[o],e[r]];e[r]=s[0],e[o]=s[1]}if(parseInt(e[r][t].replace(/[^0-9]/gi,""))>=parseInt(e[i.end][t].replace(/[^0-9]/gi,""))){var u=[e[i.end],e[r]];e[r]=u[0],e[i.end]=u[1]}else r++;a[n++]=new c(i.start,r-1),a[n++]=new c(r+1,i.end)}}}function h(e,t){var a=e.lastIndexOf("_");return void 0===t?e.slice(a+1):e.slice(a+1,t)}function v(e){return 100<e?Math.round(e):10<e?Math.round(10*e)/10:Math.round(100*e)/100}function p(e){e=Math.round(e);var t=parseInt(e/60),a=e%60;return(a+"").length<2&&(a="0"+a),t+":"+a}function w(e){return p((e=Math.round(e))%1440)}function b(e){return!!(""===e||isNaN(e)||e<0||"Infinity"===e)}function f(e,t){var a=1<arguments.length&&void 0!==t&&t,n=void 0;return n=b(e.val())?0:parseFloat(e.val()),a&&e.val(n),n}function y(e){for(var t=0,a=e.length,n=0;n<a;n++)t=t>e[n]?t:e[n];return t}function S(e){for(var t=e[0],a=e.length,n=0;n<a;n++)t=t<e[n]?t:e[n];return t}function P(e,t){return e-t}function M(e,t){return parseInt(e.replace(/[^0-9]/gi,""))-parseInt(t.replace(/[^0-9]/gi,""))}function k(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod","KFAPWI"],a=!1,n=0;n<t.length;n++)if(-1!==e.indexOf(t[n])){a=!0;break}return a}Array.prototype.remove=function(e){for(var t=0;t<this.length;)this[t]===e?this.splice(t,1):t++},Array.prototype.remove_First=function(e){for(var t=0;t<this.length;){if(this[t]===e){this.splice(t,1);break}t++}};var C="";if(console){var V={log:console.log,info:console.info,debug:console.debug,warn:console.warn,error:console.error};console.log=function(e){var t=(new Date).toLocaleString()+" log: "+JSON.stringify(e)+"\n";C=R(C+=t);try{t=R(t=sessionStorage.getItem("GF_Logistics_console")+t),sessionStorage.setItem("GF_Logistics_console",t)}catch(e){}V.log.apply(this,Array.prototype.slice.call(arguments,0))},console.warn=function(e){var t=(new Date).toLocaleString()+" warn: "+JSON.stringify(data)+"\n";C=R(C+=t);try{t=R(t=sessionStorage.getItem("GF_Logistics_console")+t),sessionStorage.setItem("GF_Logistics_console",t)}catch(e){}V.warn.apply(this,Array.prototype.slice.call(arguments,0))},console.error=function(e){var t=(new Date).toLocaleString()+" error: "+JSON.stringify(e)+"\n";C=R(C+=t);try{t=R(t=sessionStorage.getItem("GF_Logistics_console")+t),sessionStorage.setItem("GF_Logistics_console",t)}catch(e){}V.error.apply(this,Array.prototype.slice.call(arguments,0))}}function R(e){var t=e.length;return 1e4<t?e.slice(t-1e4):e}Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(e,t,a){if(null==this)throw new TypeError("this is null or not defined");for(var n=Object(this),i=n.length>>>0,l=t>>0,r=l<0?Math.max(i+l,0):Math.min(l,i),o=void 0===a?i:a>>0,s=o<0?Math.max(i+o,0):Math.min(o,i);r<s;)n[r]=e,r++;return n}});var x=[["0-1",0,145,145,0,0,0,0,0,50],["0-2",550,0,0,350,0,0,0,0,180],["0-3",900,900,900,250,0,0,0,0,720],["0-4",0,1200,800,750,0,0,0,0,1440],["1-1",10,30,15,0,0,0,0,0,15],["1-2",0,40,60,0,0,0,0,0,30],["1-3",30,0,30,10,0,0,0,0,60],["1-4",160,160,0,0,0,0,0,0,120],["2-1",100,0,0,30,0,0,0,0,40],["2-2",60,200,80,0,0,0,0,0,90],["2-3",10,10,10,230,0,0,0,0,240],["2-4",0,250,600,60,0,0,0,0,360],["3-1",50,0,75,0,0,0,0,0,20],["3-2",0,120,70,30,0,0,0,0,45],["3-3",0,300,0,0,0,0,0,0,90],["3-4",0,0,300,300,0,0,0,0,300],["4-1",0,185,185,0,0,0,0,0,60],["4-2",0,0,0,210,0,0,0,0,120],["4-3",800,550,0,0,0,0,0,0,360],["4-4",400,400,400,150,0,0,0,0,480],["5-1",0,0,100,45,0,0,0,0,30],["5-2",0,600,300,0,0,0,0,0,150],["5-3",800,400,400,0,0,0,0,0,240],["5-4",100,0,0,700,0,0,0,0,420],["6-1",300,300,0,100,0,0,0,0,120],["6-2",0,200,550,100,0,0,0,0,180],["6-3",0,0,200,500,0,0,0,0,300],["6-4",800,800,800,0,0,0,0,0,720],["7-1",650,0,650,0,0,0,0,0,150],["7-2",0,650,0,300,0,0,0,0,240],["7-3",900,600,600,0,0,0,0,0,330],["7-4",250,250,250,600,0,0,0,0,480],["8-1",150,150,150,0,0,0,0,0,60],["8-2",0,0,0,450,0,0,0,0,180],["8-3",400,800,800,0,0,0,0,0,360],["8-4",1500,400,400,100,0,0,0,0,540],["9-1",0,0,100,50,0,0,0,0,30],["9-2",180,0,180,100,0,0,0,0,90],["9-3",750,750,0,0,0,0,0,0,270],["9-4",500,900,900,0,0,0,0,0,420],["10-1",140,200,0,0,0,0,0,0,40],["10-2",0,240,180,0,0,0,0,0,100],["10-3",0,480,480,300,0,0,0,0,320],["10-4",660,660,660,330,0,0,0,0,600],["11-1",350,1050,0,0,0,0,0,0,240],["11-2",360,540,540,0,0,0,0,0,240],["11-3",0,750,1500,250,0,0,0,0,480],["11-4",0,1650,0,900,0,0,0,0,600],["12-1",0,220,220,0,0,0,0,0,60],["12-2",360,0,0,120,0,0,0,0,90],["12-3",800,1200,1200,0,0,0,0,0,540],["12-4",1800,0,1800,0,0,0,0,0,720]];function A(e){var t=e/100;x[1][5]=I(50,50,t),x[7][5]=I(20,20,t),x[11][5]=I(80,80,t),x[15][5]=I(40,80,t),x[18][5]=.7,x[23][5]=I(40,40,t),x[29][5]=.6,x[35][5]=I(90,90,t),x[38][5]=I(70,70,t),x[41][5]=.75,x[44][5]=.5,x[45][5]=1,x[51][5]=1,x[2][6]=I(40,80,t),x[15][6]=I(40,80,t),x[16][6]=I(20,20,t),x[22][6]=I(50,50,t),x[26][6]=I(60,60,t),x[30][6]=I(70,70,t),x[32][6]=I(40,40,t),x[39][6]=1,x[43][6]=I(50,50,t),x[44][6]=.5,x[48][6]=I(60,60,t),x[0][7]=I(20,70,t),x[10][7]=.5,x[14][7]=I(40,85,t),x[17][7]=I(50,50,t),x[19][7]=1,x[25][7]=I(20,70,t),x[31][7]=I(80,80,t),x[34][7]=I(60,90,t),x[37][7]=I(25,25,t),x[41][7]=.25,x[42][7]=I(30,80,t),x[47][7]=1,x[50][7]=1,x[0][8]=I(50,70,t),x[2][8]=I(40,80,t),x[6][8]=I(60,60,t),x[9][8]=I(30,30,t),x[10][8]=.5,x[14][8]=I(45,85,t),x[18][8]=.3,x[21][8]=I(80,80,t),x[25][8]=I(50,70,t),x[29][8]=.4,x[33][8]=I(80,80,t),x[34][8]=I(30,90,t),x[42][8]=I(50,80,t),x[46][8]=I(50,50,t)}function I(e,t,a){return e/100+(e/t-e/100)*a}var E=(e(Q,null,[{key:"alert",value:function(e,t){var a=0<arguments.length&&void 0!==e?e:"",n=1<arguments.length&&void 0!==t?t:g.JS.alertTitle_warning;this._insertModalQueue("alert",[a,n])}},{key:"confirm",value:function(e,t,a,n){var i=0<arguments.length&&void 0!==e?e:"",l=1<arguments.length&&void 0!==t?t:function(){},r=2<arguments.length&&void 0!==a?a:function(){},o=3<arguments.length&&void 0!==n?n:g.JS.alertTitle_warning;this._insertModalQueue("confirm",[i,l,r,o])}},{key:"prompt",value:function(e,t,a,n,i,l,r,o,s){var u=0<arguments.length&&void 0!==e?e:"",c=1<arguments.length&&void 0!==t?t:"",_=2<arguments.length&&void 0!==a?a:function(e){},d=3<arguments.length&&void 0!==n?n:function(){},m=4<arguments.length&&void 0!==i?i:"text",T=5<arguments.length&&void 0!==l?l:"",g=6<arguments.length&&void 0!==r?r:void 0,h=7<arguments.length&&void 0!==o?o:function(e){return""},v=8<arguments.length&&void 0!==s?s:function(e){return""};this._insertModalQueue("prompt",[u,c,_,d,m,T,g,h,v])}},{key:"_insertModalQueue",value:function(e,t){var a={type:e,param:t};1===this._queque.push(a)&&this._runFirstModal()}},{key:"_runFirstModal",value:function(){if(this._queque[0]){var e=this._queque[0],t=e.param;switch(e.type){case"alert":this._alert_main(t[0],t[1]);break;case"confirm":this._fonfirm_main(t[0],t[1],t[2],t[3]);break;case"prompt":this._prompt_main(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}}}},{key:"_alert_main",value:function(e,t){this._blur(),this._setBody(e),this._setTitle(t),this._html_cancelButton.addClass("d-none"),this._lastModal="alert",this._show()}},{key:"_fonfirm_main",value:function(e,t,a,n){this._blur(),this._setBody(e),this._setTitle(n),this._html_okButton.on("click",t),this._html_cancelButton.on("click",a),this._html_close.on("click",a),this._lastModal="confirm",this._show()}},{key:"_prompt_main",value:function(e,t,a,n,i,l,r,o,s){this._blur(),this._setTitle(t);var u='<div class="form-group"><label for="modal_input">'+e;u+='</label><input type="'+i+'" class="form-control" id="modal_input" value="'+l,u+='" onfocus="this.select()" required><div id="modal_feedback"></div></div>',this._setBody(u),this._html_okButton.on("click",function(){a($("#modal_input").val())}),this._html_cancelButton.on("click",n),this._html_close.on("click",n),void 0!==r&&(r(l)?($("#modal_input").addClass("is-valid"),$("#modal_feedback").addClass("valid-feedback"),$("#modal_feedback").html(o(l))):($("#modal_input").addClass("is-invalid"),$("#modal_feedback").addClass("invalid-feedback"),$("#modal_feedback").html(s(l))),$("#modal_input").on("keyup",function(e){var t=$("#modal_input").val();13!=e.which||r(t)&&Q._html_okButton.click()}),$("#modal_input").on("input propertychange",function(){var e=$("#modal_input"),t=$("#modal_feedback"),a=e.val();r(a)?(e.addClass("is-valid"),e.removeClass("is-invalid"),t.addClass("valid-feedback"),t.removeClass("invalid-feedback"),t.html(o(a)),Q._html_okButton.removeAttr("disabled")):(e.addClass("is-invalid"),e.removeClass("is-valid"),t.addClass("invalid-feedback"),t.removeClass("valid-feedback"),t.html(s(a)),Q._html_okButton.attr("disabled","true"))})),this._lastModal="prompt",this._show()}},{key:"_blur",value:function(){document.activeElement.blur()}},{key:"_setTitle",value:function(e){this._html_title.html(e)}},{key:"_setBody",value:function(e){this._html_body.html(e)}},{key:"_show",value:function(){this._html_modal.modal("show")}}]),Q);function Q(){u(this,Q)}E._lastModal="",E._queque=[],E._html_modal=$("#Modal"),E._html_title=$("#Modal_title"),E._html_close=$("#Modal_closeButton"),E._html_body=$("#Modal_body"),E._html_footer=$("#Modal_footer"),E._html_okButton=$("#Modal_footer_button_ok"),E._html_cancelButton=$("#Modal_footer_button_cancel"),E._html_modal.on("shown.bs.modal",function(){switch(E._lastModal){case"alert":E._html_okButton.focus();break;case"confirm":E._html_cancelButton.focus();break;case"prompt":$("#modal_input").focus()}}),E._html_modal.on("hide.bs.modal",function(){switch(E._lastModal){case"confirm":E._html_close.off(),E._html_okButton.off(),E._html_cancelButton.off();break;case"prompt":E._html_close.off(),E._html_okButton.off(),E._html_cancelButton.off(),$("#modal_input").off()}E._queque.shift()}),E._html_modal.on("hidden.bs.modal",function(){switch(E._lastModal){case"alert":E._html_cancelButton.removeClass("d-none");break;case"prompt":E._html_okButton.removeAttr("disabled")}E._runFirstModal()});var L="1.0.3",F=void 0,D="GF_Logistics_v"+L.slice(0,L.indexOf("."))+".x.x";function B(e){for(var t=0<arguments.length&&void 0!==e?e:[],a=[],n=0;n<t.length;n++){var i=t[n].data,l={};l.name=i[0],l.TabName=i[1],l.GSRate=i[2],l.is_UP=i[3],l.Chapter=i[4],l.TabCustom=i[5],l.Missions=i[6],l.startTime=i[7],a.push(l)}return a}function H(e,t){if(F){var a=localStorage.getItem(D);try{a=JSON.parse(a)}catch(e){console.error("storageGetItem, storage: "+a),a={}}null===a&&(a={}),a[e]=t,a.version=L,a=JSON.stringify(a),localStorage.setItem(D,a)}}function N(e){if(F){var t=localStorage.getItem(D);if(null===t)return"noStorage";try{t=JSON.parse(t)}catch(e){console.error("storageGetItem, storage: "+t),t={}}var a=t[e];return void 0===a?"noStorage":a}return"noStorage"}var W=[];function G(){var e=ve();4320<e&&pe(e=4320),document.getElementById("Tab_Timetable_range_tooltip_0_value").innerHTML=p(e),Ge.print(),We()}function J(e){(0===(W=e).length?z:Z)();var t=q(ve(),e);document.getElementById("Tab_Timetable_range").innerHTML=t}function O(e){var t='<div inverse-left style="width:70%;"></div><div inverse-right style="width:70%;"></div><div range style="left:0%;right:0%; background-color:#dee2e6;"></div>';return t+='<span thumb id="Tab_Timetable_range_thumb"style="left:100%; background-color:rgb(221, 155, 155); cursor:default;"></span>',t+='<div id="Tab_Timetable_range_tooltip"class="tooltip right custom-tooltip"style="right: -69px; top:-9px;">',t+='<div class="tooltip-arrow" style="top: 7px;"></div><div id="Tab_Timetable_range_tooltip_0_value"class="tooltip-inner">',t+=p(e)+"</div></div>"}function q(e,t){for(var a=O(e),n=t.length,i=0;i<n;i++){var l=t[i]/e*100+"%",r=U(t[i],l);a+=r+=j(t[i],l,i)}return a}function U(e,t){var a='<button class="slider-button" id="Tab_Timetable_range_thumb_'+e+'"';return a+='style="left:'+t+';" title="'+g.HTMLJS.Timetable_deletePoint+'">',a+='<span class="glyphicon glyphicon-remove-circle" style="font-size: 22px;"></span></button>'}function j(e,t,a){var n='<div id="Tab_Timetable_range_tooltip_'+e+'"';return n+=a%2==0?'class="slider-Tooltip-top tooltip top custom-tooltip"':'class="slider-Tooltip-bottom tooltip bottom custom-tooltip"',n+='style="left:'+t+';">',n+='<div class="tooltip-arrow"></div><div class="tooltip-inner">',n+=p(e)+"</div></div>"}function z(){$("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")}function Z(){$("#Time_Timetable_hours").attr("disabled","true"),$("#Time_Timetable_minutes").attr("disabled","true")}function K(){return document.getElementById("Display_PerHour").checked}function X(e){var t=0<arguments.length&&void 0!==e&&e,a=$("#GreatSuccessRate"),n=a.val();return n=b(n)||n<15?15:69<n?69:Math.round(n),t&&a.val(n),n}function Y(e){$("#GreatSuccessRate").val(e),A(ne()),H("GreatSuccessRate",e)}function ee(){return!!document.getElementById("GreatSuccessRateUp").checked}function te(e){return["15","15","15","15","15","15","15","15","15","15","15","15","15","15","15","15 / 16","15 / 16","16","16","16 / 17","17","17 / 18","17 / 18","17 / 18","18 / 19","18 / 19","19","19","19 / 20","20","20 / 21","20 / 21","20 / 21","21 / 22","21 / 22","22","22","22 / 23","23","23 / 24","23 / 24","23 / 24","24 / 25","24 / 25","25","25","25 / 26","26","26 / 27","26 / 27","26 / 27","27 / 28","27 / 28","28","28","28 / 29","29","29 / 30","29 / 30","29 / 30","30 / 31","30 / 31","31","31","31 / 21","32","32 / 33","32 / 33","32","31"][e]}function ae(e){return ee()?parseInt(te(e).substr(0,2)):0}function ne(e){var t=X(0<arguments.length&&void 0!==e&&e);return t+ae(t)}function ie(e,t){var a=!(1<arguments.length&&void 0!==t)||t,n=document.getElementById("GreatSuccessRateUp"),i=$("#GreatSuccessRateUp_btn"),l=document.getElementById("Display_UPRate");if(!1===e)n.checked=!1,i.removeClass("active"),l.innerHTML="";else{n.checked=!0,i.addClass("active");var r=X(a);l.innerHTML="+"+te(r)}A(ne()),H("Is_GreatSuccessRateUP",e)}function le(e,t){var a=0<arguments.length&&void 0!==e?e:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")],n=!(1<arguments.length&&void 0!==t)||t;return(Array.isArray(a)?re:f)(a,n)}function re(e,t){for(var a=[],n=0;n<e.length;n++)a.push(f(e[n],t));return a}function oe(e,t){var a=0<arguments.length&&void 0!==e?e:[0,0,0,0,0,0,0,0],n=1<arguments.length&&void 0!==t?t:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")];(Array.isArray(a)?se:ue)(a,n),H("TargetValue",le())}function se(e,t){for(var a=0;a<e.length;a++)ue(e[a],t[a])}function ue(e,t){e<0?t.val(0):t.val(Math.round(100*e)/100)}function ce(){return parseInt($("#ContractWeight").val())}function _e(e){var t=0<arguments.length&&void 0!==e?e:50;$("#ContractWeight").val(t),H("ContractWeight",ce())}function de(){return parseInt($("#ChapterLimit").val())}function me(e){var t=0<arguments.length&&void 0!==e?e:x.length/4-1;$("#ChapterLimit").val(t),null===$("#ChapterLimit").val()&&$("#ChapterLimit").val(x.length/4-1),H("ChapterLimit",de())}function Te(e){var t=0<arguments.length&&void 0!==e&&e;return 60*function(e){var t=0<arguments.length&&void 0!==e&&e;return f($("#Time_Anytime_hours"),t)}(t)+function(e){var t=0<arguments.length&&void 0!==e&&e;return f($("#Time_Anytime_minutes"),t)}(t)}function ge(e){var t=0<arguments.length&&void 0!==e?e:960,a=t%60;!function(e){var t=0<arguments.length&&void 0!==e?e:16;$("#Time_Anytime_hours").val(t)}(parseInt(t/60)),function(e){var t=0<arguments.length&&void 0!==e?e:0;$("#Time_Anytime_minutes").val(t)}(a)}function he(e){var t=0<arguments.length&&void 0!==e&&e;return f($("#Tab_Anytime_MinimumIntervalTime_minutes"),t)}function ve(e){var t=0<arguments.length&&void 0!==e&&e;return 60*function(e){var t=0<arguments.length&&void 0!==e&&e;return f($("#Time_Timetable_hours"),t)}(t)+function(e){var t=0<arguments.length&&void 0!==e&&e;return f($("#Time_Timetable_minutes"),t)}(t)}function pe(e,t){var a=0<arguments.length&&void 0!==e?e:300;1<arguments.length&&void 0!==t&&!t||(document.getElementById("Tab_Timetable_range_tooltip_0_value").innerHTML=p(a));var n=a%60;!function(e){var t=0<arguments.length&&void 0!==e?e:5;$("#Time_Timetable_hours").val(t)}(parseInt(a/60)),function(e){var t=0<arguments.length&&void 0!==e?e:0;$("#Time_Timetable_minutes").val(t)}(n)}function be(e){var t=!(0<arguments.length&&void 0!==e)||e;return 60*function(e){var t=!(0<arguments.length&&void 0!==e)||e,a=f($("#Tab_Timetable_new_hours"),t);return t&&$("#Tab_Timetable_new_hours").val(""),a}(t)+function(e){var t=!(0<arguments.length&&void 0!==e)||e,a=f($("#Tab_Timetable_new_minutes"),t);return t&&$("#Tab_Timetable_new_minutes").val(""),a}(t)}function fe(){var e=$("#PlanDetails_InputStartTime").val(),t=parseFloat(e.substr(0,2));if(isNaN(t))return 0;var a=parseFloat(e.substr(3,2));return isNaN(a)&&(a=0),60*t+a}function ye(e){var t=0<arguments.length&&void 0!==e&&e,a=$("#PlanDetails_InputExecutionTimes"),n=a.val();return n=b(n)||n<1?1:999<n?999:Math.round(n),t&&a.val(n),n}function Se(e){var t=0<arguments.length&&void 0!==e&&e;return re([$("#calcTargetValueTool_Target_Manp"),$("#calcTargetValueTool_Target_Ammu"),$("#calcTargetValueTool_Target_Rati"),$("#calcTargetValueTool_Target_Part"),$("#calcTargetValueTool_Target_TPro"),$("#calcTargetValueTool_Target_Equi"),$("#calcTargetValueTool_Target_QPro"),$("#calcTargetValueTool_Target_QRes")],t)}function Pe(e){se(0<arguments.length&&void 0!==e?e:[0,0,0,0,0,0,0,0],[$("#calcTargetValueTool_Target_Manp"),$("#calcTargetValueTool_Target_Ammu"),$("#calcTargetValueTool_Target_Rati"),$("#calcTargetValueTool_Target_Part"),$("#calcTargetValueTool_Target_TPro"),$("#calcTargetValueTool_Target_Equi"),$("#calcTargetValueTool_Target_QPro"),$("#calcTargetValueTool_Target_QRes")]),H("CalcTargetValueTool_Target",Se())}function Me(e){var t=0<arguments.length&&void 0!==e&&e;return re([$("#calcTargetValueTool_Current_Manp"),$("#calcTargetValueTool_Current_Ammu"),$("#calcTargetValueTool_Current_Rati"),$("#calcTargetValueTool_Current_Part"),$("#calcTargetValueTool_Current_TPro"),$("#calcTargetValueTool_Current_Equi"),$("#calcTargetValueTool_Current_QPro"),$("#calcTargetValueTool_Current_QRes")],t)}function we(e){se(0<arguments.length&&void 0!==e?e:[0,0,0,0,0,0,0,0],[$("#calcTargetValueTool_Current_Manp"),$("#calcTargetValueTool_Current_Ammu"),$("#calcTargetValueTool_Current_Rati"),$("#calcTargetValueTool_Current_Part"),$("#calcTargetValueTool_Current_TPro"),$("#calcTargetValueTool_Current_Equi"),$("#calcTargetValueTool_Current_QPro"),$("#calcTargetValueTool_Current_QRes")]),H("CalcTargetValueTool_Current",Me())}function ke(e){var t=0<arguments.length&&void 0!==e&&e,a=$("#calcTargetValueTool_InputExecutionTimes"),n=a.val();return n=b(n)||n<1?1:999<n?999:Math.round(n),t&&a.val(n),n}function Ce(e){var t=0<arguments.length&&void 0!==e?e:1,a=$("#calcTargetValueTool_InputExecutionTimes");t=Math.round(t),a.val(t),H("CalcTargetValueTool_ExecutionTimes",ke())}var $e=(e(Ve,[{key:"_setTime",value:function(){!0!==this._setTimeFlag&&(this._setTimeFlag=!0)}},{key:"getTotalTime",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;return this._setTimeFlag||this._setTime(t),this._totalTime}},{key:"setQValid",value:function(e){!0!==this._setQValidFlag&&(this._setQValidFlag=!0)}},{key:"_getUnableLogistic",value:function(){var e=this._setUnableLogistic();return this._setUnableLogisticCustomize(e)}},{key:"_setUnableLogistic",value:function(){for(var e=4*(de()+1),t=[],a=x.length-1;e<=a;)t.push(e++);return t}},{key:"_setUnableLogisticCustomize",value:function(e){for(var t=0;t<x.length;t++)x[t][9]>this._totalTime&&-1===e.indexOf(t)&&e.push(t);return e}},{key:"getQValid",value:function(e){return 1==!this._setQValidFlag&&this.setQValid(e),this._QValid.slice()}},{key:"getQValidLength",value:function(e){var t=0<arguments.length&&void 0!==e&&e;return 1==!this._setQValidFlag&&this.setQValid(t),this._QValid.length}},{key:"_setCurrentMax",value:function(){if(!0!==this._setCurrentMaxFlag){for(var e=[0,0,0,0,0,0,0,0],t=this._QValid.length,a=0;a<8;a++){for(var n=new Array(t),i=0;i<t;i++)n[i]=this._QValid[i][a+1];_(n),e[a]=n[0]+n[1]+n[2]+n[3]}this._currentValueMax=e,this._setCurrentMaxFlag=!0}}},{key:"getCurrentValueMax",value:function(){return 1==!this._setCurrentMaxFlag&&this._setCurrentMax(),this._currentValueMax}},{key:"deleteUselessMissions",value:function(e,t,a){if(!(this._QValid.length<=e)){if(void 0===a)a=this._calculateMissionValue(t);else{var n=a,i=this._calculateMissionValue(t);a=this._pulsMissionValue(n,i)}for(var l=this._QValid.length,r=new Array(l),o=0;o<l;o++)r[o]=[o,a[o]];m(r,1),r.splice(0,e),m(r,0);for(var s=0;s<r.length;s++)this._QValid.splice(r[s][0],1)}}},{key:"_calculateMissionValue",value:function(e){for(var t=[0,0,0,0,0,0,0,0],a=this._QValid.length,n=0;n<8;n++)for(var i=0;i<a;i++)t[n]=Math.max(t[n],this._QValid[i][n+1]);for(var l=[],r=0;r<8;r++)0!==t[r]?l.push(e[r]/t[r]):l.push(0);for(var o=[],s=0;s<a;s++){for(var u=0,c=this._QValid[s],_=0;_<8;_++)u+=c[_+1]*l[_];o.push(u)}return o}},{key:"_pulsMissionValue",value:function(e,t){var a=e.length,n=S(e),i=y(e)-n;if(0!=i)for(var l=0;l<a;l++)e[l]=(e[l]-n)/i;var r=S(t),o=y(t)-r;if(0!=o)for(var s=0;s<a;s++)t[s]=(t[s]-r)/o;for(var u=new Array(a),c=0;c<a;c++)u[c]=e[c]+t[c];return u}},{key:"normalizedQValid",value:function(){for(var e=this.getCurrentValueMax(),t=this._QValid.length,a=0;a<t;a++)for(var n=0;n<8;n++)0!==e[n]&&(this._QValid[a][n+1]/=e[n])}},{key:"calculateCurrentValue",value:function(e,t,a,n){for(var i=[0,0,0,0,0,0,0,0],l=this._QValid,r=l[e],o=l[t],s=l[a],u=l[n],c=0;c<8;c++)i[c]=r[c+1]+o[c+1]+s[c+1]+u[c+1];return i}},{key:"printPlanTableTitle",value:function(){}},{key:"printTableCustomize",value:function(){return[]}},{key:"getSavedCustom",value:function(){return[]}},{key:"applySavedCustom",value:function(){}},{key:"planDetailsCustom_Title",value:function(){return""}},{key:"planDetailsCustom_Content",value:function(){return""}}],[{key:"isThisTabShow",value:function(){}}]),Ve);function Ve(){u(this,Ve),this._title='<thead class="disable-selected-text"><tr style="cursor:pointer;"><th style="width:20%;" colspan="4" tabindex="0" id="resultPlan_Mission">'+g.JS.Mission+"</th>",this._titleEnd="</tr></thead>",this._totalTime=0,this.name="",this._setTimeFlag=!1,this._setQValidFlag=!1,this._setCurrentMaxFlag=!1,this._currentValueMax=[],this._QValid=[]}var Re=(t(xe,$e),e(xe,[{key:"_setTime",value:function(e){if(!0!==this._setTimeFlag){if(this._totalTime=Te(e),e&&0===this._totalTime)throw E.alert(g.JS.tab_Anytime_alert1),"Warning: Total time cannot be 0!";this.MinimumIntervalTime=he(e),this._setTimeFlag=!0}}},{key:"setQValid",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;if(!0!==this._setQValidFlag){this._setTime(t);for(var a=1+ne(t)/200,n=this._getUnableLogistic(),i=0;i<x.length;i++)if(-1===n.indexOf(i)){var l=[];l.push(x[i][0]);for(var r=0;(++r+1)*x[i][9]<=this._totalTime;);for(var o=1;o<5;o++)l.push(x[i][o]*r*a/this._totalTime);for(var s=5;s<9;s++)l.push(x[i][s]*r/this._totalTime);l.push(x[i][9]);for(var u=[],c=1;c<=r;c++)u.push(x[i][9]*c);l.push(u),this._QValid.push(l),this.Qvalid_Time.push(x[i][9])}T(this._QValid,9),d(this.Qvalid_Time),this._setQValidFlag=!0}}},{key:"_setUnableLogisticCustomize",value:function(e){for(var t=0;t<x.length;t++){(x[t][9]>this._totalTime||x[t][9]<this.MinimumIntervalTime)&&-1===e.indexOf(t)&&e.push(t);var a=this._totalTime%x[t][9];a<this.MinimumIntervalTime&&0!=a&&-1===e.indexOf(t)&&e.push(t)}return e}},{key:"calculateCurrentValue",value:function(e,t,a,n){var i=this.Qvalid_Time,l=this.MinimumIntervalTime;if(l){var r=[i[e],i[t],i[a],i[n]],o=Math.min(r[1]-r[0]==0?l:r[1]-r[0],r[2]-r[1]==0?l:r[2]-r[1],r[3]-r[2]==0?l:r[3]-r[2]);if(o<l)return[-1,-1,-1,-1,-1,-1,-1,-1];if((o=Ae(r,this._totalTime))<l)return[-1,-1,-1,-1,-1,-1,-1,-1]}return s(xe.prototype.__proto__||Object.getPrototypeOf(xe.prototype),"calculateCurrentValue",this).call(this,e,t,a,n)}},{key:"deleteUselessMissions",value:function(e,t,a){s(xe.prototype.__proto__||Object.getPrototypeOf(xe.prototype),"deleteUselessMissions",this).call(this,e,t,a);for(var n=this._QValid.length,i=[],l=0;l<n;l++)i.push(this._QValid[l][9]);this.Qvalid_Time=i}},{key:"printPlanTableTitle",value:function(){return K()?this._title+'<th style="width:8.88%;" tabindex="0" id="resultPlan_Manp">'+g.JS.Manp+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Ammu">'+g.JS.Ammu+'/h</th><th style="width:8.88%;"tabindex="0" id="resultPlan_Rati">'+g.JS.Rati+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Part">'+g.JS.Part+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_TPro">'+g.JS.TPro+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Equi">'+g.JS.Equi+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QPro">'+g.JS.QPro+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QRes">'+g.JS.QRes+'/h</th><th style="width:8.88%;cursor:default;">'+g.JS.MinIntervalTime+"</th>"+this._titleEnd:this._title+'<th style="width:8.88%;" tabindex="0" id="resultPlan_Manp">'+g.JS.Manp+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Ammu">'+g.JS.Ammu+'</th><th style="width:8.88%;"tabindex="0" id="resultPlan_Rati">'+g.JS.Rati+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Part">'+g.JS.Part+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_TPro">'+g.JS.TPro+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Equi">'+g.JS.Equi+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QPro">'+g.JS.QPro+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QRes">'+g.JS.QRes+'</th><th style="width:8.88%;cursor:default;">'+g.JS.MinIntervalTime+"</th>"+this._titleEnd}},{key:"printTableCustomize",value:function(e,t,a,n){var i=[],l=[this.Qvalid_Time[e],this.Qvalid_Time[t],this.Qvalid_Time[a],this.Qvalid_Time[n]];return i.push(Ae(l,this._totalTime)+"m"),i}},{key:"getSavedCustom",value:function(){var e=[],t=Te();e.push(t);var a=he();return e.push(a),e.slice()}},{key:"applySavedCustom",value:function(e){var t=e.slice(),a=t[0],n=t[1];ge(a),function(e){var t=0<arguments.length&&void 0!==e?e:0;$("#Tab_Anytime_MinimumIntervalTime_minutes").val(t)}(n),H("TabAnytimeCustom",t)}},{key:"planDetailsCustom_Title",value:function(){return g.JS.MinIntervalTime}},{key:"planDetailsCustom_Content",value:function(e){for(var t=[],a=this.getTotalTime(!1),n=0;n<e.length;n++)for(var i=0;i<x.length;i++)if(x[i][0]===e[n]){t.push(x[i][9]);break}for(var l=e.length;l<4;l++)t.push(a);return d(t),p(Ae(t,a))}}],[{key:"isThisTabShow",value:function(){return!!$("#Tab_Anytime").hasClass("active")}}]),xe);function xe(){u(this,xe);var e=o(this,(xe.__proto__||Object.getPrototypeOf(xe)).call(this));return e.name="Anytime",e.PlanTableResourceAndContractWidth="8.88%",e.Qvalid_Time=[],e.MinimumIntervalTime=0,e}function Ae(e,t){for(var a=e[0],n=0;n<4;n++){var i=t%e[n];0!=i&&(a=a<i?a:i)}var l=e[0],r=e[1],o=e[2],s=e[3],u=4;if(s%o!=0&&s%r!=0&&s%l!=0||u--,o%r!=0&&o%l!=0||(3===u?u--:e[2]=t),r%l==0&&(2===u?u--:e[1]=t),1===u)return a;for(var c=l;c<t;){for(var _=t,d=0,m=-1;++m<u;)e[m]<=_&&(_=e[m],d=m);switch(d){case 0:e[0]+=l;break;case 1:e[1]+=r;break;case 2:e[2]+=o;break;case 3:e[3]+=s}var T=_-c;0!=T&&(c=_,a=a<T?a:T)}return a}var Ie=(t(Ee,$e),e(Ee,[{key:"_setTime",value:function(e){if(!0!==this._setTimeFlag){if(this.TimeList=W.slice().sort(P),this.TimeList.unshift(0),this._totalTime=ve(e),e&&0===this._totalTime)throw E.alert(g.JS.tab_Timetable_alert4),at(),"Warning: Total time cannot be 0!";this.TimeList.push(this._totalTime),this._setTimeFlag=!0}}},{key:"setQValid",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;if(!0!==this._setQValidFlag){this._setTime(t);for(var a=1+ne(t)/200,n=this._getUnableLogistic(),i=0;i<x.length;i++)if(-1===n.indexOf(i)){var l=[];l.push(x[i][0]);for(var r=0,o=[],s=0,u=1;u<this.TimeList.length;u++)x[i][9]<=this.TimeList[u]-this.TimeList[s]&&(r++,o.push(this.TimeList[s]+x[i][9]),s=u);for(var c=1;c<5;c++)l.push(x[i][c]*r*a/this._totalTime);for(var _=5;_<9;_++)l.push(x[i][_]*r/this._totalTime);l.push(x[i][9]),l.push(o),this._QValid.push(l)}this._setQValidFlag=!0}}},{key:"printPlanTableTitle",value:function(){return K()?this._title+'<th style="width:10%;" tabindex="0" id="resultPlan_Manp">'+g.JS.Manp+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Ammu">'+g.JS.Ammu+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Rati">'+g.JS.Rati+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Part">'+g.JS.Part+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_TPro">'+g.JS.TPro+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Equi">'+g.JS.Equi+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_QPro">'+g.JS.QPro+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_QRes">'+g.JS.QRes+"/h</th>"+this._titleEnd:this._title+'<th style="width:10%;" tabindex="0" id="resultPlan_Manp">'+g.JS.Manp+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Ammu">'+g.JS.Ammu+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Rati">'+g.JS.Rati+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Part">'+g.JS.Part+'</th><th style="width:10%;" tabindex="0" id="resultPlan_TPro">'+g.JS.TPro+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Equi">'+g.JS.Equi+'</th><th style="width:10%;" tabindex="0" id="resultPlan_QPro">'+g.JS.QPro+'</th><th style="width:10%;" tabindex="0" id="resultPlan_QRes">'+g.JS.QRes+"</th>"+this._titleEnd}},{key:"getSavedCustom",value:function(){var e=[],t=ve();e.push(t);var a=W.slice();return e.push(a),e.slice()}},{key:"applySavedCustom",value:function(e){var t=e.slice();pe(t[0]);var a=t[1].slice();J(a),H("TabTimetableCustom",t)}}],[{key:"isThisTabShow",value:function(){return!!$("#Tab_Timetable").hasClass("active")}}]),Ee);function Ee(){u(this,Ee);var e=o(this,(Ee.__proto__||Object.getPrototypeOf(Ee)).call(this));return e.name="Timetable",e._QValid=[],e.TimeList=[],e.PlanTableResourceAndContractWidth="10%",e}function Qe(){var e=void 0;return Re.isThisTabShow()?e=new Re:Ie.isThisTabShow()&&(e=new Ie),e}function Le(e){var t=void 0;switch(e){case"Anytime":t=new Re;break;case"Timetable":t=new Ie}return t}var Fe=6;function De(){var e=g.HTML,t=g.HTMLJS,a=g.JS,n=g.CSS;for(var i in document.documentElement.lang=g.lang,document.title=g.title,e)document.getElementById(i).innerHTML=e[i];for(var l in t.placeholder)document.getElementById(l).placeholder=t.placeholder[l];for(var r in t.title)document.getElementById(r).title=t.title[r];nt(),at();for(var o=(x.length-4)/4,s=Fe;s<=o;s++)document.getElementById("chapter_"+s).innerHTML=a.chapter_start+a.number(s)+a.chapter_end;$("button[id^=Tab_Timetable_range_thumb_]").attr("title",t.Timetable_deletePoint);var u=Qe();Be.printShownTab(u.name),Be.printTotalTime(u.getTotalTime(!1)),Be.printGreatSuccessRate(ne()),Be.printExecutionTimes(ye()),$("#PlanDetails_PerHour_title").html(a.PerHour),$("#PlanDetails_Total_title").html(a.Total),$("#PlanDetails_TabCustom_Title").html(u.planDetailsCustom_Title()),K()?$("#Demand").html(t.Demand_hour):$("#Demand").html(t.Demand_total),document.getElementById("Manp").style.width=n.TargetValueSpan_Width,document.getElementById("Ammu").style.width=n.TargetValueSpan_Width,document.getElementById("Rati").style.width=n.TargetValueSpan_Width,document.getElementById("Part").style.width=n.TargetValueSpan_Width,document.getElementById("TPro").style.width=n.TargetValueSpan_Width,document.getElementById("Equi").style.width=n.TargetValueSpan_Width,document.getElementById("QPro").style.width=n.TargetValueSpan_Width,document.getElementById("QRes").style.width=n.TargetValueSpan_Width}var Be=(e(He,null,[{key:"printShownTab",value:function(e){var t="";switch(e){case"Anytime":t=g.HTML.Tab_Anytime_name;break;case"Timetable":t=g.HTML.Tab_Timetable_name}document.getElementById("PlanDetails_ShownTab").innerHTML=g.JS.PlanDetails_calculateMethod+": "+t}},{key:"printTotalTime",value:function(e){document.getElementById("PlanDetails_TotalTime").innerHTML=g.JS.total_time+": "+p(e)}},{key:"printGreatSuccessRate",value:function(e){document.getElementById("PlanDetails_GreatSuccessRate").innerHTML=g.JS.total_greatSuccessRate+": "+e+"%"}},{key:"printExecutionTimes",value:function(e){document.getElementById("PlanDetails_ExecutionTimes").innerHTML=g.JS.ExecutionTimes+": "+e}},{key:"printMissions",value:function(e){for(var t=0;t<e.length;t++){for(var a="<td>"+e[t][0]+"</td>",n=1;n<9;n++)a+="<td>",a+=v(60*e[t][n]),a+="</td>";a+="<td>"+p(e[t][9])+"</td>",document.getElementById("PlanDetails_Mission_"+(t+1)).innerHTML=a}for(var i=e.length;i<4;i++)document.getElementById("PlanDetails_Mission_"+(i+1)).innerHTML=""}},{key:"printMissionsHourly",value:function(e,t){if(0!==e.length){for(var a="<td id='PlanDetails_PerHour_title'>"+g.JS.PerHour+"</td>",n=1;n<9;n++){a+="<td>";for(var i=0,l=0;l<e.length;l++)i+=e[l][n];a+=v(60*i),a+="</td>"}a+="<td id='PlanDetails_TabCustom_Title'>",a+=Le(t).planDetailsCustom_Title(),a+="</td>",document.getElementById("PlanDetails_PerHour").innerHTML=a}else document.getElementById("PlanDetails_PerHour").innerHTML=""}},{key:"printMissionsTotal",value:function(e,t,a,n){if(0!==e.length){for(var i="<td id='PlanDetails_Total_title'>"+g.JS.Total+"</td>",l=1;l<9;l++){i+="<td>";for(var r=0,o=0;o<e.length;o++)r+=e[o][l];i+=v(r*t*a),i+="</td>"}for(var s=[],u=0;u<e.length;u++)s.push(e[u][0]);i+="<td>",i+=Le(n).planDetailsCustom_Content(s)+"</td>",document.getElementById("PlanDetails_Total").innerHTML=i}else document.getElementById("PlanDetails_Total").innerHTML=""}},{key:"_clearChartLastParam",value:function(){this._chartLastParam={missionsName:[],collectTimetable:[],totalTime:-1,startTIme:-1}}},{key:"printChart",value:function(e,t,a){if(0!==this._loadingChart.length&&(clearTimeout(this._loadingChart[0]),this._loadingChart.shift()),window.echarts){var n=this._chartLastParam;if(e.length===n.missionsName.length&&t===n.totalTime&&a===n.startTIme){for(var i=e.length,l=!0,r=0;r<i;r++)e[r][0]===n.missionsName[r]&&""+e[r][10]===n.collectTimetable[r]||(l=!1);if(!0===l)return}var o=document.getElementById("PlanDetails_Chart"),s=void 0;if(""===o.getAttribute("_echarts_instance_")||null===o.getAttribute("_echarts_instance_")){if(0===e.length)return;o.style.cssText="width: 610px; height: 120px;",s=echarts.init(o)}else if(s=echarts.getInstanceByDom(o),0===e.length)return s.dispose(),o.style.cssText="",void this._clearChartLastParam();for(var u=[],c=[],_=[],d=[],m=[],T=["#A1C0FF","#FF8C8A","#75d874","#FFDA93"],g=e.length-1;0<=g;g--)u.push(e[g][0]),c.push(e[g][9]),_.push(e[g][10]),d.push(e[g][10].length),m.push({name:e[g][0],color:T[g]});var h=[],v=void 0;v=t<=960?60:t<=1920?120:t<=2880?180:t<=3840?240:300;var p=!1;k()||(p=!0),echarts.util.each(["0","1","2","3"],function(e,t){for(var a=void 0,n=0;n<d[e];n++){var i=m[e],l=c[e];h.push({name:i.name,value:[t,a=_[e][n]-l,a+=l-1,l-1],itemStyle:{normal:{color:i.color}}}),h.push({name:"none",value:[t,a=_[e][n]-1,a+=1,1],itemStyle:{normal:{color:"#000000"}}})}});var b={title:{show:!1},grid:{left:35,right:20,top:5,bottom:20,height:"auto"},xAxis:{min:0,scale:!0,axisLabel:{formatter:function(e){return w(e+a)}},max:t,interval:v},yAxis:{data:u},series:[{type:"custom",renderItem:Ne,itemStyle:{normal:{opacity:.8}},encode:{x:[1,2],y:0},data:h}],animation:p,backgroundColor:"#FFFFFF"};s.setOption(b),n.startTIme=a,n.totalTime=t;for(var f=e.length,y=[],S=[],P=0;P<f;P++)y.push(e[P][0]),S.push(""+e[P][10]);n.missionsName=y,n.collectTimetable=S}else{window.chart_loading||(document.getElementById("PlanDetails_Chart").innerHTML='<div class="spinner-border m-4" id="chart_loading" role="status"><span class="sr-only">Loading...</span></div>');var M=setTimeout(function(){He.printChart(e,t,a)},1e3);this._loadingChart.push(M)}}},{key:"printAll",value:function(e,t,a,n,i,l){this.printShownTab(e),this.printTotalTime(t),this.printGreatSuccessRate(a),this.printExecutionTimes(n),this.printMissions(i),this.printMissionsHourly(i,e),this.printMissionsTotal(i,t,n,e),this.printChart(i,t,l)}}]),He);function He(){u(this,He)}function Ne(e,t){var a=t.value(0),n=t.coord([t.value(1),a]),i=t.coord([t.value(2),a]),l=.5*t.size([0,1])[1],r=echarts.graphic.clipRectByRect({x:n[0],y:n[1]-l/2,width:i[0]-n[0],height:l},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height});return r&&{type:"rect",shape:r,style:t.style()}}function We(){var e=Qe(),t=e.getTotalTime(!1),a=ne(),n=ye(),i=fe();Be.printAll(e.name,t,a,n,Ge.getSelectedMissionsDetails(),i)}Be._chartLastParam={missionsName:[],collectTimetable:[],totalTime:-1,startTIme:-1},Be._loadingChart=[];var Ge=(e(Je,null,[{key:"getSelectedMissions",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e,a=this._selectedMissions.slice();return t?a.sort(M):a}},{key:"setSelectedMissions",value:function(e){this._selectedMissions=e}},{key:"selectMission",value:function(e){this._selectedMissions.push(e)}},{key:"deleteSelectedMission",value:function(e){var t=0<arguments.length&&void 0!==e?e:this._selectedMissions[0];this._selectedMissions.remove_First(t)}},{key:"getSelectedMissionsDetails",value:function(){for(var e=[],t=this.getSelectedMissions(),a=this._missionsTable,n=0;n<t.length;n++){var i=this.getMissionsTableRowIndex(t[n]);e.push(a[i])}return e}},{key:"getMissionsTable",value:function(e){switch(0<arguments.length&&void 0!==e?e:"default"){case"default":return this._missionsTable.slice();case"quick":return this._missionsTable;case"missionSort":var t=this._missionsTable.slice();return a(t,0),t}}},{key:"getMissionsTableRowIndex",value:function(e){for(var t=-1,a=this._missionsTable.length,n=0;n<a;n++)if(e===this._missionsTable[n][0]){t=n;break}return t}},{key:"setMissionsTable",value:function(){var e=Qe();this._missionsTable=e.getQValid(!1),this._sortMissionsTable("Mission")}},{key:"_sortMissionsTable",value:function(e){switch(e){case"Mission":a(this._missionsTable,0);break;case"Manp":m(this._missionsTable,1);break;case"Ammu":m(this._missionsTable,2);break;case"Rati":m(this._missionsTable,3);break;case"Part":m(this._missionsTable,4);break;case"TPro":m(this._missionsTable,5);break;case"Equi":m(this._missionsTable,6);break;case"QPro":m(this._missionsTable,7);break;case"QRes":m(this._missionsTable,8);break;case"Time":T(this._missionsTable,9)}}},{key:"print",value:function(e){void 0!==e?this._sortMissionsTable(e):this.setMissionsTable();var t=this._missionsTable,a=t.length,n=this.getSelectedMissions(),i=60;K()||(i=Qe().getTotalTime(!1));for(var l="",r=0;r<a;r++){l+='<tr id="MissionTable_'+r+'" tabindex="0"';for(var o=0;o<n.length;o++)if(n[o]===t[r][0]){n.splice(o,1),l+='class="table-success"';break}l+="><td>"+t[r][0]+"</td>";for(var s=1;s<9;s++)l+="<td>"+v(t[r][s]*i)+"</td>";l+="<td>"+p(t[r][9])+"</td>",l+="</tr>"}for(var u=0;u<n.length;u++)this._selectedMissions.remove_First(n[u]);0===a&&(l='<tr><td colspan="10">'+g.JS.NoMission+"</td></tr>"),document.getElementById("MissionTable_tbody").innerHTML=l}}]),Je);function Je(){u(this,Je)}function Oe(e,t){Ot.print(e,t),Ut.print();var a=Ge.getSelectedMissions();4===a.length&&qe(a)}function qe(e){for(var t=Ot.getLastResultsPlan().slice(),a=t.length,n=0;n<a;n++)if(e[0]===t[n][1]&&e[1]===t[n][2]&&e[2]===t[n][3]&&e[3]===t[n][4]){$("#print_result_plan_tr_"+n).addClass("table-success");break}}function Ue(){for(var e=Ot.getLastResultsPlan().length,t=0;t<e;t++){var a=$("#print_result_plan_tr_"+t);if(a.hasClass("table-success")){a.removeClass("table-success");break}}}function je(e){var t=$("#print_result_plan_tr_"+e);if(t.hasClass("table-success"))t.removeClass("table-success");else{for(var a=Ot.getLastResultsPlan(),n=a.length,i=0;i<n;i++){var l=$("#print_result_plan_tr_"+i);l.hasClass("table-success")&&l.removeClass("table-success")}t.addClass("table-success");for(var r=Ge.getSelectedMissions(!1),o=0;o<r.length;o++){var s=Ge.getMissionsTableRowIndex(r[o]);$("#MissionTable_"+s).removeClass("table-success")}for(var u=0;u<4;u++)r[u]=a[e][u+1];Ge.setSelectedMissions(r),We();for(var c=0;c<4;c++){var _=Ge.getMissionsTableRowIndex(r[c]);$("#MissionTable_"+_).addClass("table-success")}}}function ze(e){var t=$("#MissionTable_"+e);if(t.hasClass("table-success")){t.removeClass("table-success");var a=Ge.getMissionsTable("quick")[e][0];Ge.deleteSelectedMission(a),We(),Ze()&&Ue()}else{t.addClass("table-success");var n=Ge.getSelectedMissions(!1);if(4===n.length){var i=Ge.getMissionsTableRowIndex(n[0]);$("#MissionTable_"+i).removeClass("table-success"),Ge.deleteSelectedMission()}var l=Ge.getMissionsTable("quick")[e][0];if(Ge.selectMission(l),We(),Ze()&&Ue(),3<=n.length&&Ze())qe(Ge.getSelectedMissions())}}function Ze(){var e=document.getElementById("Plan_Table").innerHTML;return""!==e&&e!==g.JS.NoPlan}function Ke(e){switch(e){case"zh-CN":if(g.lang===i.lang)return;H("Lang","zh-CN"),g=i;break;case"zh-TW":if(g.lang===l.lang)return;H("Lang","zh-TW"),g=l;break;case"en":if(g.lang===r.lang)return;H("Lang","en"),g=r}De()}function Xe(e,t){var a=!(1<arguments.length&&void 0!==t)||t,n=$("#Tab_Timetable"),i=$("#Tab_Anytime");if(Qe().name!==e){switch(e){case"Anytime":a&&$("#Tab_Anytime_name").tab("show"),n.removeClass("active show"),i.addClass("active");break;case"Timetable":a&&$("#Tab_Timetable_name").tab("show"),i.removeClass("active show"),n.addClass("active")}H("TabName",e)}}function Ye(){H("HourlyOrTotal","PerHour"),$("#Demand").html(g.HTMLJS.Demand_hour);for(var e=Qe().getTotalTime(),t=le(),a=0;a<8;a++)t[a]=Math.round(t[a]/e*6e3)/100;oe(t),Ge.print(),Ze()&&Oe()}function et(){H("HourlyOrTotal","Total"),$("#Demand").html(g.HTMLJS.Demand_total);for(var e=Qe().getTotalTime(),t=le(),a=0;a<8;a++)t[a]=Math.round(t[a]*e*100/60)/100;oe(t),Ge.print(),Ze()&&Oe()}function tt(e){var t=h(e),a=e.indexOf(t),n=e.slice(0,a-1),i=h(n);"0"===i[0]&&(i="0."+i.slice(1));var l=parseFloat(i);"m"===n.slice(7,8)&&(l*=-1);var r=$("#"+t);oe(le(r,!1)+l,r)}function at(){"none"===document.getElementById("start_ranking").style.display&&($("#Time_Anytime_hours").removeAttr("disabled"),$("#Time_Anytime_minutes").removeAttr("disabled"),$("#Tab_Anytime_MinimumIntervalTime_minutes").removeAttr("disabled"),0===W.length&&($("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")),$("#tab_Timetable_deleteall").removeAttr("disabled"),$("button[id^=Tab_Timetable_range_thumb_]").removeAttr("disabled"),$("#Tab_Timetable_new_hours").removeAttr("disabled"),$("#Tab_Timetable_new_minutes").removeAttr("disabled"),$("#Tab_Timetable_AddNewTimePoint").removeAttr("disabled"),$("#GreatSuccessRate").removeAttr("disabled"),$("#GreatSuccessRateUp_btn").removeAttr("disabled"),$("#GreatSuccessRateUp_btn").removeClass("disabled"),$("#ChapterLimit").removeAttr("disabled"),$("#calcTargetValueTool_apply").removeAttr("disabled"),$("#ContractWeight").removeAttr("disabled"),$("button[id^=setTarget_]").removeAttr("disabled"),$("#MT").removeAttr("disabled"),$("#AT").removeAttr("disabled"),$("#RT").removeAttr("disabled"),$("#PT").removeAttr("disabled"),$("#TT").removeAttr("disabled"),$("#ET").removeAttr("disabled"),$("#QPT").removeAttr("disabled"),$("#QRT").removeAttr("disabled"),$("button[id^=Target_minus_]").removeAttr("disabled"),$("button[id^=Target_plus_]").removeAttr("disabled"),document.getElementById("start_ranking").style.display="",document.getElementById("clear_ranking").style.display="none")}function nt(){document.getElementById("start_ranking_html").style.display="",document.getElementById("FineTuning").innerHTML="",document.getElementById("Plan_Table").innerHTML="",window.FineTuning_JS&&Ut.clear(),window.ResultsPlan_JS&&Ot.clear()}Ge._missionsTable=[],Ge._selectedMissions=[];var it=(e(lt,null,[{key:"getSaved",value:function(){return this._saved.slice()}},{key:"saveThisPlan",value:function(){99<=this._saved.length?E.alert(g.JS.Saved_alert2):E.prompt(g.JS.plzInputPlanName,g.JS.Saved_prompt_title,lt._saveThisPlan_ok,function(){},"text",g.JS.planDefaultName,lt.checkNameValid,function(e){return""},lt.invalidNameFeedback)}},{key:"_saveThisPlan_ok",value:function(e){var t={};t.name=e,t.GSRate=X(),t.is_UP=ee(),t.Chapter=de();var a=Qe();t.TabName=a.name,t.TabCustom=a.getSavedCustom(),t.Missions=Ge.getSelectedMissions(),t.startTime=fe(),lt._saved.push(t),H("Saved",lt._saved),lt._printLastSaved()}},{key:"checkNameValid",value:function(e){return""!==e&&e.length<=50}},{key:"invalidNameFeedback",value:function(e){return""===e?g.JS.Saved_invalidNameFeedback1:50<=e.length?g.JS.Saved_invalidNameFeedback2:""}},{key:"_printLastSaved",value:function(){var e=this._saved.length-1;0==e&&(document.getElementById("NoSaved").style.display="none");var t=this._getSavedRowHTML(e);$("#Saved_Body").append(t),-1!==this._selectRow&&this._selectRow===this._saved.length-2&&$("#moveSaved_down").removeAttr("disabled")}},{key:"_getSavedRowHTML",value:function(e,t){return'<a class="list-group-item list-group-item-action" tabindex="0" id="SavedTable_row_'+e+'">'+(1<arguments.length&&void 0!==t?t:this._saved)[e].name+"</a>"}},{key:"clickThisRow",value:function(e){$("#SavedTable_row_"+e).hasClass("list-group-item-success")?this._cancelSelectThisRow(e):this._selectThisRow(e)}},{key:"_cancelSelectThisRow",value:function(e){this._selectRow=-1,$("#SavedTable_row_"+e).removeClass("list-group-item-success"),$("#exportSaved_button").attr("disabled","true"),$("#renameSaved_button").attr("disabled","true"),$("#moveSaved_up").attr("disabled","true"),$("#moveSaved_down").attr("disabled","true"),$("#deleteSaved").attr("disabled","true")}},{key:"_selectThisRow",value:function(e){-1!==this._selectRow?$("#SavedTable_row_"+this._selectRow).removeClass("list-group-item-success"):(window.md5&&window.LZString&&$("#exportSaved_button").removeAttr("disabled"),$("#renameSaved_button").removeAttr("disabled"),$("#deleteSaved").removeAttr("disabled")),this._selectRow=e,$("#SavedTable_row_"+e).addClass("list-group-item-success"),0!==e?$("#moveSaved_up").removeAttr("disabled"):$("#moveSaved_up").attr("disabled","true"),e!==this._saved.length-1?$("#moveSaved_down").removeAttr("disabled"):$("#moveSaved_down").attr("disabled","true"),this._apply(e)}},{key:"_apply",value:function(e){var t=this._saved[e],a=t.TabName;Xe(a),Y(t.GSRate),ie(t.is_UP),me(t.Chapter),Le(a).applySavedCustom(t.TabCustom.slice()),Ge.setSelectedMissions(t.Missions.slice()),function(e){var t=w(0<arguments.length&&void 0!==e?e:0);2!==t.indexOf(":")&&(t="0"+t),$("#PlanDetails_InputStartTime").val(t)}(t.startTime),nt(),at(),Ge.print(),We()}},{key:"getSelectedName",value:function(){return this._saved[this._selectRow].name}},{key:"renameSelected",value:function(){var e=this._selectRow,t=$("#renameSaved_input").val();this._saved[e].name=t,$("#SavedTable_row_"+e).html(t),H("Saved",this._saved)}},{key:"moveSelected_up",value:function(){var e=this._selectRow;$("#SavedTable_row_"+e).removeClass("list-group-item-success"),$("#SavedTable_row_"+(e-1)).addClass("list-group-item-success"),$("#SavedTable_row_"+e).html(this._saved[e-1].name),$("#SavedTable_row_"+(e-1)).html(this._saved[e].name);var t=[this._saved[e-1],this._saved[e]];this._saved[e]=t[0],this._saved[e-1]=t[1],this._selectRow--,$("#moveSaved_down").removeAttr("disabled"),0===this._selectRow&&$("#moveSaved_up").attr("disabled","true"),H("Saved",this._saved)}},{key:"moveSelected_down",value:function(){var e=this._selectRow;$("#SavedTable_row_"+e).removeClass("list-group-item-success"),$("#SavedTable_row_"+(e+1)).addClass("list-group-item-success"),$("#SavedTable_row_"+e).html(this._saved[e+1].name),$("#SavedTable_row_"+(e+1)).html(this._saved[e].name);var t=[this._saved[e+1],this._saved[e]];this._saved[e]=t[0],this._saved[e+1]=t[1],this._selectRow++,$("#moveSaved_up").removeAttr("disabled"),this._selectRow===this._saved.length-1&&$("#moveSaved_down").attr("disabled","true"),H("Saved",this._saved)}},{key:"exportSelected",value:function(){var e=this._selectRow,t=this._saved[e],a={data:t,MD5:md5(JSON.stringify(t))},n=JSON.stringify(a);n=LZString.compressToEncodedURIComponent(n),$("#exportSaved_input").val(n)}},{key:"deleteSelected",value:function(){var e=this._selectRow,t=this._saved[e].name,a=g.JS.deleteSavedWarning_1+'"'+t+'"'+g.JS.deleteSavedWarning_2;E.confirm(a,function(){lt._deleteSelected_ok(e)})}},{key:"_deleteSelected_ok",value:function(e){this._cancelSelectThisRow(e);for(var t=e;t<this._saved.length-1;t++)$("#SavedTable_row_"+t).html(this._saved[t+1].name);var a=document.getElementById("SavedTable_row_"+(this._saved.length-1));document.getElementById("Saved_Body").removeChild(a),this._saved.splice(e,1),0===this._saved.length&&(document.getElementById("NoSaved").style.display="")}},{key:"import",value:function(e){if(9<=this._saved.length)E.alert(g.JS.Saved_alert2);else{var t=LZString.decompressFromEncodedURIComponent(e);try{var a=JSON.parse(t),n=md5(JSON.stringify(a.data))===a.MD5}catch(e){}n?(this._saved.push(a.data),H("Saved",this._saved),this._printLastSaved()):E.alert(g.JS.Saved_alert)}}},{key:"setSaved",value:function(e){if(this.cancelSelected(),0===(this._saved=e).length)document.getElementById("NoSaved").style.display="",document.getElementById("Saved_Body").innerHTML="";else{document.getElementById("NoSaved").style.display="none";for(var t="",a=0;a<this._saved.length;a++)t+=this._getSavedRowHTML(a);document.getElementById("Saved_Body").innerHTML=t}return H("Saved",this._saved),!0}},{key:"cancelSelected",value:function(){var e=this._selectRow;-1!==e&&this._cancelSelectThisRow(e)}}]),lt);function lt(){u(this,lt)}function rt(e){Xe("Timetable"===(0<arguments.length&&void 0!==e?e:N("TabName"))?"Timetable":"Anytime")}function ot(e){"PerHour"===(0<arguments.length&&void 0!==e?e:N("HourlyOrTotal"))?(H("HourlyOrTotal","PerHour"),document.getElementById("Display_PerHour").checked=!0):(H("HourlyOrTotal","Total"),document.getElementById("Display_Total").checked=!0)}function st(e){var t=0<arguments.length&&void 0!==e?e:N("TabAnytimeCustom");"noStorage"!==t&&(new Re).applySavedCustom(t)}function ut(e){var t=0<arguments.length&&void 0!==e?e:N("TabTimetableCustom");"noStorage"!==t&&(new Ie).applySavedCustom(t)}function ct(e){var t=0<arguments.length&&void 0!==e?e:N("GreatSuccessRate");"noStorage"!==t&&Y(t)}function _t(e){var t=0<arguments.length&&void 0!==e?e:N("Is_GreatSuccessRateUP");"noStorage"!==t&&ie(t,!1)}function dt(e){var t=0<arguments.length&&void 0!==e?e:N("ChapterLimit");"noStorage"!==t&&me(t)}function mt(e){var t=0<arguments.length&&void 0!==e?e:N("ContractWeight");"noStorage"!==t&&_e(t)}function Tt(e){var t=0<arguments.length&&void 0!==e?e:N("TargetValue");"noStorage"!==t&&oe(t)}function gt(e){var t=0<arguments.length&&void 0!==e?e:N("Saved");"noStorage"!==t&&it.setSaved(t)}function ht(e,t,a){var n=0<arguments.length&&void 0!==e?e:N("CalcTargetValueTool_Target"),i=1<arguments.length&&void 0!==t?t:N("CalcTargetValueTool_Current"),l=2<arguments.length&&void 0!==a?a:N("CalcTargetValueTool_ExecutionTimes");"noStorage"!==n&&Pe(n),"noStorage"!==i&&we(i),"noStorage"!==l&&Ce(l)}it._saved=[],it._selectRow=-1;function vt(e){try{var t=JSON.parse(e),a=sha1(JSON.stringify(t.data))===t.SHA1}catch(e){}if(a)n=t.data,(i={version:"0.x.x"}).TabName=n[0],i.HourlyOrTotal=n[1],i.TabAnytimeCustom=n[2],i.TabTimetableCustom=n[3],i.GreatSuccessRate=n[4],i.Is_GreatSuccessRateUp=n[5],i.ChapterLimit=n[6],i.ContractWeight=n[7],i.TargetValue=n[8],i.Saved=B(n[9]),i.CalcTargetValueTool_Target=n[10],i.CalcTargetValueTool_Current=n[11],i.CalcTargetValueTool_Execution=n[12],pt(i),nt(),at();else{try{e=LZString.decompressFromBase64(e);t=JSON.parse(e),a=sha1(JSON.stringify(t.data))===t.SHA1}catch(e){}a?(pt(t.data),nt(),at()):E.alert(g.JS.Saved_alert)}var n,i}function pt(e){rt(e.TabName),ot(e.HourlyOrTotal),st(e.TabAnytimeCustom),ut(e.TabTimetableCustom),ct(e.GreatSuccessRate),_t(e.Is_GreatSuccessRateUp),dt(e.ChapterLimit),mt(e.ContractWeight),Tt(e.TargetValue),gt(e.Saved),ht(e.CalcTargetValueTool_Target,e.CalcTargetValueTool_Current,e.CalcTargetValueTool_Execution),Ge.setSelectedMissions([]),Ge.print(),We()}!0!==(F=function(){try{var e=Math.random(),t=Math.random();localStorage.setItem("test_PzrJwG"+e,"Rx3IyFdmJMji0Alo"+t);var a=localStorage.getItem("test_PzrJwG"+e)=="Rx3IyFdmJMji0Alo"+t;return localStorage.removeItem("test_PzrJwG"+e),a}catch(e){return!1}}()&&function(){try{var e=Math.random(),t=Math.random();sessionStorage.setItem("test_QQ15L2X"+e,"MVQYqpFNO8WU6Flc"+t);var a=sessionStorage.getItem("test_QQ15L2X"+e)=="MVQYqpFNO8WU6Flc"+t;return sessionStorage.removeItem("test_QQ15L2X"+e),a}catch(e){return!1}}())?(F=!1,document.getElementById("localstorageWarning").style.display="none",document.getElementById("neverShowAgain_description").style.display="none",document.getElementById("description").style.paddingRight="1.25rem"):(document.getElementById("localstorageDoesNotWork").style.display="none","failed"===sessionStorage.getItem("GF_Logistics_windowOnload")&&function(){var e=localStorage.getItem(D),t=localStorage.getItem("GF_Logistics"),a={};a.userAgent=navigator.userAgent,a.appName=navigator.appName,a.appCodeName=navigator.appCodeName,a.appVersion=navigator.appVersion,a.appMinorVersion=navigator.appMinorVersion,a.platform=navigator.platform,a.cookieEnabled=navigator.cookieEnabled,a.onLine=navigator.onLine,a.language=navigator.language,a.localStorage_v0=t,a.localStorage_v1=e,a.console=sessionStorage.getItem("GF_Logistics_console");var n='<div class="alert alert-danger" style="color:#000000; cursor: default;">';n+=i.JS.FailedWindowLoadWarn+"<br>",n+=l.JS.FailedWindowLoadWarn+"<br>",n+=r.JS.FailedWindowLoadWarn+"<br>",n+='<br><code style="color:#000000; cursor:auto">',n+=JSON.stringify(a),n+="</code></div>",$("#description").before(n),sessionStorage.removeItem("GF_Logistics_windowOnload"),localStorage.removeItem(D),localStorage.removeItem("GF_Logistics")}(),sessionStorage.setItem("GF_Logistics_windowOnload","failed")),F&&null===localStorage.getItem(D)&&function(){var e="GF_Logistics",t=localStorage.getItem(e);if(null===t)return;try{var a=JSON.parse(t);t=a}catch(e){console.error("v0storage, storage: "+t),t={}}var n={};n.Lang=t.lang,n.Description_Display=t.Description_Display,n.LocalstorageWarning_Display=t.LocalstorageWarning_Display,n.TabName=t.HTML_TAB,n.HourlyOrTotal=t.PerHourOrTotal,n.TabAnytimeCustom=t.TabAnytimeCustom,n.TabTimetableCustom=t.TabTimetableCustom,n.GreatSuccessRate=t.GreatSuccessRate,n.Is_GreatSuccessRateUP=t.is_GreatSuccessRateUP,n.ChapterLimit=t.SelectChapter,n.ContractWeight=t.ContractWeight,n.TargetValue=t.TargetValue,n.Saved=B(t.SAVED),n.IsSavedPanelShow=t.IsSavedShow,n.CalcTargetValueTool_Target=t.CalcTargetValueTool_Target,n.CalcTargetValueTool_Current=t.CalcTargetValueTool_Current,n.CalcTargetValueTool_ExecutionTimes=t.CalcTargetValueTool_ExecutionTimes;var i=JSON.stringify(n);localStorage.setItem("GF_Logistics_v1.x.x",i),localStorage.removeItem(e)}(),function(){var e=N("Lang");if("noStorage"===e&&(e=navigator.language||navigator.userLanguage),"zh"===e.substr(0,2))switch(e){case"zh-HK":case"zh-TW":case"zh-MO":g=l,H("Lang","zh-TW");break;default:g=i,H("Lang","zh-CN")}else g=r,H("Lang","en")}(),function(){var e="";e+='<button type="button" class="btn btn-outline-dark btn-regular"id="setTarget_HG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-outline-dark btn-regular"id="setTarget_SMG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-outline-dark btn-regular"id="setTarget_RF" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-outline-dark btn-regular"id="setTarget_AR" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-outline-dark btn-regular"id="setTarget_MG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-outline-dark btn-regular"id="setTarget_SG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-outline-dark btn-regular"id="setTarget_2221" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-danger btn-regular"id="setTarget_Clear" style="margin-right: 5px; margin-bottom: 5px;"></button>',document.getElementById("setTargetButton").innerHTML=e,e="";for(var t=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],a=["MT","AT","RT","PT","TT","ET","QPT","QRT"],n=0;n<4;n++)e+='<div class="input-group input-group-regular" style="margin-bottom: 10px;"><span class="input-group-span input-group-text"style="padding-right:10px;padding-left:10px;"',e+="id="+t[n]+">",e+='</span><button class="btn btn-outline-dark input-group-btn btn-bolder"type="button"id="Target_minus_100_'+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='&minus;</button><button class="btn btn-outline-dark input-group-btn target-btn-hidden"type="button"id="Target_minus_10_'+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='&minus;</button><input type="number" min="0"class="form-control"id="',e+=a[n],e+='"value=0 onfocus="this.select();"style="border-left-width:0"><button class="btn btn-outline-dark input-group-btn target-btn-hidden"type="button"id="Target_plus_10_'+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='+</button><button class="btn btn-outline-dark input-group-btn btn-bolder"type="button"id="Target_plus_100_'+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+="&plus;</button></div>";for(var i=4;i<8;i++)e+='<div class="input-group input-group-regular" style="margin-bottom: 10px;"><span class="input-group-span input-group-text"style="padding-right:10px;padding-left:10px;"',e+="id="+t[i]+">",e+='</span><button class="btn btn-outline-dark input-group-btn btn-bolder"id="Target_minus_1_'+a[i]+'"type="button"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='&minus;</button><button class="btn btn-outline-dark input-group-btn target-btn-hidden"type="button"id="Target_minus_01_'+a[i]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='&minus;</button><input type="number" min="0" step="0.01" class="form-control"id="',e+=a[i],e+='"value=0 onfocus="this.select();"style="border-left-width:0"><button class="btn btn-outline-dark input-group-btn target-btn-hidden"type="button"id="Target_plus_01_'+a[i]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='+</button><button class="btn btn-outline-dark input-group-btn btn-bolder"type="button"id="Target_plus_1_'+a[i]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+="&plus;</button></div>";document.getElementById("setTargetInput").innerHTML=e}(),function(){for(var e=(x.length-4)/4,t="",a=Fe;a<=e;a++)t+=a===e?"<option value="+a+' id="chapter_'+a+'" selected></option>':"<option value="+a+' id="chapter_'+a+'"></option>';document.getElementById("ChapterLimit").innerHTML=t}(),function(){!1===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:N("Description_Display"))&&(document.getElementById("description").style.display="none")}(),function(){!1===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:N("LocalstorageWarning_Display"))&&(document.getElementById("localstorageWarning").style.display="none")}(),rt(),ot(),st(),ut(),ct(),_t(),dt(),mt(),Tt(),gt(),function(){!0===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:N("IsSavedPanelShow"))&&(0===it.getSaved().length?H("IsSavedPanelShow",!1):(document.getElementById("MissionTable_card").style.transition="none",document.getElementById("Saved_card").style.transition="none",$("#Saved_card").collapse("show"),$("#MissionTable_card").collapse("hide")))}(),ht();var bt=ne(!0);A(bt),Ge.print();var ft=Qe();function yt(e){return 13==e.which}function St(){var e,t=$("#Config_importInput"),a=t.val();"clearCONSOLE"===(e=a)?(C="",F&&sessionStorage.removeItem("GF_Logistics_console")):"clearSTORAGE"===e&&F?(sessionStorage.removeItem("GF_Logistics_console"),sessionStorage.removeItem("GF_Logistics_windowOnload"),localStorage.removeItem("GF_Logistics"),localStorage.removeItem("GF_Logistics_v1.x.x")):"runERROR"!==e?"debug"!==e?0!==it.getSaved().length?E.confirm(g.JS.config_alert,function(){vt(e)}):vt(e):$("#importSaved_input").val(C):(0).getItem(),t.val("")}Be.printShownTab(ft.name),Be.printTotalTime(ft.getTotalTime(!1)),Be.printGreatSuccessRate(bt),Be.printExecutionTimes(ye()),De(),k()&&(document.getElementById("Saved_card").style.transition="none",document.getElementById("MissionTable_card").style.transition="none",document.getElementById("calcTargetValueTool_card").style.transition="none","noStorage"===N("IsSavedPanelShow")&&$("#MissionTable_card").collapse("hide"),document.getElementById("calcTargetValueTool_apply").innerHTML='<span id="calcTargetValueTool_apply_text">'+g.HTML.calcTargetValueTool_apply_text+"</span> &darr;"),F&&sessionStorage.setItem("GF_Logistics_windowOnload","success"),$("#lang-zh").removeAttr("disabled"),$("#lang-en").removeAttr("disabled"),$("#Tab_Anytime_name").attr("data-toggle","tab"),$("#Tab_Anytime_name").attr("href","#Tab_Anytime"),$("#Tab_Timetable_name").attr("data-toggle","tab"),$("#Tab_Timetable_name").attr("href","#Tab_Timetable"),$("#Time_Anytime_hours").removeAttr("disabled"),$("#Time_Anytime_minutes").removeAttr("disabled"),$("#Tab_Anytime_MinimumIntervalTime_minutes").removeAttr("disabled"),0===W.length&&($("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")),$("#GreatSuccessRate").removeAttr("disabled"),$("#ContractWeight").removeAttr("disabled"),$("#PlanDetails_InputStartTime").removeAttr("disabled"),$("#PlanDetails_InputExecutionTimes").removeAttr("disabled"),$("#version").html("version: "+L),$("#lang-zh-CN").on("click",function(){Ke("zh-CN")}),$("#lang-zh-TW").on("click",function(){Ke("zh-TW")}),$("#lang-en").on("click",function(){Ke("en")}),$("#Config_export").on("click",function(){"true"!==$("#Config_export").attr("aria-expanded")&&function(){var e={};e.version=L;var t=Qe();e.TabName=t.name,K()?e.HourlyOrTotal="PerHour":e.HourlyOrTotal="Total";var a=new Re;e.TabAnytimeCustom=a.getSavedCustom(),a=new Ie,e.TabTimetableCustom=a.getSavedCustom(),e.GreatSuccessRate=X(),e.Is_GreatSuccessRateUp=ee(),e.ChapterLimit=de(),e.ContractWeight=ce(),e.TargetValue=le(),e.Saved=it.getSaved(),e.CalcTargetValueTool_Target=Se(),e.CalcTargetValueTool_Current=Me(),e.CalcTargetValueTool_Execution=ke();var n={data:e,SHA1:sha1(JSON.stringify(e))};n=JSON.stringify(n),n=LZString.compressToBase64(n),document.getElementById("Config_exportInput").value=n}()}),$("#Config_importInput").on("keyup",function(e){yt(e)&&St()}),$("#Config_importButton").on("click",function(){St()}),$("#Config_export_group").on("shown.bs.dropdown",function(){var e=$("#Config_exportInput");e.focus(),e.select()}),$("#neverShowAgain_description").on("click",function(){H("Description_Display",!1)}),$("#neverShowAgain_localstorageWarning").on("click",function(){H("LocalstorageWarning_Display",!1)}),$("#Tab_Anytime_name").on("click",function(){"Anytime"!==Qe().name&&(H("TabName","Anytime"),Xe("Anytime",!1),nt(),at(),Ge.print(),We(),it.cancelSelected())}),$("#Tab_Timetable_name").on("click",function(){"Timetable"!==Qe().name&&(H("TabName","Timetable"),Xe("Timetable",!1),nt(),at(),Ge.print(),We(),it.cancelSelected())}),$("input[id^=Display_]").on("click",function(){(K()?Ye:et)()}),$("#Display_PerHour_text").on("keyup",function(e){yt(e)&&(document.getElementById("Display_PerHour").checked=!0,Ye())}),$("#Display_Total_text").on("keyup",function(e){yt(e)&&(document.getElementById("Display_Total").checked=!0,et())});var Pt=$("#GreatSuccessRate");Pt.on("input propertychange",function(){var e=X();ie(ee(),!1),A(e+ae(e)),Ge.print(),We(),it.cancelSelected()}),Pt.blur(function(){H("GreatSuccessRate",X())}),$("#GreatSuccessRateUp").on("click",function(){var e=ee();ie(e),A(ne(!0)),Ge.print(),We(),it.cancelSelected(),H("Is_GreatSuccessRateUP",e)}),$("#ChapterLimit").on("change",function(){Ge.print(),We(),it.cancelSelected(),H("ChapterLimit",de())});var Mt=$("#Time_Anytime_hours"),wt=$("#Time_Anytime_minutes"),kt=$("#Tab_Anytime_MinimumIntervalTime_minutes");function Ct(){H("TabAnytimeCustom",(new Re).getSavedCustom())}Mt.on("input propertychange",function(){4320<Te()&&ge(4320),Ge.print(),We(),it.cancelSelected()}),Mt.blur(function(){Ct()}),wt.on("input propertychange",function(){4320<Te()&&ge(4320),Ge.print(),We(),it.cancelSelected()}),wt.blur(function(){Ct()}),kt.on("input propertychange",function(){Ge.print(),We(),it.cancelSelected()}),kt.blur(function(){Ct()});var $t=$("#Time_Timetable_hours"),Vt=$("#Time_Timetable_minutes");$t.on("input propertychange",function(){G()}),$t.blur(function(){At()}),Vt.on("input propertychange",function(){G()}),Vt.blur(function(){At()});var Rt=$("#Tab_Timetable_new_hours"),xt=$("#Tab_Timetable_new_minutes");function At(){H("TabTimetableCustom",(new Ie).getSavedCustom())}function It(){var e=be(),t=ve();switch(!0){case 0===e:E.alert(g.JS.tab_Timetable_alert1);break;case t<e:E.alert(g.JS.tab_Timetable_alert2);break;case e===t||-1!==W.indexOf(e):E.alert(g.JS.tab_Timetable_alert3);break;default:!function(e){W.push(e),d(W);var t=ve(),a=W.length,n=W.indexOf(e);if(n===a-1){var i=e/t*100+"%",l=U(e,i);l+=j(e,i,n),$("#Tab_Timetable_range").append(l)}else{var r=q(t,W);document.getElementById("Tab_Timetable_range").innerHTML=r}}(e)}(0===W.length?z:Z)(),Ge.print(),We(),it.cancelSelected(),At()}Rt.keyup(function(e){yt(e)&&xt.focus()}),xt.keyup(function(e){yt(e)&&(""!==Rt.val()&&Rt.focus(),It())}),$("#Tab_Timetable_AddNewTimePoint").on("click",function(){It()}),$("#Tab_Timetable_range").on("click","button[id^=Tab_Timetable_range_thumb_]",function(){!function(e){if(W.indexOf(e)===W.length-1){var t="Tab_Timetable_range_thumb_"+e,a="Tab_Timetable_range_tooltip_"+e,n=document.getElementById(t),i=document.getElementById(a),l=document.getElementById("Tab_Timetable_range");l.removeChild(n),l.removeChild(i),W.remove_First(e)}else W.remove_First(e),J(W);0===W.length&&z()}(parseFloat(h(this.id))),Ge.print(),We(),it.cancelSelected(),At()}),$("#tab_Timetable_deleteall").on("click",function(){!function(){if(0!==W.length){W=[];var e=O(ve());document.getElementById("Tab_Timetable_range").innerHTML=e,z()}}(),Ge.print(),We(),it.cancelSelected(),At()});var Et=$("#target");function Qt(){H("TargetValue",le())}function Lt(){document.getElementById("ranking_loading").style.display="none",$("#start_ranking").removeAttr("disabled")}Et.on("click","button[id^=setTarget_]",function(){!function(e){switch(e){case"HG":oe([130,130,130,130,0,0,0,0]);break;case"SMG":oe([430,430,130,230,0,0,0,0]);break;case"RF":oe([430,130,430,230,0,0,0,0]);break;case"AR":oe([130,430,430,130,0,0,0,0]);break;case"MG":oe([730,630,130,430,0,0,0,0]);break;case"SG":oe([800,200,800,400,0,0,0,0]);break;case"2221":oe([400,400,400,200,0,0,0,0]);break;case"Clear":oe(),_e()}}(h(this.id))}),$("#ContractWeight").change(function(){H("ContractWeight",ce())}),Et.on("click","button[id^=Target_minus_]",function(){tt(this.id)}),Et.on("click","button[id^=Target_plus_]",function(){tt(this.id)}),Et.on("blur","#MT",function(){Qt()}),Et.on("keyup","#MT",function(e){yt(e)&&$("#AT").focus()}),Et.on("blur","#AT",function(){Qt()}),Et.on("keyup","#AT",function(e){yt(e)&&$("#RT").focus()}),Et.on("blur","#RT",function(){Qt()}),Et.on("keyup","#RT",function(e){yt(e)&&$("#PT").focus()}),Et.on("blur","#PT",function(){Qt()}),Et.on("keyup","#PT",function(e){yt(e)&&$("#TT").focus()}),Et.on("blur","#TT",function(){Qt()}),Et.on("keyup","#TT",function(e){yt(e)&&$("#ET").focus()}),Et.on("blur","#ET",function(){Qt()}),Et.on("keyup","#ET",function(e){yt(e)&&$("#QPT").focus()}),Et.on("blur","#QPT",function(){Qt()}),Et.on("keyup","#QPT",function(e){yt(e)&&$("#QRT").focus()}),Et.on("blur","#QRT",function(){Qt()}),$("#start_ranking").on("click",function(){$("#start_ranking").attr("disabled","true"),document.getElementById("ranking_loading").style.display="",setTimeout(na,1),setTimeout(Lt,1)}),$("#clear_ranking").on("click",function(){nt(),at()});var Ft=$("#Plan_Table");function Dt(e){var t,a=h(e);"Mission"===a&&(a="Ranking"),a!==Ot.getLastSortBy()&&(t=a,Oe(Ot.getLastResultsPlan(),t))}Ft.on("click","tr[id^=print_result_plan_tr_]",function(){je(parseInt(h(this.id)))}),Ft.on("keyup","tr[id^=print_result_plan_tr_]",function(e){yt(e)&&je(parseInt(h(this.id)))}),Ft.on("click","th[id^=resultPlan_]",function(){Dt(this.id)}),Ft.on("keyup","th[id^=resultPlan_]",function(e){yt(e)&&Dt(this.id)});var Bt=$("#FineTuning");Bt.on("click","button[id^=FineTuning_minus_]",function(){ia(-1,h(this.id))}),Bt.on("click","button[id^=FineTuning_plus_]",function(){ia(1,h(this.id))}),$("#importSaved_input").on("keyup",function(e){yt(e)&&Gt()}),$("#importSaved_importButton").on("click",function(){Gt()}),$("#exportSaved_button").on("click",function(){"true"!==$("#exportSaved_button").attr("aria-expanded")&&it.exportSelected()});var Ht=$("#renameSaved_input"),Nt=$("#renameSaved_applyButton");$("#renameSaved_button").on("click",function(){if("true"!==$("#renameSaved_button").attr("aria-expanded")){var e=it.getSelectedName(),t=Ht;t.removeClass("is-valid is-invalid"),it.checkNameValid(e)?(t.addClass("is-valid"),Nt.removeAttr("disabled")):(t.addClass("is-invalid"),Nt.attr("disabled","true")),t.val(e),t.focus()}}),Ht.on("keyup",function(e){var t=Ht.val();yt(e)&&it.checkNameValid(t)&&Nt.click()}),Ht.on("input propertychange",function(){var e=Ht,t=e.val();e.removeClass("is-valid is-invalid"),it.checkNameValid(t)?(e.addClass("is-valid"),Nt.removeAttr("disabled")):(e.addClass("is-invalid"),Nt.attr("disabled","true"))}),Nt.on("click",function(){it.renameSelected()}),$("#moveSaved_up").on("click",function(){it.moveSelected_up()}),$("#moveSaved_down").on("click",function(){it.moveSelected_down()}),$("#deleteSaved").on("click",function(){it.deleteSelected()});var Wt=$("#Saved_Body");function Gt(){var e=$("#importSaved_input"),t=e.val();it.import(t),e.val("")}Wt.on("click","a[id^=SavedTable_row_]",function(){it.clickThisRow(parseInt(h(this.id)))}),Wt.on("keydown","a[id^=SavedTable_row_]",function(e){yt(e)&&it.clickThisRow(parseInt(h(this.id)))}),$("#exportSaved_group").on("shown.bs.dropdown",function(){$("#exportSaved_input").focus()}),$("#renameSaved_group").on("shown.bs.dropdown",function(){Ht.focus()}),$("th[id^=MissionTable_head_]").on("click",function(){Ge.print(h(this.id))}),$("th[id^=MissionTable_head_]").on("keyup",function(e){yt(e)&&Ge.print(h(this.id))}),$("#MissionTable_tbody").on("click","tr[id^=MissionTable_]",function(){ze(parseInt(h(this.id))),it.cancelSelected()}),$("#MissionTable_tbody").on("keyup","tr[id^=MissionTable_]",function(e){yt(e)&&(ze(parseInt(h(this.id))),it.cancelSelected())});var Jt=$("#MissionTable_card");Jt.on("shown.bs.collapse",function(){H("IsSavedPanelShow",!1)}),Jt.on("hidden.bs.collapse",function(){k()||(document.getElementById("MissionTable_card").style.transition="")}),$("#Saved_card").on("shown.bs.collapse",function(){H("IsSavedPanelShow",!0),k()||(document.getElementById("Saved_card").style.transition="")}),$("#savePlan").on("click",function(){it.saveThisPlan()}),$("#Capture").on("click",function(){html2canvas(document.getElementById("PlanDetails")).then(function(e){if(window.navigator.msSaveBlob){for(var t=atob(e.toDataURL().split(",")[1]),a=t.length,n=new Uint8Array(a);a--;)n[a]=t.charCodeAt(a);var i=new Blob([n]);navigator.msSaveBlob(i,"Capture.png")}else{var l=document.createElement("a");l.download="Capture.png",l.href=e.toDataURL(),l.click()}})}),$("#PlanDetails_InputStartTime").on("input propertychange",function(){if(it.cancelSelected(),0!==Ge.getSelectedMissions(!1).length){var e=Ge.getSelectedMissionsDetails(),t=Qe().getTotalTime(!1);Be.printChart(e,t,fe())}}),$("#PlanDetails_InputExecutionTimes").on("input propertychange",function(){if(Be.printExecutionTimes(ye()),0!==Ge.getSelectedMissions(!1).length){var e=Ge.getSelectedMissionsDetails(),t=Qe(),a=t.getTotalTime(!1),n=ye();Be.printMissionsTotal(e,a,n,t.name)}}),$("input[id^=calcTargetValueTool_Target_]").on("focus",function(){this.select()}),$("input[id^=calcTargetValueTool_Current_]").on("focus",function(){this.select()}),$("#calcTargetValueTool_clear").on("click",function(){!function(){Pe(),we(),Ce();for(var e=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],t=0;t<8;t++)$("#calcTargetValueTool_Result_"+e[t]+"_value").html("")}()}),$("#calcTargetValueTool_startCalc").on("click",function(){la()}),$("#calcTargetValueTool_apply").on("click",function(){!function(){var e=la();if(K())for(var t=Qe().getTotalTime()/60,a=0;a<8;a++)e[a]/=t;oe(e)}()}),$("input[id^=calcTargetValueTool_Target_]").on("blur",function(){H("CalcTargetValueTool_Target",Se())}),$("input[id^=calcTargetValueTool_Current_]").on("blur",function(){H("CalcTargetValueTool_Current",Me())}),$("#calcTargetValueTool_InputExecutionTimes").on("blur",function(){H("CalcTargetValueTool_ExecutionTimes",ke())}),$("#calcTargetValueTool_Target_Manp").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Target_Ammu").focus()}),$("#calcTargetValueTool_Target_Ammu").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Target_Rati").focus()}),$("#calcTargetValueTool_Target_Rati").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Target_Part").focus()}),$("#calcTargetValueTool_Target_Part").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Target_TPro").focus()}),$("#calcTargetValueTool_Target_TPro").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Target_Equi").focus()}),$("#calcTargetValueTool_Target_Equi").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Target_QPro").focus()}),$("#calcTargetValueTool_Target_QPro").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Target_QRes").focus()}),$("#calcTargetValueTool_Target_QRes").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Current_Manp").focus()}),$("#calcTargetValueTool_Current_Manp").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Current_Ammu").focus()}),$("#calcTargetValueTool_Current_Ammu").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Current_Rati").focus()}),$("#calcTargetValueTool_Current_Rati").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Current_Part").focus()}),$("#calcTargetValueTool_Current_Part").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Current_TPro").focus()}),$("#calcTargetValueTool_Current_TPro").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Current_Equi").focus()}),$("#calcTargetValueTool_Current_Equi").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Current_QPro").focus()}),$("#calcTargetValueTool_Current_QPro").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_Current_QRes").focus()}),$("#calcTargetValueTool_Current_QRes").on("keyup",function(e){yt(e)&&$("#calcTargetValueTool_InputExecutionTimes").focus()})
